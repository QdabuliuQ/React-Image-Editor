const __vite__fileDeps=["assets/circle-BaM-wvMo.js","assets/common-DzlWlZ_w.js","assets/circlebrush-CLAkkh5n.js","assets/image-Nk1P1jsV.js","assets/pencilbrush-Nk1P1jsV.js","assets/rect-0CoQEPmR.js","assets/shape-BaM-wvMo.js","assets/spraybrush-CLAkkh5n.js","assets/triangle-BaM-wvMo.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{R as J,r as zh,a as p,_ as fr,b as ii,c as Jt,d as Zt,s as _o,u as Ii,e as ae,f as ro,g as et,h as ye,i as ee,L as Hh,l as Jr,j as Wa,k as Vh,m as wu,n as Xa,o as ge,p as Ht,q as Ci,t as de,v as hn,C as Ye,w as ll,x as Wh,y as Xh,z as Uh,A as Gh,B as Yh,D as qh,E as Kh,F as sn,G as Qh,I as xu,H as Os,J as it,K as Ua,M as se,N as Eu,O as Se,P as $r,Q as Tt,S as _u,T as Jh,U as wt,V as Yn,W as Fn,X as Zh,Y as ea,Z as $s,$ as Bn,a0 as Tr,a1 as It,a2 as Ga,a3 as e0,a4 as cl,a5 as Ou,a6 as tt,a7 as mi,a8 as yr,a9 as lr,aa as lo,ab as $u,ac as t0,ad as Oo,ae as Ri,af as Tu,ag as n0,ah as r0,ai as Ya,aj as i0,ak as o0,al as en,am as Zr,an as $o,ao as Ts,ap as ul,aq as qa,ar as a0,as as ln,at as U,au as s0,av as l0,aw as c0,ax as u0,ay as d0,az as f0,aA as h0,aB as g0,aC as m0,aD as v0,aE as p0,aF as b0,aG as C0,aH as cn,aI as y0,aJ as S0,aK as Wn}from"./index-rPn8ObN7.js";function Pr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return J.Children.forEach(e,function(r){r==null&&!t.keepEmpty||(Array.isArray(r)?n=n.concat(Pr(r)):zh.isFragment(r)&&r.props?n=n.concat(Pr(r.props.children,t)):n.push(r))}),n}var Ka=p.createContext(null);function w0(e){var t=e.children,n=e.onBatchResize,r=p.useRef(0),s=p.useRef([]),v=p.useContext(Ka),C=p.useCallback(function(c,i,f){r.current+=1;var h=r.current;s.current.push({size:c,element:i,data:f}),Promise.resolve().then(function(){h===r.current&&(n==null||n(s.current),s.current=[])}),v==null||v(c,i,f)},[n,v]);return p.createElement(Ka.Provider,{value:C},t)}var Pu=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(s,v){return s[0]===n?(r=v,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},t.prototype.set=function(n,r){var s=e(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,s=e(r,n);~s&&r.splice(s,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,v=this.__entries__;s<v.length;s++){var C=v[s];n.call(r,C[1],C[0])}},t}()}(),Qa=typeof window<"u"&&typeof document<"u"&&window.document===document,co=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),x0=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(co):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),E0=2;function _0(e,t){var n=!1,r=!1,s=0;function v(){n&&(n=!1,e()),r&&c()}function C(){x0(v)}function c(){var i=Date.now();if(n){if(i-s<E0)return;r=!0}else n=!0,r=!1,setTimeout(C,t);s=i}return c}var O0=20,$0=["top","right","bottom","left","width","height","size","weight"],T0=typeof MutationObserver<"u",P0=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_0(this.refresh.bind(this),O0)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!Qa||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),T0?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Qa||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,s=$0.some(function(v){return!!~r.indexOf(v)});s&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Iu=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},ei=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||co},Ru=To(0,0,0,0);function uo(e){return parseFloat(e)||0}function dl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,s){var v=e["border-"+s+"-width"];return r+uo(v)},0)}function I0(e){for(var t=["top","right","bottom","left"],n={},r=0,s=t;r<s.length;r++){var v=s[r],C=e["padding-"+v];n[v]=uo(C)}return n}function R0(e){var t=e.getBBox();return To(0,0,t.width,t.height)}function M0(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Ru;var r=ei(e).getComputedStyle(e),s=I0(r),v=s.left+s.right,C=s.top+s.bottom,c=uo(r.width),i=uo(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+v)!==t&&(c-=dl(r,"left","right")+v),Math.round(i+C)!==n&&(i-=dl(r,"top","bottom")+C)),!A0(e)){var f=Math.round(c+v)-t,h=Math.round(i+C)-n;Math.abs(f)!==1&&(c-=f),Math.abs(h)!==1&&(i-=h)}return To(s.left,s.top,c,i)}var L0=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ei(e).SVGGraphicsElement}:function(e){return e instanceof ei(e).SVGElement&&typeof e.getBBox=="function"}}();function A0(e){return e===ei(e).document.documentElement}function N0(e){return Qa?L0(e)?R0(e):M0(e):Ru}function D0(e){var t=e.x,n=e.y,r=e.width,s=e.height,v=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,C=Object.create(v.prototype);return Iu(C,{x:t,y:n,width:r,height:s,top:n,right:t+r,bottom:s+n,left:t}),C}function To(e,t,n,r){return{x:e,y:t,width:n,height:r}}var j0=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=To(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=N0(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),F0=function(){function e(t,n){var r=D0(n);Iu(this,{target:t,contentRect:r})}return e}(),B0=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new Pu,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ei(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new j0(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ei(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new F0(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Mu=typeof WeakMap<"u"?new WeakMap:new Pu,Lu=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=P0.getInstance(),r=new B0(t,n,this);Mu.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Lu.prototype[e]=function(){var t;return(t=Mu.get(this))[e].apply(t,arguments)}});var k0=function(){return typeof co.ResizeObserver<"u"?co.ResizeObserver:Lu}(),cr=new Map;function z0(e){e.forEach(function(t){var n,r=t.target;(n=cr.get(r))===null||n===void 0||n.forEach(function(s){return s(r)})})}var Au=new k0(z0);function H0(e,t){cr.has(e)||(cr.set(e,new Set),Au.observe(e)),cr.get(e).add(t)}function V0(e,t){cr.has(e)&&(cr.get(e).delete(t),cr.get(e).size||(Au.unobserve(e),cr.delete(e)))}var W0=function(e){fr(n,e);var t=ii(n);function n(){return Jt(this,n),t.apply(this,arguments)}return Zt(n,[{key:"render",value:function(){return this.props.children}}]),n}(p.Component);function X0(e,t){var n=e.children,r=e.disabled,s=p.useRef(null),v=p.useRef(null),C=p.useContext(Ka),c=typeof n=="function",i=c?n(s):n,f=p.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!c&&p.isValidElement(i)&&_o(i),o=h?i.ref:null,u=Ii(o,s),a=function(){var m;return ro(s.current)||(s.current&&et(s.current)==="object"?ro((m=s.current)===null||m===void 0?void 0:m.nativeElement):null)||ro(v.current)};p.useImperativeHandle(t,function(){return a()});var d=p.useRef(e);d.current=e;var g=p.useCallback(function(l){var m=d.current,b=m.onResize,y=m.data,S=l.getBoundingClientRect(),w=S.width,x=S.height,E=l.offsetWidth,_=l.offsetHeight,$=Math.floor(w),I=Math.floor(x);if(f.current.width!==$||f.current.height!==I||f.current.offsetWidth!==E||f.current.offsetHeight!==_){var A={width:$,height:I,offsetWidth:E,offsetHeight:_};f.current=A;var F=E===Math.round(w)?w:E,z=_===Math.round(x)?x:_,D=ae(ae({},A),{},{offsetWidth:F,offsetHeight:z});C==null||C(D,l,y),b&&Promise.resolve().then(function(){b(D,l)})}},[]);return p.useEffect(function(){var l=a();return l&&!r&&H0(l,g),function(){return V0(l,g)}},[s.current,r]),p.createElement(W0,{ref:v},h?p.cloneElement(i,{ref:u}):i)}var U0=p.forwardRef(X0),G0="rc-observer-key";function Y0(e,t){var n=e.children,r=typeof n=="function"?[n]:Pr(n);return r.map(function(s,v){var C=(s==null?void 0:s.key)||"".concat(G0,"-").concat(v);return p.createElement(U0,ye({},e,{key:C,ref:v===0?t:void 0}),s)})}var hr=p.forwardRef(Y0);hr.Collection=w0;function _n(e,t){var n=ae({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}var ct=function(){function e(t,n){Jt(this,e),ee(this,"name",void 0),ee(this,"style",void 0),ee(this,"_keyframe",!0),this.name=t,this.style=n}return Zt(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();const oi=(e,t)=>{const n=p.useContext(Hh),r=p.useMemo(()=>{var v;const C=t||Jr[e],c=(v=n==null?void 0:n[e])!==null&&v!==void 0?v:{};return Object.assign(Object.assign({},typeof C=="function"?C():C),c||{})},[e,t,n]),s=p.useMemo(()=>{const v=n==null?void 0:n.locale;return n!=null&&n.exist&&!v?Jr.locale:v},[n]);return[r,s]},xi=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Nu(e,t,n){return t=Wa(t),Vh(e,wu()?Reflect.construct(t,[],Wa(e).constructor):t.apply(e,n))}let Du=Zt(function e(){Jt(this,e)});const ju="CALC_UNIT",q0=new RegExp(ju,"g");function ta(e){return typeof e=="number"?`${e}${ju}`:e}let K0=function(e){function t(n){var r;return Jt(this,t),r=Nu(this,t),r.result="",n instanceof t?r.result=`(${n.result})`:typeof n=="number"?r.result=ta(n):typeof n=="string"&&(r.result=n),r}return fr(t,e),Zt(t,[{key:"add",value:function(r){return r instanceof t?this.result=`${this.result} + ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} + ${ta(r)}`),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof t?this.result=`${this.result} - ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} - ${ta(r)}`),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof t?this.result=`${this.result} * ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} * ${r}`),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof t?this.result=`${this.result} / ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} / ${r}`),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?`(${this.result})`:this.result}},{key:"equal",value:function(r){const{unit:s=!0}=r||{};return this.result=this.result.replace(q0,s?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}])}(Du),Q0=function(e){function t(n){var r;return Jt(this,t),r=Nu(this,t),r.result=0,n instanceof t?r.result=n.result:typeof n=="number"&&(r.result=n),r}return fr(t,e),Zt(t,[{key:"add",value:function(r){return r instanceof t?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof t?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof t?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof t?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}])}(Du);const J0=e=>{const t=e==="css"?K0:Q0;return n=>new t(n)};function na(e){return e!==void 0}function Rt(e,t){var n=t||{},r=n.defaultValue,s=n.value,v=n.onChange,C=n.postState,c=Xa(function(){return na(s)?s:na(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),i=ge(c,2),f=i[0],h=i[1],o=s!==void 0?s:f,u=C?C(o):o,a=Ht(v),d=Xa([o]),g=ge(d,2),l=g[0],m=g[1];Ci(function(){var y=l[0];f!==y&&a(f,y)},[l]),Ci(function(){na(s)||h(s)},[s]);var b=Ht(function(y,S){h(y,S),m([o],S)});return[u,b]}function Z0(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return`max(${n.map(s=>de(s)).join(",")})`},min:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return`min(${n.map(s=>de(s)).join(",")})`}}}const Fu=typeof CSSINJS_STATISTIC<"u";let Ja=!0;function gt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Fu)return Object.assign.apply(Object,[{}].concat(t));Ja=!1;const r={};return t.forEach(s=>{Object.keys(s).forEach(C=>{Object.defineProperty(r,C,{configurable:!0,enumerable:!0,get:()=>s[C]})})}),Ja=!0,r}const fl={};function eg(){}const tg=e=>{let t,n=e,r=eg;return Fu&&typeof Proxy<"u"&&(t=new Set,n=new Proxy(e,{get(s,v){return Ja&&t.add(v),s[v]}}),r=(s,v)=>{var C;fl[s]={global:Array.from(t),component:Object.assign(Object.assign({},(C=fl[s])===null||C===void 0?void 0:C.component),v)}}),{token:n,keys:t,flush:r}},Bu=(e,t,n)=>{var r;return typeof n=="function"?n(gt(t,(r=t[e])!==null&&r!==void 0?r:{})):n??{}},ku=(e,t,n,r)=>{const s=Object.assign({},t[e]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:C}=r;C.forEach(c=>{let[i,f]=c;var h;(s!=null&&s[i]||s!=null&&s[f])&&((h=s[f])!==null&&h!==void 0||(s[f]=s==null?void 0:s[i]))})}const v=Object.assign(Object.assign({},n),s);return Object.keys(v).forEach(C=>{v[C]===t[C]&&delete v[C]}),v},ng=(e,t)=>`${[t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function Ps(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Array.isArray(e)?e:[e,e],[v]=s,C=s.join("-");return function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;const[f,h,o,u,a]=hn(),{getPrefixCls:d,iconPrefixCls:g,csp:l}=p.useContext(Ye),m=d(),b=a?"css":"js",y=J0(b),{max:S,min:w}=Z0(b),x={theme:f,token:u,hashId:o,nonce:()=>l==null?void 0:l.nonce,clientOnly:r.clientOnly,layer:{name:"antd"},order:r.order||-999};return ll(Object.assign(Object.assign({},x),{clientOnly:!1,path:["Shared",m]}),()=>[{"&":Wh(u)}]),Xh(g,l),[ll(Object.assign(Object.assign({},x),{path:[C,c,g]}),()=>{if(r.injectStyle===!1)return[];const{token:_,flush:$}=tg(u),I=Bu(v,h,n),A=`.${c}`,F=ku(v,h,I,{deprecatedTokens:r.deprecatedTokens});a&&Object.keys(I).forEach(H=>{I[H]=`var(${Uh(H,ng(v,a.prefix))})`});const z=gt(_,{componentCls:A,prefixCls:c,iconCls:`.${g}`,antCls:`.${m}`,calc:y,max:S,min:w},a?I:F),D=t(z,{hashId:o,prefixCls:c,rootPrefixCls:m,iconPrefixCls:g});return $(v,F),[r.resetStyle===!1?null:Gh(z,c,i,r.resetFont),D]}),o]}}const zu=(e,t,n,r)=>{const s=Ps(e,t,n,Object.assign({resetStyle:!1,order:-998},r));return C=>{let{prefixCls:c,rootCls:i=c}=C;return s(c,i),null}},rg=(e,t,n)=>{function r(f){return`${e}${f.slice(0,1).toUpperCase()}${f.slice(1)}`}const{unitless:s={},injectStyle:v=!0}=n??{},C={[r("zIndexPopup")]:!0};Object.keys(s).forEach(f=>{C[r(f)]=s[f]});const c=f=>{let{rootCls:h,cssVar:o}=f;const[,u]=hn();return Yh({path:[e],prefix:o.prefix,key:o==null?void 0:o.key,unitless:Object.assign(Object.assign({},qh),C),ignore:Kh,token:u,scope:h},()=>{const a=Bu(e,u,t),d=ku(e,u,a,{deprecatedTokens:n==null?void 0:n.deprecatedTokens});return Object.keys(a).forEach(g=>{d[r(g)]=d[g],delete d[g]}),d}),null};return f=>{const[,,,,h]=hn();return[o=>v&&h?J.createElement(J.Fragment,null,J.createElement(c,{rootCls:f,cssVar:h,component:e}),o):o,h==null?void 0:h.key]}},Nt=(e,t,n,r)=>{const s=Ps(e,t,n,r),v=rg(Array.isArray(e)?e[0]:e,n,r);return function(C){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;const[,i]=s(C,c),[f,h]=v(c);return[f,i,h]}};function ig(e,t){return xi.reduce((n,r)=>{const s=e[`${r}1`],v=e[`${r}3`],C=e[`${r}6`],c=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:s,lightBorderColor:v,darkColor:C,textColor:c}))},{})}var og={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Hu(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function ag(e){return Hu(e)instanceof ShadowRoot}function fo(e){return ag(e)?Hu(e):null}function sg(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function lg(e,t){sn(e,"[@ant-design/icons] ".concat(t))}function hl(e){return et(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(et(e.icon)==="object"||typeof e.icon=="function")}function gl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:delete t[n],t[sg(n)]=r}return t},{})}function Za(e,t,n){return n?J.createElement(e.tag,ae(ae({key:t},gl(e.attrs)),n),(e.children||[]).map(function(r,s){return Za(r,"".concat(t,"-").concat(e.tag,"-").concat(s))})):J.createElement(e.tag,ae({key:t},gl(e.attrs)),(e.children||[]).map(function(r,s){return Za(r,"".concat(t,"-").concat(e.tag,"-").concat(s))}))}function Vu(e){return Qh(e)[0]}function Wu(e){return e?Array.isArray(e)?e:[e]:[]}var cg=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,ug=function(t){var n=p.useContext(xu),r=n.csp,s=n.prefixCls,v=cg;s&&(v=v.replace(/anticon/g,s)),p.useEffect(function(){var C=t.current,c=fo(C);Os(v,"@ant-design-icons",{prepend:!0,csp:r,attachTo:c})},[])},dg=["icon","className","onClick","style","primaryColor","secondaryColor"],yi={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function fg(e){var t=e.primaryColor,n=e.secondaryColor;yi.primaryColor=t,yi.secondaryColor=n||Vu(t),yi.calculated=!!n}function hg(){return ae({},yi)}var ai=function(t){var n=t.icon,r=t.className,s=t.onClick,v=t.style,C=t.primaryColor,c=t.secondaryColor,i=it(t,dg),f=p.useRef(),h=yi;if(C&&(h={primaryColor:C,secondaryColor:c||Vu(C)}),ug(f),lg(hl(n),"icon should be icon definiton, but got ".concat(n)),!hl(n))return null;var o=n;return o&&typeof o.icon=="function"&&(o=ae(ae({},o),{},{icon:o.icon(h.primaryColor,h.secondaryColor)})),Za(o.icon,"svg-".concat(o.name),ae(ae({className:r,onClick:s,style:v,"data-icon":o.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},i),{},{ref:f}))};ai.displayName="IconReact";ai.getTwoToneColors=hg;ai.setTwoToneColors=fg;function Xu(e){var t=Wu(e),n=ge(t,2),r=n[0],s=n[1];return ai.setTwoToneColors({primaryColor:r,secondaryColor:s})}function gg(){var e=ai.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var mg=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Xu(Ua.primary);var Et=p.forwardRef(function(e,t){var n=e.className,r=e.icon,s=e.spin,v=e.rotate,C=e.tabIndex,c=e.onClick,i=e.twoToneColor,f=it(e,mg),h=p.useContext(xu),o=h.prefixCls,u=o===void 0?"anticon":o,a=h.rootClassName,d=se(a,u,ee(ee({},"".concat(u,"-").concat(r.name),!!r.name),"".concat(u,"-spin"),!!s||r.name==="loading"),n),g=C;g===void 0&&c&&(g=-1);var l=v?{msTransform:"rotate(".concat(v,"deg)"),transform:"rotate(".concat(v,"deg)")}:void 0,m=Wu(i),b=ge(m,2),y=b[0],S=b[1];return p.createElement("span",ye({role:"img","aria-label":r.name},f,{ref:t,tabIndex:g,onClick:c,className:d}),p.createElement(ai,{icon:r,primaryColor:y,secondaryColor:S,style:l}))});Et.displayName="AntdIcon";Et.getTwoToneColor=gg;Et.setTwoToneColor=Xu;var vg=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:og}))},Is=p.forwardRef(vg),pg={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},bg=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:pg}))},Mi=p.forwardRef(bg),Cg={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},yg=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Cg}))},Rr=p.forwardRef(yg),Sg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},wg=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Sg}))},Uu=p.forwardRef(wg),xg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Eg=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:xg}))},Gu=p.forwardRef(Eg),_g=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Og=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,$g="".concat(_g," ").concat(Og).split(/[\s\n]+/),Tg="aria-",Pg="data-";function ml(e,t){return e.indexOf(t)===0}function On(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=ae({},t);var r={};return Object.keys(e).forEach(function(s){(n.aria&&(s==="role"||ml(s,Tg))||n.data&&ml(s,Pg)||n.attr&&$g.includes(s))&&(r[s]=e[s])}),r}function Yu(e){return e&&J.isValidElement(e)&&e.type===J.Fragment}const Ig=(e,t,n)=>J.isValidElement(e)?J.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function An(e,t){return Ig(e,e,t)}const tn=e=>{const[,,,,t]=hn();return t?`${e}-css-var`:""};var me={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=me.F1&&n<=me.F12)return!1;switch(n){case me.ALT:case me.CAPS_LOCK:case me.CONTEXT_MENU:case me.CTRL:case me.DOWN:case me.END:case me.ESC:case me.HOME:case me.INSERT:case me.LEFT:case me.MAC_FF_META:case me.META:case me.NUMLOCK:case me.NUM_CENTER:case me.PAGE_DOWN:case me.PAGE_UP:case me.PAUSE:case me.PRINT_SCREEN:case me.RIGHT:case me.SHIFT:case me.UP:case me.WIN_KEY:case me.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=me.ZERO&&t<=me.NINE||t>=me.NUM_ZERO&&t<=me.NUM_MULTIPLY||t>=me.A&&t<=me.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case me.SPACE:case me.QUESTION_MARK:case me.NUM_PLUS:case me.NUM_MINUS:case me.NUM_PERIOD:case me.NUM_DIVISION:case me.SEMICOLON:case me.DASH:case me.EQUALS:case me.COMMA:case me.PERIOD:case me.SLASH:case me.APOSTROPHE:case me.SINGLE_QUOTE:case me.OPEN_SQUARE_BRACKET:case me.BACKSLASH:case me.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},qu=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,s=e.className,v=e.duration,C=v===void 0?4.5:v,c=e.showProgress,i=e.pauseOnHover,f=i===void 0?!0:i,h=e.eventKey,o=e.content,u=e.closable,a=e.closeIcon,d=a===void 0?"x":a,g=e.props,l=e.onClick,m=e.onNoticeClose,b=e.times,y=e.hovering,S=p.useState(!1),w=ge(S,2),x=w[0],E=w[1],_=p.useState(0),$=ge(_,2),I=$[0],A=$[1],F=p.useState(0),z=ge(F,2),D=z[0],H=z[1],B=y||x,j=C>0&&c,N=function(){m(h)},O=function(R){(R.key==="Enter"||R.code==="Enter"||R.keyCode===me.ENTER)&&N()};p.useEffect(function(){if(!B&&C>0){var L=Date.now()-D,R=setTimeout(function(){N()},C*1e3-D);return function(){f&&clearTimeout(R),H(Date.now()-L)}}},[C,B,b]),p.useEffect(function(){if(!B&&j&&(f||D===0)){var L=performance.now(),R,V=function W(){cancelAnimationFrame(R),R=requestAnimationFrame(function(Y){var Q=Y+D-L,G=Math.min(Q/(C*1e3),1);A(G*100),G<1&&W()})};return V(),function(){f&&cancelAnimationFrame(R)}}},[C,D,B,j,b]);var P=p.useMemo(function(){return et(u)==="object"&&u!==null?u:u?{closeIcon:d}:{}},[u,d]),T=On(P,!0),M=100-(!I||I<0?0:I>100?100:I),k="".concat(n,"-notice");return p.createElement("div",ye({},g,{ref:t,className:se(k,s,ee({},"".concat(k,"-closable"),u)),style:r,onMouseEnter:function(R){var V;E(!0),g==null||(V=g.onMouseEnter)===null||V===void 0||V.call(g,R)},onMouseLeave:function(R){var V;E(!1),g==null||(V=g.onMouseLeave)===null||V===void 0||V.call(g,R)},onClick:l}),p.createElement("div",{className:"".concat(k,"-content")},o),u&&p.createElement("a",ye({tabIndex:0,className:"".concat(k,"-close"),onKeyDown:O,"aria-label":"Close"},T,{onClick:function(R){R.preventDefault(),R.stopPropagation(),N()}}),P.closeIcon),j&&p.createElement("progress",{className:"".concat(k,"-progress"),max:"100",value:M},M+"%"))}),Ku=J.createContext({}),Rg=function(t){var n=t.children,r=t.classNames;return J.createElement(Ku.Provider,{value:{classNames:r}},n)},vl=8,pl=3,bl=16,Mg=function(t){var n={offset:vl,threshold:pl,gap:bl};if(t&&et(t)==="object"){var r,s,v;n.offset=(r=t.offset)!==null&&r!==void 0?r:vl,n.threshold=(s=t.threshold)!==null&&s!==void 0?s:pl,n.gap=(v=t.gap)!==null&&v!==void 0?v:bl}return[!!t,n]},Lg=["className","style","classNames","styles"],Ag=function(t){var n=t.configList,r=t.placement,s=t.prefixCls,v=t.className,C=t.style,c=t.motion,i=t.onAllNoticeRemoved,f=t.onNoticeClose,h=t.stack,o=p.useContext(Ku),u=o.classNames,a=p.useRef({}),d=p.useState(null),g=ge(d,2),l=g[0],m=g[1],b=p.useState([]),y=ge(b,2),S=y[0],w=y[1],x=n.map(function(B){return{config:B,key:String(B.key)}}),E=Mg(h),_=ge(E,2),$=_[0],I=_[1],A=I.offset,F=I.threshold,z=I.gap,D=$&&(S.length>0||x.length<=F),H=typeof c=="function"?c(r):c;return p.useEffect(function(){$&&S.length>1&&w(function(B){return B.filter(function(j){return x.some(function(N){var O=N.key;return j===O})})})},[S,x,$]),p.useEffect(function(){var B;if($&&a.current[(B=x[x.length-1])===null||B===void 0?void 0:B.key]){var j;m(a.current[(j=x[x.length-1])===null||j===void 0?void 0:j.key])}},[x,$]),J.createElement(Eu,ye({key:r,className:se(s,"".concat(s,"-").concat(r),u==null?void 0:u.list,v,ee(ee({},"".concat(s,"-stack"),!!$),"".concat(s,"-stack-expanded"),D)),style:C,keys:x,motionAppear:!0},H,{onAllRemoved:function(){i(r)}}),function(B,j){var N=B.config,O=B.className,P=B.style,T=B.index,M=N,k=M.key,L=M.times,R=String(k),V=N,W=V.className,Y=V.style,Q=V.classNames,G=V.styles,K=it(V,Lg),re=x.findIndex(function(he){return he.key===R}),q={};if($){var X=x.length-1-(re>-1?re:T-1),Z=r==="top"||r==="bottom"?"-50%":"0";if(X>0){var ne,te,ie;q.height=D?(ne=a.current[R])===null||ne===void 0?void 0:ne.offsetHeight:l==null?void 0:l.offsetHeight;for(var le=0,fe=0;fe<X;fe++){var ce;le+=((ce=a.current[x[x.length-1-fe].key])===null||ce===void 0?void 0:ce.offsetHeight)+z}var oe=(D?le:X*A)*(r.startsWith("top")?1:-1),ue=!D&&l!==null&&l!==void 0&&l.offsetWidth&&(te=a.current[R])!==null&&te!==void 0&&te.offsetWidth?((l==null?void 0:l.offsetWidth)-A*2*(X<3?X:3))/((ie=a.current[R])===null||ie===void 0?void 0:ie.offsetWidth):1;q.transform="translate3d(".concat(Z,", ").concat(oe,"px, 0) scaleX(").concat(ue,")")}else q.transform="translate3d(".concat(Z,", 0, 0)")}return J.createElement("div",{ref:j,className:se("".concat(s,"-notice-wrapper"),O,Q==null?void 0:Q.wrapper),style:ae(ae(ae({},P),q),G==null?void 0:G.wrapper),onMouseEnter:function(){return w(function(pe){return pe.includes(R)?pe:[].concat(Se(pe),[R])})},onMouseLeave:function(){return w(function(pe){return pe.filter(function(ve){return ve!==R})})}},J.createElement(qu,ye({},K,{ref:function(pe){re>-1?a.current[R]=pe:delete a.current[R]},prefixCls:s,classNames:Q,styles:G,className:se(W,u==null?void 0:u.notice),style:Y,times:L,key:k,eventKey:k,onNoticeClose:f,hovering:$&&S.length>0})))})},Ng=p.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-notification":n,s=e.container,v=e.motion,C=e.maxCount,c=e.className,i=e.style,f=e.onAllRemoved,h=e.stack,o=e.renderNotifications,u=p.useState([]),a=ge(u,2),d=a[0],g=a[1],l=function($){var I,A=d.find(function(F){return F.key===$});A==null||(I=A.onClose)===null||I===void 0||I.call(A),g(function(F){return F.filter(function(z){return z.key!==$})})};p.useImperativeHandle(t,function(){return{open:function($){g(function(I){var A=Se(I),F=A.findIndex(function(H){return H.key===$.key}),z=ae({},$);if(F>=0){var D;z.times=(((D=I[F])===null||D===void 0?void 0:D.times)||0)+1,A[F]=z}else z.times=0,A.push(z);return C>0&&A.length>C&&(A=A.slice(-C)),A})},close:function($){l($)},destroy:function(){g([])}}});var m=p.useState({}),b=ge(m,2),y=b[0],S=b[1];p.useEffect(function(){var _={};d.forEach(function($){var I=$.placement,A=I===void 0?"topRight":I;A&&(_[A]=_[A]||[],_[A].push($))}),Object.keys(y).forEach(function($){_[$]=_[$]||[]}),S(_)},[d]);var w=function($){S(function(I){var A=ae({},I),F=A[$]||[];return F.length||delete A[$],A})},x=p.useRef(!1);if(p.useEffect(function(){Object.keys(y).length>0?x.current=!0:x.current&&(f==null||f(),x.current=!1)},[y]),!s)return null;var E=Object.keys(y);return $r.createPortal(p.createElement(p.Fragment,null,E.map(function(_){var $=y[_],I=p.createElement(Ag,{key:_,configList:$,placement:_,prefixCls:r,className:c==null?void 0:c(_),style:i==null?void 0:i(_),motion:v,onNoticeClose:l,onAllNoticeRemoved:w,stack:h});return o?o(I,{prefixCls:r,key:_}):I})),s)}),Dg=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],jg=function(){return document.body},Cl=0;function Fg(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(s){s&&Object.keys(s).forEach(function(v){var C=s[v];C!==void 0&&(e[v]=C)})}),e}function Bg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,n=t===void 0?jg:t,r=e.motion,s=e.prefixCls,v=e.maxCount,C=e.className,c=e.style,i=e.onAllRemoved,f=e.stack,h=e.renderNotifications,o=it(e,Dg),u=p.useState(),a=ge(u,2),d=a[0],g=a[1],l=p.useRef(),m=p.createElement(Ng,{container:d,ref:l,prefixCls:s,motion:r,maxCount:v,className:C,style:c,onAllRemoved:i,stack:f,renderNotifications:h}),b=p.useState([]),y=ge(b,2),S=y[0],w=y[1],x=p.useMemo(function(){return{open:function(_){var $=Fg(o,_);($.key===null||$.key===void 0)&&($.key="rc-notification-".concat(Cl),Cl+=1),w(function(I){return[].concat(Se(I),[{type:"open",config:$}])})},close:function(_){w(function($){return[].concat(Se($),[{type:"close",key:_}])})},destroy:function(){w(function(_){return[].concat(Se(_),[{type:"destroy"}])})}}},[]);return p.useEffect(function(){g(n())}),p.useEffect(function(){l.current&&S.length&&(S.forEach(function(E){switch(E.type){case"open":l.current.open(E.config);break;case"close":l.current.close(E.key);break;case"destroy":l.current.destroy();break}}),w(function(E){return E.filter(function(_){return!S.includes(_)})}))},[S]),[x,m]}var kg={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},zg=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:kg}))},ti=p.forwardRef(zg);const Rs=J.createContext(void 0),br=100,Hg=10,Ms=br*Hg,Qu={Modal:br,Drawer:br,Popover:br,Popconfirm:br,Tooltip:br,Tour:br},Vg={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Wg(e){return e in Qu}function Li(e,t){const[,n]=hn(),r=J.useContext(Rs),s=Wg(e);if(t!==void 0)return[t,t];let v=r??0;return s?(v+=(r?0:n.zIndexPopupBase)+Qu[e],v=Math.min(v,n.zIndexPopupBase+Ms)):v+=Vg[e],[r===void 0?t:v,v]}const Xg=e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:s,colorSuccess:v,colorError:C,colorWarning:c,colorInfo:i,fontSizeLG:f,motionEaseInOutCirc:h,motionDurationSlow:o,marginXS:u,paddingXS:a,borderRadiusLG:d,zIndexPopup:g,contentPadding:l,contentBg:m}=e,b=`${t}-notice`,y=new ct("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:a,transform:"translateY(0)",opacity:1}}),S=new ct("MessageMoveOut",{"0%":{maxHeight:e.height,padding:a,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),w={padding:a,textAlign:"center",[`${t}-custom-content > ${n}`]:{verticalAlign:"text-bottom",marginInlineEnd:u,fontSize:f},[`${b}-content`]:{display:"inline-block",padding:l,background:m,borderRadius:d,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:v},[`${t}-error > ${n}`]:{color:C},[`${t}-warning > ${n}`]:{color:c},[`${t}-info > ${n},
      ${t}-loading > ${n}`]:{color:i}};return[{[t]:Object.assign(Object.assign({},Tt(e)),{color:s,position:"fixed",top:u,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:y,animationDuration:o,animationPlayState:"paused",animationTimingFunction:h},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:S,animationDuration:o,animationPlayState:"paused",animationTimingFunction:h},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${b}-wrapper`]:Object.assign({},w)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},w),{padding:0,textAlign:"start"})}]},Ug=e=>({zIndexPopup:e.zIndexPopupBase+Ms+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),Ju=Nt("Message",e=>{const t=gt(e,{height:150});return[Xg(t)]},Ug);var Gg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Yg={info:p.createElement(Gu,null),success:p.createElement(Is,null),error:p.createElement(Mi,null),warning:p.createElement(Uu,null),loading:p.createElement(ti,null)},Zu=e=>{let{prefixCls:t,type:n,icon:r,children:s}=e;return p.createElement("div",{className:se(`${t}-custom-content`,`${t}-${n}`)},r||Yg[n],p.createElement("span",null,s))},qg=e=>{const{prefixCls:t,className:n,type:r,icon:s,content:v}=e,C=Gg(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:c}=p.useContext(Ye),i=t||c("message"),f=tn(i),[h,o,u]=Ju(i,f);return h(p.createElement(qu,Object.assign({},C,{prefixCls:i,className:se(n,o,`${i}-notice-pure-panel`,u,f),eventKey:"pure",duration:null,content:p.createElement(Zu,{prefixCls:i,type:r,icon:s},v)})))};function Kg(e,t){return{motionName:t??`${e}-move-up`}}function Ls(e){let t;const n=new Promise(s=>{t=e(()=>{s(!0)})}),r=()=>{t==null||t()};return r.then=(s,v)=>n.then(s,v),r.promise=n,r}var Qg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Jg=8,Zg=3,em=e=>{let{children:t,prefixCls:n}=e;const r=tn(n),[s,v,C]=Ju(n,r);return s(p.createElement(Rg,{classNames:{list:se(v,C,r)}},t))},tm=(e,t)=>{let{prefixCls:n,key:r}=t;return p.createElement(em,{prefixCls:n,key:r},e)},nm=p.forwardRef((e,t)=>{const{top:n,prefixCls:r,getContainer:s,maxCount:v,duration:C=Zg,rtl:c,transitionName:i,onAllRemoved:f}=e,{getPrefixCls:h,getPopupContainer:o,message:u,direction:a}=p.useContext(Ye),d=r||h("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:n??Jg}),l=()=>se({[`${d}-rtl`]:c??a==="rtl"}),m=()=>Kg(d,i),b=p.createElement("span",{className:`${d}-close-x`},p.createElement(Rr,{className:`${d}-close-icon`})),[y,S]=Bg({prefixCls:d,style:g,className:l,motion:m,closable:!1,closeIcon:b,duration:C,getContainer:()=>(s==null?void 0:s())||(o==null?void 0:o())||document.body,maxCount:v,onAllRemoved:f,renderNotifications:tm});return p.useImperativeHandle(t,()=>Object.assign(Object.assign({},y),{prefixCls:d,message:u})),S});let yl=0;function ed(e){const t=p.useRef(null);return _u(),[p.useMemo(()=>{const r=i=>{var f;(f=t.current)===null||f===void 0||f.close(i)},s=i=>{if(!t.current){const x=()=>{};return x.then=()=>{},x}const{open:f,prefixCls:h,message:o}=t.current,u=`${h}-notice`,{content:a,icon:d,type:g,key:l,className:m,style:b,onClose:y}=i,S=Qg(i,["content","icon","type","key","className","style","onClose"]);let w=l;return w==null&&(yl+=1,w=`antd-message-${yl}`),Ls(x=>(f(Object.assign(Object.assign({},S),{key:w,content:p.createElement(Zu,{prefixCls:h,type:g,icon:d},a),placement:"top",className:se(g&&`${u}-${g}`,m,o==null?void 0:o.className),style:Object.assign(Object.assign({},o==null?void 0:o.style),b),onClose:()=>{y==null||y(),x()}})),()=>{r(w)}))},C={open:s,destroy:i=>{var f;i!==void 0?r(i):(f=t.current)===null||f===void 0||f.destroy()}};return["info","success","warning","error","loading"].forEach(i=>{const f=(h,o,u)=>{let a;h&&typeof h=="object"&&"content"in h?a=h:a={content:h};let d,g;typeof o=="function"?g=o:(d=o,g=u);const l=Object.assign(Object.assign({onClose:g,duration:d},a),{type:i});return s(l)};C[i]=f}),C},[]),p.createElement(nm,Object.assign({key:"message-holder"},e,{ref:t}))]}function rm(e){return ed(e)}function im(){const[e,t]=p.useState([]),n=p.useCallback(r=>(t(s=>[].concat(Se(s),[r])),()=>{t(s=>s.filter(v=>v!==r))}),[]);return[e,n]}function Qt(){Qt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(B,j,N){B[j]=N.value},v=typeof Symbol=="function"?Symbol:{},C=v.iterator||"@@iterator",c=v.asyncIterator||"@@asyncIterator",i=v.toStringTag||"@@toStringTag";function f(B,j,N){return Object.defineProperty(B,j,{value:N,enumerable:!0,configurable:!0,writable:!0}),B[j]}try{f({},"")}catch{f=function(N,O,P){return N[O]=P}}function h(B,j,N,O){var P=j&&j.prototype instanceof m?j:m,T=Object.create(P.prototype),M=new D(O||[]);return s(T,"_invoke",{value:I(B,N,M)}),T}function o(B,j,N){try{return{type:"normal",arg:B.call(j,N)}}catch(O){return{type:"throw",arg:O}}}t.wrap=h;var u="suspendedStart",a="suspendedYield",d="executing",g="completed",l={};function m(){}function b(){}function y(){}var S={};f(S,C,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(H([])));x&&x!==n&&r.call(x,C)&&(S=x);var E=y.prototype=m.prototype=Object.create(S);function _(B){["next","throw","return"].forEach(function(j){f(B,j,function(N){return this._invoke(j,N)})})}function $(B,j){function N(P,T,M,k){var L=o(B[P],B,T);if(L.type!=="throw"){var R=L.arg,V=R.value;return V&&et(V)=="object"&&r.call(V,"__await")?j.resolve(V.__await).then(function(W){N("next",W,M,k)},function(W){N("throw",W,M,k)}):j.resolve(V).then(function(W){R.value=W,M(R)},function(W){return N("throw",W,M,k)})}k(L.arg)}var O;s(this,"_invoke",{value:function(T,M){function k(){return new j(function(L,R){N(T,M,L,R)})}return O=O?O.then(k,k):k()}})}function I(B,j,N){var O=u;return function(P,T){if(O===d)throw Error("Generator is already running");if(O===g){if(P==="throw")throw T;return{value:e,done:!0}}for(N.method=P,N.arg=T;;){var M=N.delegate;if(M){var k=A(M,N);if(k){if(k===l)continue;return k}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(O===u)throw O=g,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);O=d;var L=o(B,j,N);if(L.type==="normal"){if(O=N.done?g:a,L.arg===l)continue;return{value:L.arg,done:N.done}}L.type==="throw"&&(O=g,N.method="throw",N.arg=L.arg)}}}function A(B,j){var N=j.method,O=B.iterator[N];if(O===e)return j.delegate=null,N==="throw"&&B.iterator.return&&(j.method="return",j.arg=e,A(B,j),j.method==="throw")||N!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+N+"' method")),l;var P=o(O,B.iterator,j.arg);if(P.type==="throw")return j.method="throw",j.arg=P.arg,j.delegate=null,l;var T=P.arg;return T?T.done?(j[B.resultName]=T.value,j.next=B.nextLoc,j.method!=="return"&&(j.method="next",j.arg=e),j.delegate=null,l):T:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,l)}function F(B){var j={tryLoc:B[0]};1 in B&&(j.catchLoc=B[1]),2 in B&&(j.finallyLoc=B[2],j.afterLoc=B[3]),this.tryEntries.push(j)}function z(B){var j=B.completion||{};j.type="normal",delete j.arg,B.completion=j}function D(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(F,this),this.reset(!0)}function H(B){if(B||B===""){var j=B[C];if(j)return j.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var N=-1,O=function P(){for(;++N<B.length;)if(r.call(B,N))return P.value=B[N],P.done=!1,P;return P.value=e,P.done=!0,P};return O.next=O}}throw new TypeError(et(B)+" is not iterable")}return b.prototype=y,s(E,"constructor",{value:y,configurable:!0}),s(y,"constructor",{value:b,configurable:!0}),b.displayName=f(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(B){var j=typeof B=="function"&&B.constructor;return!!j&&(j===b||(j.displayName||j.name)==="GeneratorFunction")},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,y):(B.__proto__=y,f(B,i,"GeneratorFunction")),B.prototype=Object.create(E),B},t.awrap=function(B){return{__await:B}},_($.prototype),f($.prototype,c,function(){return this}),t.AsyncIterator=$,t.async=function(B,j,N,O,P){P===void 0&&(P=Promise);var T=new $(h(B,j,N,O),P);return t.isGeneratorFunction(j)?T:T.next().then(function(M){return M.done?M.value:T.next()})},_(E),f(E,i,"Generator"),f(E,C,function(){return this}),f(E,"toString",function(){return"[object Generator]"}),t.keys=function(B){var j=Object(B),N=[];for(var O in j)N.push(O);return N.reverse(),function P(){for(;N.length;){var T=N.pop();if(T in j)return P.value=T,P.done=!1,P}return P.done=!0,P}},t.values=H,D.prototype={constructor:D,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(z),!j)for(var N in this)N.charAt(0)==="t"&&r.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=e)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var N=this;function O(R,V){return M.type="throw",M.arg=j,N.next=R,V&&(N.method="next",N.arg=e),!!V}for(var P=this.tryEntries.length-1;P>=0;--P){var T=this.tryEntries[P],M=T.completion;if(T.tryLoc==="root")return O("end");if(T.tryLoc<=this.prev){var k=r.call(T,"catchLoc"),L=r.call(T,"finallyLoc");if(k&&L){if(this.prev<T.catchLoc)return O(T.catchLoc,!0);if(this.prev<T.finallyLoc)return O(T.finallyLoc)}else if(k){if(this.prev<T.catchLoc)return O(T.catchLoc,!0)}else{if(!L)throw Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return O(T.finallyLoc)}}}},abrupt:function(j,N){for(var O=this.tryEntries.length-1;O>=0;--O){var P=this.tryEntries[O];if(P.tryLoc<=this.prev&&r.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var T=P;break}}T&&(j==="break"||j==="continue")&&T.tryLoc<=N&&N<=T.finallyLoc&&(T=null);var M=T?T.completion:{};return M.type=j,M.arg=N,T?(this.method="next",this.next=T.finallyLoc,l):this.complete(M)},complete:function(j,N){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&N&&(this.next=N),l},finish:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var O=this.tryEntries[N];if(O.finallyLoc===j)return this.complete(O.completion,O.afterLoc),z(O),l}},catch:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var O=this.tryEntries[N];if(O.tryLoc===j){var P=O.completion;if(P.type==="throw"){var T=P.arg;z(O)}return T}}throw Error("illegal catch attempt")},delegateYield:function(j,N,O){return this.delegate={iterator:H(j),resultName:N,nextLoc:O},this.method==="next"&&(this.arg=e),l}},t}function Sl(e,t,n,r,s,v,C){try{var c=e[v](C),i=c.value}catch(f){return void n(f)}c.done?t(i):Promise.resolve(i).then(r,s)}function gr(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var v=e.apply(t,n);function C(i){Sl(v,r,s,C,c,"next",i)}function c(i){Sl(v,r,s,C,c,"throw",i)}C(void 0)})}}var Ai=ae({},Jh),om=Ai.version,am=Ai.render,sm=Ai.unmountComponentAtNode,Po;try{var lm=Number((om||"").split(".")[0]);lm>=18&&(Po=Ai.createRoot)}catch{}function wl(e){var t=Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&et(t)==="object"&&(t.usingClientEntryPoint=e)}var ho="__rc_react_root__";function cm(e,t){wl(!0);var n=t[ho]||Po(t);wl(!1),n.render(e),t[ho]=n}function um(e,t){am(e,t)}function As(e,t){if(Po){cm(e,t);return}um(e,t)}function dm(e){return es.apply(this,arguments)}function es(){return es=gr(Qt().mark(function e(t){return Qt().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var s;(s=t[ho])===null||s===void 0||s.unmount(),delete t[ho]}));case 1:case"end":return r.stop()}},e)})),es.apply(this,arguments)}function fm(e){sm(e)}function td(e){return ts.apply(this,arguments)}function ts(){return ts=gr(Qt().mark(function e(t){return Qt().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Po===void 0){r.next=2;break}return r.abrupt("return",dm(t));case 2:fm(t);case 3:case"end":return r.stop()}},e)})),ts.apply(this,arguments)}const ra=()=>({height:0,opacity:0}),xl=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},hm=e=>({height:e?e.offsetHeight:0}),ia=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",nd=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:ra,onEnterStart:ra,onAppearActive:xl,onEnterActive:xl,onLeaveStart:hm,onLeaveActive:ra,onAppearEnd:ia,onEnterEnd:ia,onLeaveEnd:ia,motionDeadline:500}},Nn=(e,t,n)=>n!==void 0?n:`${e}-${t}`,rd=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var s=e.getBoundingClientRect(),v=s.width,C=s.height;if(v||C)return!0}}return!1},gm=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},mm=Ps("Wave",e=>[gm(e)]),Io="ant-wave-target";function vm(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function oa(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&vm(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function pm(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return oa(t)?t:oa(n)?n:oa(r)?r:null}function aa(e){return Number.isNaN(e)?0:e}const bm=e=>{const{className:t,target:n,component:r}=e,s=p.useRef(null),[v,C]=p.useState(null),[c,i]=p.useState([]),[f,h]=p.useState(0),[o,u]=p.useState(0),[a,d]=p.useState(0),[g,l]=p.useState(0),[m,b]=p.useState(!1),y={left:f,top:o,width:a,height:g,borderRadius:c.map(x=>`${x}px`).join(" ")};v&&(y["--wave-color"]=v);function S(){const x=getComputedStyle(n);C(pm(n));const E=x.position==="static",{borderLeftWidth:_,borderTopWidth:$}=x;h(E?n.offsetLeft:aa(-parseFloat(_))),u(E?n.offsetTop:aa(-parseFloat($))),d(n.offsetWidth),l(n.offsetHeight);const{borderTopLeftRadius:I,borderTopRightRadius:A,borderBottomLeftRadius:F,borderBottomRightRadius:z}=x;i([I,A,z,F].map(D=>aa(parseFloat(D))))}if(p.useEffect(()=>{if(n){const x=wt(()=>{S(),b(!0)});let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(S),E.observe(n)),()=>{wt.cancel(x),E==null||E.disconnect()}}},[]),!m)return null;const w=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(Io));return p.createElement(Yn,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(x,E)=>{var _;if(E.deadline||E.propertyName==="opacity"){const $=(_=s.current)===null||_===void 0?void 0:_.parentElement;td($).then(()=>{$==null||$.remove()})}return!1}},(x,E)=>{let{className:_}=x;return p.createElement("div",{ref:Fn(s,E),className:se(t,{"wave-quick":w},_),style:y})})},Cm=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",e==null||e.insertBefore(s,e==null?void 0:e.firstChild),As(p.createElement(bm,Object.assign({},t,{target:e})),s)},ym=(e,t,n)=>{const{wave:r}=p.useContext(Ye),[,s,v]=hn(),C=Ht(f=>{const h=e.current;if(r!=null&&r.disabled||!h)return;const o=h.querySelector(`.${Io}`)||h,{showEffect:u}=r||{};(u||Cm)(o,{className:t,token:s,component:n,event:f,hashId:v})}),c=p.useRef();return f=>{wt.cancel(c.current),c.current=wt(()=>{C(f)})}},Ro=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:s}=p.useContext(Ye),v=p.useRef(null),C=s("wave"),[,c]=mm(C),i=ym(v,se(C,c),r);if(J.useEffect(()=>{const h=v.current;if(!h||h.nodeType!==1||n)return;const o=u=>{!rd(u.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||i(u)};return h.addEventListener("click",o,!0),()=>{h.removeEventListener("click",o,!0)}},[n]),!J.isValidElement(t))return t??null;const f=_o(t)?Fn(t.ref,v):v;return An(t,{ref:f})},kn=e=>{const t=J.useContext(Zh);return J.useMemo(()=>e?typeof e=="string"?e??t:e instanceof Function?e(t):t:t,[e,t])},id=p.createContext(null),Ni=(e,t)=>{const n=p.useContext(id),r=p.useMemo(()=>{if(!n)return"";const{compactDirection:s,isFirstItem:v,isLastItem:C}=n,c=s==="vertical"?"-vertical-":"-";return se(`${e}-compact${c}item`,{[`${e}-compact${c}first-item`]:v,[`${e}-compact${c}last-item`]:C,[`${e}-compact${c}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},Ei=e=>{let{children:t}=e;return p.createElement(id.Provider,{value:null},t)};var Sm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const od=p.createContext(void 0),wm=e=>{const{getPrefixCls:t,direction:n}=p.useContext(Ye),{prefixCls:r,size:s,className:v}=e,C=Sm(e,["prefixCls","size","className"]),c=t("btn-group",r),[,,i]=hn();let f="";switch(s){case"large":f="lg";break;case"small":f="sm";break}const h=se(c,{[`${c}-${f}`]:f,[`${c}-rtl`]:n==="rtl"},v,i);return p.createElement(od.Provider,{value:s},p.createElement("div",Object.assign({},C,{className:h})))},El=/^[\u4e00-\u9fa5]{2}$/,ns=El.test.bind(El);function ad(e){return e==="danger"?{danger:!0}:{type:e}}function _l(e){return typeof e=="string"}function sa(e){return e==="text"||e==="link"}function xm(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&_l(e.type)&&ns(e.props.children)?An(e,{children:e.props.children.split("").join(n)}):_l(e)?ns(e)?J.createElement("span",null,e.split("").join(n)):J.createElement("span",null,e):Yu(e)?J.createElement("span",null,e):e}function Em(e,t){let n=!1;const r=[];return J.Children.forEach(e,s=>{const v=typeof s,C=v==="string"||v==="number";if(n&&C){const c=r.length-1,i=r[c];r[c]=`${i}${s}`}else r.push(s);n=C}),J.Children.map(r,s=>xm(s,t))}const sd=p.forwardRef((e,t)=>{const{className:n,style:r,children:s,prefixCls:v}=e,C=se(`${v}-icon`,n);return J.createElement("span",{ref:t,className:C,style:r},s)}),Ol=p.forwardRef((e,t)=>{const{prefixCls:n,className:r,style:s,iconClassName:v}=e,C=se(`${n}-loading-icon`,r);return J.createElement(sd,{prefixCls:n,className:C,style:s,ref:t},J.createElement(ti,{className:v}))}),la=()=>({width:0,opacity:0,transform:"scale(0)"}),ca=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),_m=e=>{const{prefixCls:t,loading:n,existIcon:r,className:s,style:v}=e,C=!!n;return r?J.createElement(Ol,{prefixCls:t,className:s,style:v}):J.createElement(Yn,{visible:C,motionName:`${t}-loading-icon-motion`,motionLeave:C,removeOnLeave:!0,onAppearStart:la,onAppearActive:ca,onEnterStart:la,onEnterActive:ca,onLeaveStart:ca,onLeaveActive:la},(c,i)=>{let{className:f,style:h}=c;return J.createElement(Ol,{prefixCls:t,className:s,style:Object.assign(Object.assign({},v),h),ref:i,iconClassName:f})})},$l=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Om=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:s,colorErrorHover:v}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},$l(`${t}-primary`,s),$l(`${t}-danger`,v)]}},ld=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:r}=e;return gt(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},cd=e=>{var t,n,r,s,v,C;const c=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,i=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,f=(r=e.contentFontSizeLG)!==null&&r!==void 0?r:e.fontSizeLG,h=(s=e.contentLineHeight)!==null&&s!==void 0?s:ea(c),o=(v=e.contentLineHeightSM)!==null&&v!==void 0?v:ea(i),u=(C=e.contentLineHeightLG)!==null&&C!==void 0?C:ea(f);return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,contentFontSize:c,contentFontSizeSM:i,contentFontSizeLG:f,contentLineHeight:h,contentLineHeightSM:o,contentLineHeightLG:u,paddingBlock:Math.max((e.controlHeight-c*h)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-i*o)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-f*u)/2-e.lineWidth,0)}},$m=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${de(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},$s(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Jn=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),Tm=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Pm=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),Im=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),_i=(e,t,n,r,s,v,C,c)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},Jn(e,Object.assign({background:t},C),Object.assign({background:t},c))),{"&:disabled":{cursor:"not-allowed",color:s||void 0,borderColor:v||void 0}})}),Ns=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},Im(e))}),ud=e=>Object.assign({},Ns(e)),go=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),dd=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ud(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),Jn(e.componentCls,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),_i(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Jn(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),_i(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),Ns(e))}),Rm=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ud(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),Jn(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),_i(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},Jn(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),_i(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Ns(e))}),Mm=e=>Object.assign(Object.assign({},dd(e)),{borderStyle:"dashed"}),Lm=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},Jn(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),go(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Jn(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),go(e))}),Am=e=>Object.assign(Object.assign(Object.assign({},Jn(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),go(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},go(e)),Jn(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive}))}),Nm=e=>{const{componentCls:t}=e;return{[`${t}-default`]:dd(e),[`${t}-primary`]:Rm(e),[`${t}-dashed`]:Mm(e),[`${t}-link`]:Lm(e),[`${t}-text`]:Am(e),[`${t}-ghost`]:_i(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},Ds=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:s,lineHeight:v,borderRadius:C,buttonPaddingHorizontal:c,iconCls:i,buttonPaddingVertical:f}=e,h=`${n}-icon-only`;return[{[`${t}`]:{fontSize:s,lineHeight:v,height:r,padding:`${de(f)} ${de(c)}`,borderRadius:C,[`&${h}`]:{width:r,paddingInline:0,[`&${n}-compact-item`]:{flex:"none"},[`&${n}-round`]:{width:"auto"},[i]:{fontSize:e.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${n}${n}-circle${t}`]:Tm(e)},{[`${n}${n}-round${t}`]:Pm(e)}]},Dm=e=>{const t=gt(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return Ds(t,e.componentCls)},jm=e=>{const t=gt(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Ds(t,`${e.componentCls}-sm`)},Fm=e=>{const t=gt(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Ds(t,`${e.componentCls}-lg`)},Bm=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},km=Nt("Button",e=>{const t=ld(e);return[$m(t),Dm(t),jm(t),Fm(t),Bm(t),Nm(t),Om(t)]},cd,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function zm(e,t,n){const{focusElCls:r,focus:s,borderElCls:v}=n,C=v?"> *":"",c=["hover",s?"focus":null,"active"].filter(Boolean).map(i=>`&:${i} ${C}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[c]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${C}`]:{zIndex:0}})}}function Hm(e,t,n){const{borderElCls:r}=n,s=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${s}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Mo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},zm(e,r,t)),Hm(n,r,t))}}function Vm(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Wm(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Xm(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Vm(e,t)),Wm(e.componentCls,t))}}const Um=e=>{const{componentCls:t,calc:n}=e;return{[t]:{[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:`calc(100% + ${de(e.lineWidth)} * 2)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${de(e.lineWidth)} * 2)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},Gm=zu(["Button","compact"],e=>{const t=ld(e);return[Mo(t),Xm(t),Um(t)]},cd);var Ym=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function qm(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const Km=J.forwardRef((e,t)=>{var n,r,s;const{loading:v=!1,prefixCls:C,type:c,danger:i=!1,shape:f="default",size:h,styles:o,disabled:u,className:a,rootClassName:d,children:g,icon:l,iconPosition:m="start",ghost:b=!1,block:y=!1,htmlType:S="button",classNames:w,style:x={},autoInsertSpace:E}=e,_=Ym(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),$=c||"default",{getPrefixCls:I,direction:A,button:F}=p.useContext(Ye),z=(n=E??(F==null?void 0:F.autoInsertSpace))!==null&&n!==void 0?n:!0,D=I("btn",C),[H,B,j]=km(D),N=p.useContext(Bn),O=u??N,P=p.useContext(od),T=p.useMemo(()=>qm(v),[v]),[M,k]=p.useState(T.loading),[L,R]=p.useState(!1),W=Fn(t,p.createRef()),Y=p.Children.count(g)===1&&!l&&!sa($);p.useEffect(()=>{let he=null;T.delay>0?he=setTimeout(()=>{he=null,k(!0)},T.delay):k(T.loading);function pe(){he&&(clearTimeout(he),he=null)}return pe},[T]),p.useEffect(()=>{if(!W||!W.current||!z)return;const he=W.current.textContent;Y&&ns(he)?L||R(!0):L&&R(!1)},[W]);const Q=he=>{const{onClick:pe}=e;if(M||O){he.preventDefault();return}pe==null||pe(he)},{compactSize:G,compactItemClassnames:K}=Ni(D,A),re={large:"lg",small:"sm",middle:void 0},q=kn(he=>{var pe,ve;return(ve=(pe=h??G)!==null&&pe!==void 0?pe:P)!==null&&ve!==void 0?ve:he}),X=q&&re[q]||"",Z=M?"loading":l,ne=_n(_,["navigate"]),te=se(D,B,j,{[`${D}-${f}`]:f!=="default"&&f,[`${D}-${$}`]:$,[`${D}-${X}`]:X,[`${D}-icon-only`]:!g&&g!==0&&!!Z,[`${D}-background-ghost`]:b&&!sa($),[`${D}-loading`]:M,[`${D}-two-chinese-chars`]:L&&z&&!M,[`${D}-block`]:y,[`${D}-dangerous`]:i,[`${D}-rtl`]:A==="rtl",[`${D}-icon-end`]:m==="end"},K,a,d,F==null?void 0:F.className),ie=Object.assign(Object.assign({},F==null?void 0:F.style),x),le=se(w==null?void 0:w.icon,(r=F==null?void 0:F.classNames)===null||r===void 0?void 0:r.icon),fe=Object.assign(Object.assign({},(o==null?void 0:o.icon)||{}),((s=F==null?void 0:F.styles)===null||s===void 0?void 0:s.icon)||{}),ce=l&&!M?J.createElement(sd,{prefixCls:D,className:le,style:fe},l):J.createElement(_m,{existIcon:!!l,prefixCls:D,loading:M}),oe=g||g===0?Em(g,Y&&z):null;if(ne.href!==void 0)return H(J.createElement("a",Object.assign({},ne,{className:se(te,{[`${D}-disabled`]:O}),href:O?void 0:ne.href,style:ie,onClick:Q,ref:W,tabIndex:O?-1:0}),ce,oe));let ue=J.createElement("button",Object.assign({},_,{type:S,className:te,style:ie,onClick:Q,disabled:O,ref:W}),ce,oe,!!K&&J.createElement(Gm,{key:"compact",prefixCls:D}));return sa($)||(ue=J.createElement(Ro,{component:"Button",disabled:M},ue)),H(ue)}),yt=Km;yt.Group=wm;yt.__ANT_BUTTON=!0;function ua(e){return!!(e&&e.then)}const fd=e=>{const{type:t,children:n,prefixCls:r,buttonProps:s,close:v,autoFocus:C,emitEvent:c,isSilent:i,quitOnNullishReturnValue:f,actionFn:h}=e,o=p.useRef(!1),u=p.useRef(null),[a,d]=Xa(!1),g=function(){v==null||v.apply(void 0,arguments)};p.useEffect(()=>{let b=null;return C&&(b=setTimeout(()=>{var y;(y=u.current)===null||y===void 0||y.focus()})),()=>{b&&clearTimeout(b)}},[]);const l=b=>{ua(b)&&(d(!0),b.then(function(){d(!1,!0),g.apply(void 0,arguments),o.current=!1},y=>{if(d(!1,!0),o.current=!1,!(i!=null&&i()))return Promise.reject(y)}))},m=b=>{if(o.current)return;if(o.current=!0,!h){g();return}let y;if(c){if(y=h(b),f&&!ua(y)){o.current=!1,g(b);return}}else if(h.length)y=h(v),o.current=!1;else if(y=h(),!ua(y)){g();return}l(y)};return p.createElement(yt,Object.assign({},ad(t),{onClick:m,loading:a,prefixCls:r},s,{ref:u}),n)},Di=J.createContext({}),{Provider:hd}=Di,Tl=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:s,rootPrefixCls:v,close:C,onCancel:c,onConfirm:i}=p.useContext(Di);return s?J.createElement(fd,{isSilent:r,actionFn:c,close:function(){C==null||C.apply(void 0,arguments),i==null||i(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${v}-btn`},n):null},Pl=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:s,okTextLocale:v,okType:C,onConfirm:c,onOk:i}=p.useContext(Di);return J.createElement(fd,{isSilent:n,type:C||"primary",actionFn:i,close:function(){t==null||t.apply(void 0,arguments),c==null||c(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${s}-btn`},v)};var gd=p.createContext(null),Il=[];function Qm(e,t){var n=p.useState(function(){if(!Tr())return null;var d=document.createElement("div");return d}),r=ge(n,1),s=r[0],v=p.useRef(!1),C=p.useContext(gd),c=p.useState(Il),i=ge(c,2),f=i[0],h=i[1],o=C||(v.current?void 0:function(d){h(function(g){var l=[d].concat(Se(g));return l})});function u(){s.parentElement||document.body.appendChild(s),v.current=!0}function a(){var d;(d=s.parentElement)===null||d===void 0||d.removeChild(s),v.current=!1}return It(function(){return e?C?C(u):u():a(),a},[e]),It(function(){f.length&&(f.forEach(function(d){return d()}),h(Il))},[f]),[s,o]}function Jm(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var s,v;if(e){var C=getComputedStyle(e);r.scrollbarColor=C.scrollbarColor,r.scrollbarWidth=C.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),i=parseInt(c.width,10),f=parseInt(c.height,10);try{var h=i?"width: ".concat(c.width,";"):"",o=f?"height: ".concat(c.height,";"):"";Os(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(h,`
`).concat(o,`
}`),t)}catch(d){console.error(d),s=i,v=f}}document.body.appendChild(n);var u=e&&s&&!isNaN(s)?s:n.offsetWidth-n.clientWidth,a=e&&v&&!isNaN(v)?v:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Ga(t),{width:u,height:a}}function Zm(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:Jm(e)}function ev(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var tv="rc-util-locker-".concat(Date.now()),Rl=0;function nv(e){var t=!!e,n=p.useState(function(){return Rl+=1,"".concat(tv,"_").concat(Rl)}),r=ge(n,1),s=r[0];It(function(){if(t){var v=Zm(document.body).width,C=ev();Os(`
html body {
  overflow-y: hidden;
  `.concat(C?"width: calc(100% - ".concat(v,"px);"):"",`
}`),s)}else Ga(s);return function(){Ga(s)}},[t,s])}var rv=!1;function iv(e){return rv}var Ml=function(t){return t===!1?!1:!Tr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Lo=p.forwardRef(function(e,t){var n=e.open,r=e.autoLock,s=e.getContainer;e.debug;var v=e.autoDestroy,C=v===void 0?!0:v,c=e.children,i=p.useState(n),f=ge(i,2),h=f[0],o=f[1],u=h||n;p.useEffect(function(){(C||n)&&o(n)},[n,C]);var a=p.useState(function(){return Ml(s)}),d=ge(a,2),g=d[0],l=d[1];p.useEffect(function(){var A=Ml(s);l(A??null)});var m=Qm(u&&!g),b=ge(m,2),y=b[0],S=b[1],w=g??y;nv(r&&n&&Tr()&&(w===y||w===document.body));var x=null;if(c&&_o(c)&&t){var E=c;x=E.ref}var _=Ii(x,t);if(!u||!Tr()||g===void 0)return null;var $=w===!1||iv(),I=c;return t&&(I=p.cloneElement(c,{ref:_})),p.createElement(gd.Provider,{value:S},$?I:$r.createPortal(I,w))}),md=p.createContext({});function ov(){var e=ae({},e0);return e.useId}var Ll=0,Al=ov();const vd=Al?function(t){var n=Al();return t||n}:function(t){var n=p.useState("ssr-id"),r=ge(n,2),s=r[0],v=r[1];return p.useEffect(function(){var C=Ll;Ll+=1,v("rc_unique_".concat(C))},[]),t||s};function Nl(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function Dl(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var s=e.document;n=s.documentElement[r],typeof n!="number"&&(n=s.body[r])}return n}function av(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,s=r.defaultView||r.parentWindow;return n.left+=Dl(s),n.top+=Dl(s,!0),n}const sv=p.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var jl={width:0,height:0,overflow:"hidden",outline:"none"},lv={outline:"none"},pd=J.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,s=e.style,v=e.title,C=e.ariaId,c=e.footer,i=e.closable,f=e.closeIcon,h=e.onClose,o=e.children,u=e.bodyStyle,a=e.bodyProps,d=e.modalRender,g=e.onMouseDown,l=e.onMouseUp,m=e.holderRef,b=e.visible,y=e.forceRender,S=e.width,w=e.height,x=e.classNames,E=e.styles,_=J.useContext(md),$=_.panel,I=Ii(m,$),A=p.useRef(),F=p.useRef(),z=p.useRef();J.useImperativeHandle(t,function(){return{focus:function(){var M;(M=z.current)===null||M===void 0||M.focus()},changeActive:function(M){var k=document,L=k.activeElement;M&&L===F.current?A.current.focus():!M&&L===A.current&&F.current.focus()}}});var D={};S!==void 0&&(D.width=S),w!==void 0&&(D.height=w);var H;c&&(H=J.createElement("div",{className:se("".concat(n,"-footer"),x==null?void 0:x.footer),style:ae({},E==null?void 0:E.footer)},c));var B;v&&(B=J.createElement("div",{className:se("".concat(n,"-header"),x==null?void 0:x.header),style:ae({},E==null?void 0:E.header)},J.createElement("div",{className:"".concat(n,"-title"),id:C},v)));var j=p.useMemo(function(){return et(i)==="object"&&i!==null?i:i?{closeIcon:f??J.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[i,f]),N=On(j,!0),O;i&&(O=J.createElement("button",ye({type:"button",onClick:h,"aria-label":"Close"},N,{className:"".concat(n,"-close")}),j.closeIcon));var P=J.createElement("div",{className:se("".concat(n,"-content"),x==null?void 0:x.content),style:E==null?void 0:E.content},O,B,J.createElement("div",ye({className:se("".concat(n,"-body"),x==null?void 0:x.body),style:ae(ae({},u),E==null?void 0:E.body)},a),o),H);return J.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":v?C:null,"aria-modal":"true",ref:I,style:ae(ae({},s),D),className:se(n,r),onMouseDown:g,onMouseUp:l},J.createElement("div",{tabIndex:0,ref:A,style:jl,"aria-hidden":"true"}),J.createElement("div",{ref:z,tabIndex:-1,style:lv},J.createElement(sv,{shouldUpdate:b||y},d?d(P):P)),J.createElement("div",{tabIndex:0,ref:F,style:jl,"aria-hidden":"true"}))}),bd=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,s=e.style,v=e.className,C=e.visible,c=e.forceRender,i=e.destroyOnClose,f=e.motionName,h=e.ariaId,o=e.onVisibleChanged,u=e.mousePosition,a=p.useRef(),d=p.useState(),g=ge(d,2),l=g[0],m=g[1],b={};l&&(b.transformOrigin=l);function y(){var S=av(a.current);m(u?"".concat(u.x-S.left,"px ").concat(u.y-S.top,"px"):"")}return p.createElement(Yn,{visible:C,onVisibleChanged:o,onAppearPrepare:y,onEnterPrepare:y,forceRender:c,motionName:f,removeOnLeave:i,ref:a},function(S,w){var x=S.className,E=S.style;return p.createElement(pd,ye({},e,{ref:t,title:r,ariaId:h,prefixCls:n,holderRef:w,style:ae(ae(ae({},E),s),b),className:se(v,x)}))})});bd.displayName="Content";function cv(e){var t=e.prefixCls,n=e.style,r=e.visible,s=e.maskProps,v=e.motionName,C=e.className;return p.createElement(Yn,{key:"mask",visible:r,motionName:v,leavedClassName:"".concat(t,"-mask-hidden")},function(c,i){var f=c.className,h=c.style;return p.createElement("div",ye({ref:i,style:ae(ae({},h),n),className:se("".concat(t,"-mask"),f,C)},s))})}function uv(e){var t=e.prefixCls,n=t===void 0?"rc-dialog":t,r=e.zIndex,s=e.visible,v=s===void 0?!1:s,C=e.keyboard,c=C===void 0?!0:C,i=e.focusTriggerAfterClose,f=i===void 0?!0:i,h=e.wrapStyle,o=e.wrapClassName,u=e.wrapProps,a=e.onClose,d=e.afterOpenChange,g=e.afterClose,l=e.transitionName,m=e.animation,b=e.closable,y=b===void 0?!0:b,S=e.mask,w=S===void 0?!0:S,x=e.maskTransitionName,E=e.maskAnimation,_=e.maskClosable,$=_===void 0?!0:_,I=e.maskStyle,A=e.maskProps,F=e.rootClassName,z=e.classNames,D=e.styles,H=p.useRef(),B=p.useRef(),j=p.useRef(),N=p.useState(v),O=ge(N,2),P=O[0],T=O[1],M=vd();function k(){cl(B.current,document.activeElement)||(H.current=document.activeElement)}function L(){if(!cl(B.current,document.activeElement)){var q;(q=j.current)===null||q===void 0||q.focus()}}function R(q){if(q)L();else{if(T(!1),w&&H.current&&f){try{H.current.focus({preventScroll:!0})}catch{}H.current=null}P&&(g==null||g())}d==null||d(q)}function V(q){a==null||a(q)}var W=p.useRef(!1),Y=p.useRef(),Q=function(){clearTimeout(Y.current),W.current=!0},G=function(){Y.current=setTimeout(function(){W.current=!1})},K=null;$&&(K=function(X){W.current?W.current=!1:B.current===X.target&&V(X)});function re(q){if(c&&q.keyCode===me.ESC){q.stopPropagation(),V(q);return}v&&q.keyCode===me.TAB&&j.current.changeActive(!q.shiftKey)}return p.useEffect(function(){v&&(T(!0),k())},[v]),p.useEffect(function(){return function(){clearTimeout(Y.current)}},[]),p.createElement("div",ye({className:se("".concat(n,"-root"),F)},On(e,{data:!0})),p.createElement(cv,{prefixCls:n,visible:w&&v,motionName:Nl(n,x,E),style:ae(ae({zIndex:r},I),D==null?void 0:D.mask),maskProps:A,className:z==null?void 0:z.mask}),p.createElement("div",ye({tabIndex:-1,onKeyDown:re,className:se("".concat(n,"-wrap"),o,z==null?void 0:z.wrapper),ref:B,onClick:K,style:ae(ae(ae({zIndex:r},h),D==null?void 0:D.wrapper),{},{display:P?null:"none"})},u),p.createElement(bd,ye({},e,{onMouseDown:Q,onMouseUp:G,ref:j,closable:y,ariaId:M,prefixCls:n,visible:v&&P,onClose:V,onVisibleChanged:R,motionName:Nl(n,l,m)}))))}var js=function(t){var n=t.visible,r=t.getContainer,s=t.forceRender,v=t.destroyOnClose,C=v===void 0?!1:v,c=t.afterClose,i=t.panelRef,f=p.useState(n),h=ge(f,2),o=h[0],u=h[1],a=p.useMemo(function(){return{panel:i}},[i]);return p.useEffect(function(){n&&u(!0)},[n]),!s&&C&&!o?null:p.createElement(md.Provider,{value:a},p.createElement(Lo,{open:n||s||o,autoDestroy:!1,getContainer:r,autoLock:n||o},p.createElement(uv,ye({},t,{destroyOnClose:C,afterClose:function(){c==null||c(),u(!1)}}))))};js.displayName="Dialog";function Fl(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Bl(e){const{closable:t,closeIcon:n}=e||{};return J.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}function kl(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(s=>{s&&Object.keys(s).forEach(v=>{s[v]!==void 0&&(e[v]=s[v])})}),e}const dv={};function fv(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dv;const r=Bl(e),s=Bl(t),v=J.useMemo(()=>Object.assign({closeIcon:J.createElement(Rr,null)},n),[n]),C=J.useMemo(()=>r===!1?!1:r?kl(v,s,r):s===!1?!1:s?kl(v,s):v.closable?v:!1,[r,s,v]);return J.useMemo(()=>{if(C===!1)return[!1,null];const{closeIconRender:c}=v,{closeIcon:i}=C;let f=i;if(f!=null){c&&(f=c(i));const h=On(C,!0);Object.keys(h).length&&(f=J.isValidElement(f)?J.cloneElement(f,h):J.createElement("span",Object.assign({},h),f))}return[!0,f]},[C,v])}const hv=()=>Tr()&&window.document.documentElement;var Sr="RC_FORM_INTERNAL_HOOKS",St=function(){sn(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ni=p.createContext({getFieldValue:St,getFieldsValue:St,getFieldError:St,getFieldWarning:St,getFieldsError:St,isFieldsTouched:St,isFieldTouched:St,isFieldValidating:St,isFieldsValidating:St,resetFields:St,setFields:St,setFieldValue:St,setFieldsValue:St,validateFields:St,submit:St,getInternalHooks:function(){return St(),{dispatch:St,initEntityValue:St,registerField:St,useSubscribe:St,setInitialValues:St,destroyForm:St,setCallbacks:St,registerWatch:St,getFields:St,setValidateMessages:St,setPreserve:St,getInitialValue:St}}}),mo=p.createContext(null);function rs(e){return e==null?[]:Array.isArray(e)?e:[e]}function gv(e){return e&&!!e._init}function is(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var os=is();function mv(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function vv(e,t,n){if(wu())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var s=new(e.bind.apply(e,r));return n&&Ou(s,n.prototype),s}function as(e){var t=typeof Map=="function"?new Map:void 0;return as=function(r){if(r===null||!mv(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return vv(r,arguments,Wa(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Ou(s,r)},as(e)}var pv=/%[sdj%]/g,bv=function(){};function ss(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,v=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var C=e.replace(pv,function(c){if(c==="%%")return"%";if(s>=v)return c;switch(c){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return c}});return C}return e}function Cv(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Wt(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Cv(t)&&typeof e=="string"&&!e)}function yv(e,t,n){var r=[],s=0,v=e.length;function C(c){r.push.apply(r,Se(c||[])),s++,s===v&&n(r)}e.forEach(function(c){t(c,C)})}function zl(e,t,n){var r=0,s=e.length;function v(C){if(C&&C.length){n(C);return}var c=r;r=r+1,c<s?t(e[c],v):n([])}v([])}function Sv(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,Se(e[n]||[]))}),t}var Hl=function(e){fr(n,e);var t=ii(n);function n(r,s){var v;return Jt(this,n),v=t.call(this,"Async Validation Error"),ee(tt(v),"errors",void 0),ee(tt(v),"fields",void 0),v.errors=r,v.fields=s,v}return Zt(n)}(as(Error));function wv(e,t,n,r,s){if(t.first){var v=new Promise(function(u,a){var d=function(m){return r(m),m.length?a(new Hl(m,ss(m))):u(s)},g=Sv(e);zl(g,n,d)});return v.catch(function(u){return u}),v}var C=t.firstFields===!0?Object.keys(e):t.firstFields||[],c=Object.keys(e),i=c.length,f=0,h=[],o=new Promise(function(u,a){var d=function(l){if(h.push.apply(h,l),f++,f===i)return r(h),h.length?a(new Hl(h,ss(h))):u(s)};c.length||(r(h),u(s)),c.forEach(function(g){var l=e[g];C.indexOf(g)!==-1?zl(l,n,d):yv(l,n,d)})});return o.catch(function(u){return u}),o}function xv(e){return!!(e&&e.message!==void 0)}function Ev(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function Vl(e,t){return function(n){var r;return e.fullFields?r=Ev(t,e.fullFields):r=t[n.field||e.fullField],xv(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function Wl(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];et(r)==="object"&&et(e[n])==="object"?e[n]=ae(ae({},e[n]),r):e[n]=r}}return e}var Br="enum",_v=function(t,n,r,s,v){t[Br]=Array.isArray(t[Br])?t[Br]:[],t[Br].indexOf(n)===-1&&s.push(fn(v.messages[Br],t.fullField,t[Br].join(", ")))},Ov=function(t,n,r,s,v){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||s.push(fn(v.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var C=new RegExp(t.pattern);C.test(n)||s.push(fn(v.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},$v=function(t,n,r,s,v){var C=typeof t.len=="number",c=typeof t.min=="number",i=typeof t.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,o=null,u=typeof n=="number",a=typeof n=="string",d=Array.isArray(n);if(u?o="number":a?o="string":d&&(o="array"),!o)return!1;d&&(h=n.length),a&&(h=n.replace(f,"_").length),C?h!==t.len&&s.push(fn(v.messages[o].len,t.fullField,t.len)):c&&!i&&h<t.min?s.push(fn(v.messages[o].min,t.fullField,t.min)):i&&!c&&h>t.max?s.push(fn(v.messages[o].max,t.fullField,t.max)):c&&i&&(h<t.min||h>t.max)&&s.push(fn(v.messages[o].range,t.fullField,t.min,t.max))},Cd=function(t,n,r,s,v,C){t.required&&(!r.hasOwnProperty(t.field)||Wt(n,C||t.type))&&s.push(fn(v.messages.required,t.fullField))},Yi;const Tv=function(){if(Yi)return Yi;var e="[a-fA-F\\d:]",t=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],v="(?:%[0-9a-zA-Z]{1,})?",C="(?:".concat(s.join("|"),")").concat(v),c=new RegExp("(?:^".concat(n,"$)|(?:^").concat(C,"$)")),i=new RegExp("^".concat(n,"$")),f=new RegExp("^".concat(C,"$")),h=function(x){return x&&x.exact?c:new RegExp("(?:".concat(t(x)).concat(n).concat(t(x),")|(?:").concat(t(x)).concat(C).concat(t(x),")"),"g")};h.v4=function(w){return w&&w.exact?i:new RegExp("".concat(t(w)).concat(n).concat(t(w)),"g")},h.v6=function(w){return w&&w.exact?f:new RegExp("".concat(t(w)).concat(C).concat(t(w)),"g")};var o="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",a=h.v4().source,d=h.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",l="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',S="(?:".concat(o,"|www\\.)").concat(u,"(?:localhost|").concat(a,"|").concat(d,"|").concat(g).concat(l).concat(m,")").concat(b).concat(y);return Yi=new RegExp("(?:^".concat(S,"$)"),"i"),Yi};var Xl={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},vi={integer:function(t){return vi.number(t)&&parseInt(t,10)===t},float:function(t){return vi.number(t)&&!vi.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return et(t)==="object"&&!vi.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Xl.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Tv())},hex:function(t){return typeof t=="string"&&!!t.match(Xl.hex)}},Pv=function(t,n,r,s,v){if(t.required&&n===void 0){Cd(t,n,r,s,v);return}var C=["integer","float","array","regexp","object","method","email","number","date","url","hex"],c=t.type;C.indexOf(c)>-1?vi[c](n)||s.push(fn(v.messages.types[c],t.fullField,t.type)):c&&et(n)!==t.type&&s.push(fn(v.messages.types[c],t.fullField,t.type))},Iv=function(t,n,r,s,v){(/^\s+$/.test(n)||n==="")&&s.push(fn(v.messages.whitespace,t.fullField))};const ht={required:Cd,whitespace:Iv,type:Pv,range:$v,enum:_v,pattern:Ov};var Rv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v)}r(C)},Mv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(n==null&&!t.required)return r();ht.required(t,n,s,C,v,"array"),n!=null&&(ht.type(t,n,s,C,v),ht.range(t,n,s,C,v))}r(C)},Lv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&ht.type(t,n,s,C,v)}r(C)},Av=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n,"date")&&!t.required)return r();if(ht.required(t,n,s,C,v),!Wt(n,"date")){var i;n instanceof Date?i=n:i=new Date(n),ht.type(t,i,s,C,v),i&&ht.range(t,i.getTime(),s,C,v)}}r(C)},Nv="enum",Dv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&ht[Nv](t,n,s,C,v)}r(C)},jv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&(ht.type(t,n,s,C,v),ht.range(t,n,s,C,v))}r(C)},Fv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&(ht.type(t,n,s,C,v),ht.range(t,n,s,C,v))}r(C)},Bv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&ht.type(t,n,s,C,v)}r(C)},kv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(n===""&&(n=void 0),Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&(ht.type(t,n,s,C,v),ht.range(t,n,s,C,v))}r(C)},zv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),n!==void 0&&ht.type(t,n,s,C,v)}r(C)},Hv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n,"string")&&!t.required)return r();ht.required(t,n,s,C,v),Wt(n,"string")||ht.pattern(t,n,s,C,v)}r(C)},Vv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n)&&!t.required)return r();ht.required(t,n,s,C,v),Wt(n)||ht.type(t,n,s,C,v)}r(C)},Wv=function(t,n,r,s,v){var C=[],c=Array.isArray(n)?"array":et(n);ht.required(t,n,s,C,v,c),r(C)},Xv=function(t,n,r,s,v){var C=[],c=t.required||!t.required&&s.hasOwnProperty(t.field);if(c){if(Wt(n,"string")&&!t.required)return r();ht.required(t,n,s,C,v,"string"),Wt(n,"string")||(ht.type(t,n,s,C,v),ht.range(t,n,s,C,v),ht.pattern(t,n,s,C,v),t.whitespace===!0&&ht.whitespace(t,n,s,C,v))}r(C)},da=function(t,n,r,s,v){var C=t.type,c=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Wt(n,C)&&!t.required)return r();ht.required(t,n,s,c,v,C),Wt(n,C)||ht.type(t,n,s,c,v)}r(c)};const Si={string:Xv,method:Bv,number:kv,boolean:Lv,regexp:Vv,integer:Fv,float:jv,array:Mv,object:zv,enum:Dv,pattern:Hv,date:Av,url:da,hex:da,email:da,required:Wv,any:Rv};var ji=function(){function e(t){Jt(this,e),ee(this,"rules",null),ee(this,"_messages",os),this.define(t)}return Zt(e,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(et(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var v=n[s];r.rules[s]=Array.isArray(v)?v:[v]})}},{key:"messages",value:function(n){return n&&(this._messages=Wl(is(),n)),this._messages}},{key:"validate",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},C=n,c=s,i=v;if(typeof c=="function"&&(i=c,c={}),!this.rules||Object.keys(this.rules).length===0)return i&&i(null,C),Promise.resolve(C);function f(d){var g=[],l={};function m(y){if(Array.isArray(y)){var S;g=(S=g).concat.apply(S,Se(y))}else g.push(y)}for(var b=0;b<d.length;b++)m(d[b]);g.length?(l=ss(g),i(g,l)):i(null,C)}if(c.messages){var h=this.messages();h===os&&(h=is()),Wl(h,c.messages),c.messages=h}else c.messages=this.messages();var o={},u=c.keys||Object.keys(this.rules);u.forEach(function(d){var g=r.rules[d],l=C[d];g.forEach(function(m){var b=m;typeof b.transform=="function"&&(C===n&&(C=ae({},C)),l=C[d]=b.transform(l),l!=null&&(b.type=b.type||(Array.isArray(l)?"array":et(l)))),typeof b=="function"?b={validator:b}:b=ae({},b),b.validator=r.getValidationMethod(b),b.validator&&(b.field=d,b.fullField=b.fullField||d,b.type=r.getType(b),o[d]=o[d]||[],o[d].push({rule:b,value:l,source:C,field:d}))})});var a={};return wv(o,c,function(d,g){var l=d.rule,m=(l.type==="object"||l.type==="array")&&(et(l.fields)==="object"||et(l.defaultField)==="object");m=m&&(l.required||!l.required&&d.value),l.field=d.field;function b(E,_){return ae(ae({},_),{},{fullField:"".concat(l.fullField,".").concat(E),fullFields:l.fullFields?[].concat(Se(l.fullFields),[E]):[E]})}function y(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=Array.isArray(E)?E:[E];!c.suppressWarning&&_.length&&e.warning("async-validator:",_),_.length&&l.message!==void 0&&(_=[].concat(l.message));var $=_.map(Vl(l,C));if(c.first&&$.length)return a[l.field]=1,g($);if(!m)g($);else{if(l.required&&!d.value)return l.message!==void 0?$=[].concat(l.message).map(Vl(l,C)):c.error&&($=[c.error(l,fn(c.messages.required,l.field))]),g($);var I={};l.defaultField&&Object.keys(d.value).map(function(z){I[z]=l.defaultField}),I=ae(ae({},I),d.rule.fields);var A={};Object.keys(I).forEach(function(z){var D=I[z],H=Array.isArray(D)?D:[D];A[z]=H.map(b.bind(null,z))});var F=new e(A);F.messages(c.messages),d.rule.options&&(d.rule.options.messages=c.messages,d.rule.options.error=c.error),F.validate(d.value,d.rule.options||c,function(z){var D=[];$&&$.length&&D.push.apply(D,Se($)),z&&z.length&&D.push.apply(D,Se(z)),g(D.length?D:null)})}}var S;if(l.asyncValidator)S=l.asyncValidator(l,d.value,y,d.source,c);else if(l.validator){try{S=l.validator(l,d.value,y,d.source,c)}catch(E){var w,x;(w=(x=console).error)===null||w===void 0||w.call(x,E),c.suppressValidatorError||setTimeout(function(){throw E},0),y(E.message)}S===!0?y():S===!1?y(typeof l.message=="function"?l.message(l.fullField||l.field):l.message||"".concat(l.fullField||l.field," fails")):S instanceof Array?y(S):S instanceof Error&&y(S.message)}S&&S.then&&S.then(function(){return y()},function(E){return y(E)})},function(d){f(d)},C)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Si.hasOwnProperty(n.type))throw new Error(fn("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),s=r.indexOf("message");return s!==-1&&r.splice(s,1),r.length===1&&r[0]==="required"?Si.required:Si[this.getType(n)]||void 0}}]),e}();ee(ji,"register",function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Si[t]=n});ee(ji,"warning",bv);ee(ji,"messages",os);ee(ji,"validators",Si);var dn="'${name}' is not a valid ${type}",yd={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:dn,method:dn,array:dn,object:dn,number:dn,date:dn,boolean:dn,integer:dn,float:dn,regexp:dn,email:dn,url:dn,hex:dn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ul=ji;function Uv(e,t){return e.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return t[r]})}var Gl="CODE_LOGIC_ERROR";function ls(e,t,n,r,s){return cs.apply(this,arguments)}function cs(){return cs=gr(Qt().mark(function e(t,n,r,s,v){var C,c,i,f,h,o,u,a,d;return Qt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return C=ae({},r),delete C.ruleIndex,Ul.warning=function(){},C.validator&&(c=C.validator,C.validator=function(){try{return c.apply(void 0,arguments)}catch(m){return console.error(m),Promise.reject(Gl)}}),i=null,C&&C.type==="array"&&C.defaultField&&(i=C.defaultField,delete C.defaultField),f=new Ul(ee({},t,[C])),h=mi(yd,s.validateMessages),f.messages(h),o=[],l.prev=10,l.next=13,Promise.resolve(f.validate(ee({},t,n),ae({},s)));case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(10),l.t0.errors&&(o=l.t0.errors.map(function(m,b){var y=m.message,S=y===Gl?h.default:y;return p.isValidElement(S)?p.cloneElement(S,{key:"error_".concat(b)}):S}));case 18:if(!(!o.length&&i)){l.next=23;break}return l.next=21,Promise.all(n.map(function(m,b){return ls("".concat(t,".").concat(b),m,i,s,v)}));case 21:return u=l.sent,l.abrupt("return",u.reduce(function(m,b){return[].concat(Se(m),Se(b))},[]));case 23:return a=ae(ae({},r),{},{name:t,enum:(r.enum||[]).join(", ")},v),d=o.map(function(m){return typeof m=="string"?Uv(m,a):m}),l.abrupt("return",d);case 26:case"end":return l.stop()}},e,null,[[10,15]])})),cs.apply(this,arguments)}function Gv(e,t,n,r,s,v){var C=e.join("."),c=n.map(function(h,o){var u=h.validator,a=ae(ae({},h),{},{ruleIndex:o});return u&&(a.validator=function(d,g,l){var m=!1,b=function(){for(var w=arguments.length,x=new Array(w),E=0;E<w;E++)x[E]=arguments[E];Promise.resolve().then(function(){sn(!m,"Your validator function has already return a promise. `callback` will be ignored."),m||l.apply(void 0,x)})},y=u(d,g,b);m=y&&typeof y.then=="function"&&typeof y.catch=="function",sn(m,"`callback` is deprecated. Please return a promise instead."),m&&y.then(function(){l()}).catch(function(S){l(S||" ")})}),a}).sort(function(h,o){var u=h.warningOnly,a=h.ruleIndex,d=o.warningOnly,g=o.ruleIndex;return!!u==!!d?a-g:u?1:-1}),i;if(s===!0)i=new Promise(function(){var h=gr(Qt().mark(function o(u,a){var d,g,l;return Qt().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:d=0;case 1:if(!(d<c.length)){b.next=12;break}return g=c[d],b.next=5,ls(C,t,g,r,v);case 5:if(l=b.sent,!l.length){b.next=9;break}return a([{errors:l,rule:g}]),b.abrupt("return");case 9:d+=1,b.next=1;break;case 12:u([]);case 13:case"end":return b.stop()}},o)}));return function(o,u){return h.apply(this,arguments)}}());else{var f=c.map(function(h){return ls(C,t,h,r,v).then(function(o){return{errors:o,rule:h}})});i=(s?qv(f):Yv(f)).then(function(h){return Promise.reject(h)})}return i.catch(function(h){return h}),i}function Yv(e){return us.apply(this,arguments)}function us(){return us=gr(Qt().mark(function e(t){return Qt().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(s){var v,C=(v=[]).concat.apply(v,Se(s));return C}));case 1:case"end":return r.stop()}},e)})),us.apply(this,arguments)}function qv(e){return ds.apply(this,arguments)}function ds(){return ds=gr(Qt().mark(function e(t){var n;return Qt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=0,s.abrupt("return",new Promise(function(v){t.forEach(function(C){C.then(function(c){c.errors.length&&v([c]),n+=1,n===t.length&&v([])})})}));case 2:case"end":return s.stop()}},e)})),ds.apply(this,arguments)}function Ft(e){return rs(e)}function Yl(e,t){var n={};return t.forEach(function(r){var s=yr(e,r);n=lr(n,r,s)}),n}function Yr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return Sd(t,r,n)})}function Sd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,s){return e[s]===r})}function Kv(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||et(e)!=="object"||et(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),s=new Set([].concat(n,r));return Se(s).every(function(v){var C=e[v],c=t[v];return typeof C=="function"&&typeof c=="function"?!0:C===c})}function Qv(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&et(t.target)==="object"&&e in t.target?t.target[e]:t}function ql(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var s=e[t],v=t-n;return v>0?[].concat(Se(e.slice(0,n)),[s],Se(e.slice(n,t)),Se(e.slice(t+1,r))):v<0?[].concat(Se(e.slice(0,t)),Se(e.slice(t+1,n+1)),[s],Se(e.slice(n+1,r))):e}var Jv=["name"],Sn=[];function Kl(e,t,n,r,s,v){return typeof e=="function"?e(t,n,"source"in v?{source:v.source}:{}):r!==s}var Fs=function(e){fr(n,e);var t=ii(n);function n(r){var s;if(Jt(this,n),s=t.call(this,r),ee(tt(s),"state",{resetCount:0}),ee(tt(s),"cancelRegisterFunc",null),ee(tt(s),"mounted",!1),ee(tt(s),"touched",!1),ee(tt(s),"dirty",!1),ee(tt(s),"validatePromise",void 0),ee(tt(s),"prevValidating",void 0),ee(tt(s),"errors",Sn),ee(tt(s),"warnings",Sn),ee(tt(s),"cancelRegister",function(){var i=s.props,f=i.preserve,h=i.isListField,o=i.name;s.cancelRegisterFunc&&s.cancelRegisterFunc(h,f,Ft(o)),s.cancelRegisterFunc=null}),ee(tt(s),"getNamePath",function(){var i=s.props,f=i.name,h=i.fieldContext,o=h.prefixName,u=o===void 0?[]:o;return f!==void 0?[].concat(Se(u),Se(f)):[]}),ee(tt(s),"getRules",function(){var i=s.props,f=i.rules,h=f===void 0?[]:f,o=i.fieldContext;return h.map(function(u){return typeof u=="function"?u(o):u})}),ee(tt(s),"refresh",function(){s.mounted&&s.setState(function(i){var f=i.resetCount;return{resetCount:f+1}})}),ee(tt(s),"metaCache",null),ee(tt(s),"triggerMetaEvent",function(i){var f=s.props.onMetaChange;if(f){var h=ae(ae({},s.getMeta()),{},{destroy:i});lo(s.metaCache,h)||f(h),s.metaCache=h}else s.metaCache=null}),ee(tt(s),"onStoreChange",function(i,f,h){var o=s.props,u=o.shouldUpdate,a=o.dependencies,d=a===void 0?[]:a,g=o.onReset,l=h.store,m=s.getNamePath(),b=s.getValue(i),y=s.getValue(l),S=f&&Yr(f,m);switch(h.type==="valueUpdate"&&h.source==="external"&&!lo(b,y)&&(s.touched=!0,s.dirty=!0,s.validatePromise=null,s.errors=Sn,s.warnings=Sn,s.triggerMetaEvent()),h.type){case"reset":if(!f||S){s.touched=!1,s.dirty=!1,s.validatePromise=void 0,s.errors=Sn,s.warnings=Sn,s.triggerMetaEvent(),g==null||g(),s.refresh();return}break;case"remove":{if(u){s.reRender();return}break}case"setField":{var w=h.data;if(S){"touched"in w&&(s.touched=w.touched),"validating"in w&&!("originRCField"in w)&&(s.validatePromise=w.validating?Promise.resolve([]):null),"errors"in w&&(s.errors=w.errors||Sn),"warnings"in w&&(s.warnings=w.warnings||Sn),s.dirty=!0,s.triggerMetaEvent(),s.reRender();return}else if("value"in w&&Yr(f,m,!0)){s.reRender();return}if(u&&!m.length&&Kl(u,i,l,b,y,h)){s.reRender();return}break}case"dependenciesUpdate":{var x=d.map(Ft);if(x.some(function(E){return Yr(h.relatedFields,E)})){s.reRender();return}break}default:if(S||(!d.length||m.length||u)&&Kl(u,i,l,b,y,h)){s.reRender();return}break}u===!0&&s.reRender()}),ee(tt(s),"validateRules",function(i){var f=s.getNamePath(),h=s.getValue(),o=i||{},u=o.triggerName,a=o.validateOnly,d=a===void 0?!1:a,g=Promise.resolve().then(gr(Qt().mark(function l(){var m,b,y,S,w,x,E;return Qt().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(s.mounted){$.next=2;break}return $.abrupt("return",[]);case 2:if(m=s.props,b=m.validateFirst,y=b===void 0?!1:b,S=m.messageVariables,w=m.validateDebounce,x=s.getRules(),u&&(x=x.filter(function(I){return I}).filter(function(I){var A=I.validateTrigger;if(!A)return!0;var F=rs(A);return F.includes(u)})),!(w&&u)){$.next=10;break}return $.next=8,new Promise(function(I){setTimeout(I,w)});case 8:if(s.validatePromise===g){$.next=10;break}return $.abrupt("return",[]);case 10:return E=Gv(f,h,x,i,y,S),E.catch(function(I){return I}).then(function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sn;if(s.validatePromise===g){var A;s.validatePromise=null;var F=[],z=[];(A=I.forEach)===null||A===void 0||A.call(I,function(D){var H=D.rule.warningOnly,B=D.errors,j=B===void 0?Sn:B;H?z.push.apply(z,Se(j)):F.push.apply(F,Se(j))}),s.errors=F,s.warnings=z,s.triggerMetaEvent(),s.reRender()}}),$.abrupt("return",E);case 13:case"end":return $.stop()}},l)})));return d||(s.validatePromise=g,s.dirty=!0,s.errors=Sn,s.warnings=Sn,s.triggerMetaEvent(),s.reRender()),g}),ee(tt(s),"isFieldValidating",function(){return!!s.validatePromise}),ee(tt(s),"isFieldTouched",function(){return s.touched}),ee(tt(s),"isFieldDirty",function(){if(s.dirty||s.props.initialValue!==void 0)return!0;var i=s.props.fieldContext,f=i.getInternalHooks(Sr),h=f.getInitialValue;return h(s.getNamePath())!==void 0}),ee(tt(s),"getErrors",function(){return s.errors}),ee(tt(s),"getWarnings",function(){return s.warnings}),ee(tt(s),"isListField",function(){return s.props.isListField}),ee(tt(s),"isList",function(){return s.props.isList}),ee(tt(s),"isPreserve",function(){return s.props.preserve}),ee(tt(s),"getMeta",function(){s.prevValidating=s.isFieldValidating();var i={touched:s.isFieldTouched(),validating:s.prevValidating,errors:s.errors,warnings:s.warnings,name:s.getNamePath(),validated:s.validatePromise===null};return i}),ee(tt(s),"getOnlyChild",function(i){if(typeof i=="function"){var f=s.getMeta();return ae(ae({},s.getOnlyChild(i(s.getControlled(),f,s.props.fieldContext))),{},{isFunction:!0})}var h=Pr(i);return h.length!==1||!p.isValidElement(h[0])?{child:h,isFunction:!1}:{child:h[0],isFunction:!1}}),ee(tt(s),"getValue",function(i){var f=s.props.fieldContext.getFieldsValue,h=s.getNamePath();return yr(i||f(!0),h)}),ee(tt(s),"getControlled",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.props,h=f.name,o=f.trigger,u=f.validateTrigger,a=f.getValueFromEvent,d=f.normalize,g=f.valuePropName,l=f.getValueProps,m=f.fieldContext,b=u!==void 0?u:m.validateTrigger,y=s.getNamePath(),S=m.getInternalHooks,w=m.getFieldsValue,x=S(Sr),E=x.dispatch,_=s.getValue(),$=l||function(D){return ee({},g,D)},I=i[o],A=h!==void 0?$(_):{},F=ae(ae({},i),A);F[o]=function(){s.touched=!0,s.dirty=!0,s.triggerMetaEvent();for(var D,H=arguments.length,B=new Array(H),j=0;j<H;j++)B[j]=arguments[j];a?D=a.apply(void 0,B):D=Qv.apply(void 0,[g].concat(B)),d&&(D=d(D,_,w(!0))),E({type:"updateValue",namePath:y,value:D}),I&&I.apply(void 0,B)};var z=rs(b||[]);return z.forEach(function(D){var H=F[D];F[D]=function(){H&&H.apply(void 0,arguments);var B=s.props.rules;B&&B.length&&E({type:"validateField",namePath:y,triggerName:D})}}),F}),r.fieldContext){var v=r.fieldContext.getInternalHooks,C=v(Sr),c=C.initEntityValue;c(tt(s))}return s}return Zt(n,[{key:"componentDidMount",value:function(){var s=this.props,v=s.shouldUpdate,C=s.fieldContext;if(this.mounted=!0,C){var c=C.getInternalHooks,i=c(Sr),f=i.registerField;this.cancelRegisterFunc=f(this)}v===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var s=this.state.resetCount,v=this.props.children,C=this.getOnlyChild(v),c=C.child,i=C.isFunction,f;return i?f=c:p.isValidElement(c)?f=p.cloneElement(c,this.getControlled(c.props)):(sn(!c,"`children` of Field is not validate ReactElement."),f=c),p.createElement(p.Fragment,{key:s},f)}}]),n}(p.Component);ee(Fs,"contextType",ni);ee(Fs,"defaultProps",{trigger:"onChange",valuePropName:"value"});function wd(e){var t=e.name,n=it(e,Jv),r=p.useContext(ni),s=p.useContext(mo),v=t!==void 0?Ft(t):void 0,C="keep";return n.isListField||(C="_".concat((v||[]).join("_"))),p.createElement(Fs,ye({key:C,name:v,isListField:!!s},n,{fieldContext:r}))}function Zv(e){var t=e.name,n=e.initialValue,r=e.children,s=e.rules,v=e.validateTrigger,C=e.isListField,c=p.useContext(ni),i=p.useContext(mo),f=p.useRef({keys:[],id:0}),h=f.current,o=p.useMemo(function(){var g=Ft(c.prefixName)||[];return[].concat(Se(g),Se(Ft(t)))},[c.prefixName,t]),u=p.useMemo(function(){return ae(ae({},c),{},{prefixName:o})},[c,o]),a=p.useMemo(function(){return{getKey:function(l){var m=o.length,b=l[m];return[h.keys[b],l.slice(m+1)]}}},[o]);if(typeof r!="function")return sn(!1,"Form.List only accepts function as children."),null;var d=function(l,m,b){var y=b.source;return y==="internal"?!1:l!==m};return p.createElement(mo.Provider,{value:a},p.createElement(ni.Provider,{value:u},p.createElement(wd,{name:[],shouldUpdate:d,rules:s,validateTrigger:v,initialValue:n,isList:!0,isListField:C??!!i},function(g,l){var m=g.value,b=m===void 0?[]:m,y=g.onChange,S=c.getFieldValue,w=function(){var $=S(o||[]);return $||[]},x={add:function($,I){var A=w();I>=0&&I<=A.length?(h.keys=[].concat(Se(h.keys.slice(0,I)),[h.id],Se(h.keys.slice(I))),y([].concat(Se(A.slice(0,I)),[$],Se(A.slice(I))))):(h.keys=[].concat(Se(h.keys),[h.id]),y([].concat(Se(A),[$]))),h.id+=1},remove:function($){var I=w(),A=new Set(Array.isArray($)?$:[$]);A.size<=0||(h.keys=h.keys.filter(function(F,z){return!A.has(z)}),y(I.filter(function(F,z){return!A.has(z)})))},move:function($,I){if($!==I){var A=w();$<0||$>=A.length||I<0||I>=A.length||(h.keys=ql(h.keys,$,I),y(ql(A,$,I)))}}},E=b||[];return Array.isArray(E)||(E=[]),r(E.map(function(_,$){var I=h.keys[$];return I===void 0&&(h.keys[$]=h.id,I=h.keys[$],h.id+=1),{name:$,key:I,isListField:!0}}),x,l)})))}function ep(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(s,v){e.forEach(function(C,c){C.catch(function(i){return t=!0,i}).then(function(i){n-=1,r[c]=i,!(n>0)&&(t&&v(r),s(r))})})}):Promise.resolve([])}var xd="__@field_split__";function fa(e){return e.map(function(t){return"".concat(et(t),":").concat(t)}).join(xd)}var kr=function(){function e(){Jt(this,e),ee(this,"kvs",new Map)}return Zt(e,[{key:"set",value:function(n,r){this.kvs.set(fa(n),r)}},{key:"get",value:function(n){return this.kvs.get(fa(n))}},{key:"update",value:function(n,r){var s=this.get(n),v=r(s);v?this.set(n,v):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(fa(n))}},{key:"map",value:function(n){return Se(this.kvs.entries()).map(function(r){var s=ge(r,2),v=s[0],C=s[1],c=v.split(xd);return n({key:c.map(function(i){var f=i.match(/^([^:]*):(.*)$/),h=ge(f,3),o=h[1],u=h[2];return o==="number"?Number(u):u}),value:C})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var s=r.key,v=r.value;return n[s.join(".")]=v,null}),n}}]),e}(),tp=["name"],np=Zt(function e(t){var n=this;Jt(this,e),ee(this,"formHooked",!1),ee(this,"forceRootUpdate",void 0),ee(this,"subscribable",!0),ee(this,"store",{}),ee(this,"fieldEntities",[]),ee(this,"initialValues",{}),ee(this,"callbacks",{}),ee(this,"validateMessages",null),ee(this,"preserve",null),ee(this,"lastValidatePromise",null),ee(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),ee(this,"getInternalHooks",function(r){return r===Sr?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(sn(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ee(this,"useSubscribe",function(r){n.subscribable=r}),ee(this,"prevWithoutPreserves",null),ee(this,"setInitialValues",function(r,s){if(n.initialValues=r||{},s){var v,C=mi(r,n.store);(v=n.prevWithoutPreserves)===null||v===void 0||v.map(function(c){var i=c.key;C=lr(C,i,yr(r,i))}),n.prevWithoutPreserves=null,n.updateStore(C)}}),ee(this,"destroyForm",function(r){if(r)n.updateStore({});else{var s=new kr;n.getFieldEntities(!0).forEach(function(v){n.isMergedPreserve(v.isPreserve())||s.set(v.getNamePath(),!0)}),n.prevWithoutPreserves=s}}),ee(this,"getInitialValue",function(r){var s=yr(n.initialValues,r);return r.length?mi(s):s}),ee(this,"setCallbacks",function(r){n.callbacks=r}),ee(this,"setValidateMessages",function(r){n.validateMessages=r}),ee(this,"setPreserve",function(r){n.preserve=r}),ee(this,"watchList",[]),ee(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(s){return s!==r})}}),ee(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var s=n.getFieldsValue(),v=n.getFieldsValue(!0);n.watchList.forEach(function(C){C(s,v,r)})}}),ee(this,"timeoutId",null),ee(this,"warningUnhooked",function(){}),ee(this,"updateStore",function(r){n.store=r}),ee(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(s){return s.getNamePath().length}):n.fieldEntities}),ee(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=new kr;return n.getFieldEntities(r).forEach(function(v){var C=v.getNamePath();s.set(C,v)}),s}),ee(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var s=n.getFieldsMap(!0);return r.map(function(v){var C=Ft(v);return s.get(C)||{INVALIDATE_NAME_PATH:Ft(v)}})}),ee(this,"getFieldsValue",function(r,s){n.warningUnhooked();var v,C,c;if(r===!0||Array.isArray(r)?(v=r,C=s):r&&et(r)==="object"&&(c=r.strict,C=r.filter),v===!0&&!C)return n.store;var i=n.getFieldEntitiesForNamePathList(Array.isArray(v)?v:null),f=[];return i.forEach(function(h){var o,u,a="INVALIDATE_NAME_PATH"in h?h.INVALIDATE_NAME_PATH:h.getNamePath();if(c){var d,g;if((d=(g=h).isList)!==null&&d!==void 0&&d.call(g))return}else if(!v&&(o=(u=h).isListField)!==null&&o!==void 0&&o.call(u))return;if(!C)f.push(a);else{var l="getMeta"in h?h.getMeta():null;C(l)&&f.push(a)}}),Yl(n.store,f.map(Ft))}),ee(this,"getFieldValue",function(r){n.warningUnhooked();var s=Ft(r);return yr(n.store,s)}),ee(this,"getFieldsError",function(r){n.warningUnhooked();var s=n.getFieldEntitiesForNamePathList(r);return s.map(function(v,C){return v&&!("INVALIDATE_NAME_PATH"in v)?{name:v.getNamePath(),errors:v.getErrors(),warnings:v.getWarnings()}:{name:Ft(r[C]),errors:[],warnings:[]}})}),ee(this,"getFieldError",function(r){n.warningUnhooked();var s=Ft(r),v=n.getFieldsError([s])[0];return v.errors}),ee(this,"getFieldWarning",function(r){n.warningUnhooked();var s=Ft(r),v=n.getFieldsError([s])[0];return v.warnings}),ee(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,s=new Array(r),v=0;v<r;v++)s[v]=arguments[v];var C=s[0],c=s[1],i,f=!1;s.length===0?i=null:s.length===1?Array.isArray(C)?(i=C.map(Ft),f=!1):(i=null,f=C):(i=C.map(Ft),f=c);var h=n.getFieldEntities(!0),o=function(l){return l.isFieldTouched()};if(!i)return f?h.every(function(g){return o(g)||g.isList()}):h.some(o);var u=new kr;i.forEach(function(g){u.set(g,[])}),h.forEach(function(g){var l=g.getNamePath();i.forEach(function(m){m.every(function(b,y){return l[y]===b})&&u.update(m,function(b){return[].concat(Se(b),[g])})})});var a=function(l){return l.some(o)},d=u.map(function(g){var l=g.value;return l});return f?d.every(a):d.some(a)}),ee(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),ee(this,"isFieldsValidating",function(r){n.warningUnhooked();var s=n.getFieldEntities();if(!r)return s.some(function(C){return C.isFieldValidating()});var v=r.map(Ft);return s.some(function(C){var c=C.getNamePath();return Yr(v,c)&&C.isFieldValidating()})}),ee(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),ee(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=new kr,v=n.getFieldEntities(!0);v.forEach(function(i){var f=i.props.initialValue,h=i.getNamePath();if(f!==void 0){var o=s.get(h)||new Set;o.add({entity:i,value:f}),s.set(h,o)}});var C=function(f){f.forEach(function(h){var o=h.props.initialValue;if(o!==void 0){var u=h.getNamePath(),a=n.getInitialValue(u);if(a!==void 0)sn(!1,"Form already set 'initialValues' with path '".concat(u.join("."),"'. Field can not overwrite it."));else{var d=s.get(u);if(d&&d.size>1)sn(!1,"Multiple Field with path '".concat(u.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(d){var g=n.getFieldValue(u),l=h.isListField();!l&&(!r.skipExist||g===void 0)&&n.updateStore(lr(n.store,u,Se(d)[0].value))}}}})},c;r.entities?c=r.entities:r.namePathList?(c=[],r.namePathList.forEach(function(i){var f=s.get(i);if(f){var h;(h=c).push.apply(h,Se(Se(f).map(function(o){return o.entity})))}})):c=v,C(c)}),ee(this,"resetFields",function(r){n.warningUnhooked();var s=n.store;if(!r){n.updateStore(mi(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(s,null,{type:"reset"}),n.notifyWatch();return}var v=r.map(Ft);v.forEach(function(C){var c=n.getInitialValue(C);n.updateStore(lr(n.store,C,c))}),n.resetWithFieldInitialValue({namePathList:v}),n.notifyObservers(s,v,{type:"reset"}),n.notifyWatch(v)}),ee(this,"setFields",function(r){n.warningUnhooked();var s=n.store,v=[];r.forEach(function(C){var c=C.name,i=it(C,tp),f=Ft(c);v.push(f),"value"in i&&n.updateStore(lr(n.store,f,i.value)),n.notifyObservers(s,[f],{type:"setField",data:C})}),n.notifyWatch(v)}),ee(this,"getFields",function(){var r=n.getFieldEntities(!0),s=r.map(function(v){var C=v.getNamePath(),c=v.getMeta(),i=ae(ae({},c),{},{name:C,value:n.getFieldValue(C)});return Object.defineProperty(i,"originRCField",{value:!0}),i});return s}),ee(this,"initEntityValue",function(r){var s=r.props.initialValue;if(s!==void 0){var v=r.getNamePath(),C=yr(n.store,v);C===void 0&&n.updateStore(lr(n.store,v,s))}}),ee(this,"isMergedPreserve",function(r){var s=r!==void 0?r:n.preserve;return s??!0}),ee(this,"registerField",function(r){n.fieldEntities.push(r);var s=r.getNamePath();if(n.notifyWatch([s]),r.props.initialValue!==void 0){var v=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(v,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(C,c){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(o){return o!==r}),!n.isMergedPreserve(c)&&(!C||i.length>1)){var f=C?void 0:n.getInitialValue(s);if(s.length&&n.getFieldValue(s)!==f&&n.fieldEntities.every(function(o){return!Sd(o.getNamePath(),s)})){var h=n.store;n.updateStore(lr(h,s,f,!0)),n.notifyObservers(h,[s],{type:"remove"}),n.triggerDependenciesUpdate(h,s)}}n.notifyWatch([s])}}),ee(this,"dispatch",function(r){switch(r.type){case"updateValue":{var s=r.namePath,v=r.value;n.updateValue(s,v);break}case"validateField":{var C=r.namePath,c=r.triggerName;n.validateFields([C],{triggerName:c});break}}}),ee(this,"notifyObservers",function(r,s,v){if(n.subscribable){var C=ae(ae({},v),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(c){var i=c.onStoreChange;i(r,s,C)})}else n.forceRootUpdate()}),ee(this,"triggerDependenciesUpdate",function(r,s){var v=n.getDependencyChildrenFields(s);return v.length&&n.validateFields(v),n.notifyObservers(r,v,{type:"dependenciesUpdate",relatedFields:[s].concat(Se(v))}),v}),ee(this,"updateValue",function(r,s){var v=Ft(r),C=n.store;n.updateStore(lr(n.store,v,s)),n.notifyObservers(C,[v],{type:"valueUpdate",source:"internal"}),n.notifyWatch([v]);var c=n.triggerDependenciesUpdate(C,v),i=n.callbacks.onValuesChange;if(i){var f=Yl(n.store,[v]);i(f,n.getFieldsValue())}n.triggerOnFieldsChange([v].concat(Se(c)))}),ee(this,"setFieldsValue",function(r){n.warningUnhooked();var s=n.store;if(r){var v=mi(n.store,r);n.updateStore(v)}n.notifyObservers(s,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),ee(this,"setFieldValue",function(r,s){n.setFields([{name:r,value:s}])}),ee(this,"getDependencyChildrenFields",function(r){var s=new Set,v=[],C=new kr;n.getFieldEntities().forEach(function(i){var f=i.props.dependencies;(f||[]).forEach(function(h){var o=Ft(h);C.update(o,function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return u.add(i),u})})});var c=function i(f){var h=C.get(f)||new Set;h.forEach(function(o){if(!s.has(o)){s.add(o);var u=o.getNamePath();o.isFieldDirty()&&u.length&&(v.push(u),i(u))}})};return c(r),v}),ee(this,"triggerOnFieldsChange",function(r,s){var v=n.callbacks.onFieldsChange;if(v){var C=n.getFields();if(s){var c=new kr;s.forEach(function(f){var h=f.name,o=f.errors;c.set(h,o)}),C.forEach(function(f){f.errors=c.get(f.name)||f.errors})}var i=C.filter(function(f){var h=f.name;return Yr(r,h)});i.length&&v(i,C)}}),ee(this,"validateFields",function(r,s){n.warningUnhooked();var v,C;Array.isArray(r)||typeof r=="string"||typeof s=="string"?(v=r,C=s):C=r;var c=!!v,i=c?v.map(Ft):[],f=[],h=String(Date.now()),o=new Set,u=C||{},a=u.recursive,d=u.dirty;n.getFieldEntities(!0).forEach(function(b){if(c||i.push(b.getNamePath()),!(!b.props.rules||!b.props.rules.length)&&!(d&&!b.isFieldDirty())){var y=b.getNamePath();if(o.add(y.join(h)),!c||Yr(i,y,a)){var S=b.validateRules(ae({validateMessages:ae(ae({},yd),n.validateMessages)},C));f.push(S.then(function(){return{name:y,errors:[],warnings:[]}}).catch(function(w){var x,E=[],_=[];return(x=w.forEach)===null||x===void 0||x.call(w,function($){var I=$.rule.warningOnly,A=$.errors;I?_.push.apply(_,Se(A)):E.push.apply(E,Se(A))}),E.length?Promise.reject({name:y,errors:E,warnings:_}):{name:y,errors:E,warnings:_}}))}}});var g=ep(f);n.lastValidatePromise=g,g.catch(function(b){return b}).then(function(b){var y=b.map(function(S){var w=S.name;return w});n.notifyObservers(n.store,y,{type:"validateFinish"}),n.triggerOnFieldsChange(y,b)});var l=g.then(function(){return n.lastValidatePromise===g?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])}).catch(function(b){var y=b.filter(function(S){return S&&S.errors.length});return Promise.reject({values:n.getFieldsValue(i),errorFields:y,outOfDate:n.lastValidatePromise!==g})});l.catch(function(b){return b});var m=i.filter(function(b){return o.has(b.join(h))});return n.triggerOnFieldsChange(m),l}),ee(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var s=n.callbacks.onFinish;if(s)try{s(r)}catch(v){console.error(v)}}).catch(function(r){var s=n.callbacks.onFinishFailed;s&&s(r)})}),this.forceRootUpdate=t});function Ed(e){var t=p.useRef(),n=p.useState({}),r=ge(n,2),s=r[1];if(!t.current)if(e)t.current=e;else{var v=function(){s({})},C=new np(v);t.current=C.getForm()}return[t.current]}var fs=p.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),rp=function(t){var n=t.validateMessages,r=t.onFormChange,s=t.onFormFinish,v=t.children,C=p.useContext(fs),c=p.useRef({});return p.createElement(fs.Provider,{value:ae(ae({},C),{},{validateMessages:ae(ae({},C.validateMessages),n),triggerFormChange:function(f,h){r&&r(f,{changedFields:h,forms:c.current}),C.triggerFormChange(f,h)},triggerFormFinish:function(f,h){s&&s(f,{values:h,forms:c.current}),C.triggerFormFinish(f,h)},registerForm:function(f,h){f&&(c.current=ae(ae({},c.current),{},ee({},f,h))),C.registerForm(f,h)},unregisterForm:function(f){var h=ae({},c.current);delete h[f],c.current=h,C.unregisterForm(f)}})},v)},ip=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],op=function(t,n){var r=t.name,s=t.initialValues,v=t.fields,C=t.form,c=t.preserve,i=t.children,f=t.component,h=f===void 0?"form":f,o=t.validateMessages,u=t.validateTrigger,a=u===void 0?"onChange":u,d=t.onValuesChange,g=t.onFieldsChange,l=t.onFinish,m=t.onFinishFailed,b=t.clearOnDestroy,y=it(t,ip),S=p.useRef(null),w=p.useContext(fs),x=Ed(C),E=ge(x,1),_=E[0],$=_.getInternalHooks(Sr),I=$.useSubscribe,A=$.setInitialValues,F=$.setCallbacks,z=$.setValidateMessages,D=$.setPreserve,H=$.destroyForm;p.useImperativeHandle(n,function(){return ae(ae({},_),{},{nativeElement:S.current})}),p.useEffect(function(){return w.registerForm(r,_),function(){w.unregisterForm(r)}},[w,_,r]),z(ae(ae({},w.validateMessages),o)),F({onValuesChange:d,onFieldsChange:function(L){if(w.triggerFormChange(r,L),g){for(var R=arguments.length,V=new Array(R>1?R-1:0),W=1;W<R;W++)V[W-1]=arguments[W];g.apply(void 0,[L].concat(V))}},onFinish:function(L){w.triggerFormFinish(r,L),l&&l(L)},onFinishFailed:m}),D(c);var B=p.useRef(null);A(s,!B.current),B.current||(B.current=!0),p.useEffect(function(){return function(){return H(b)}},[]);var j,N=typeof i=="function";if(N){var O=_.getFieldsValue(!0);j=i(O,_)}else j=i;I(!N);var P=p.useRef();p.useEffect(function(){Kv(P.current||[],v||[])||_.setFields(v||[]),P.current=v},[v,_]);var T=p.useMemo(function(){return ae(ae({},_),{},{validateTrigger:a})},[_,a]),M=p.createElement(mo.Provider,{value:null},p.createElement(ni.Provider,{value:T},j));return h===!1?M:p.createElement(h,ye({},y,{ref:S,onSubmit:function(L){L.preventDefault(),L.stopPropagation(),_.submit()},onReset:function(L){var R;L.preventDefault(),_.resetFields(),(R=y.onReset)===null||R===void 0||R.call(y,L)}}),M)};function Ql(e){try{return JSON.stringify(e)}catch{return Math.random()}}function ap(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],s=t[1],v=s===void 0?{}:s,C=gv(v)?{form:v}:v,c=C.form,i=p.useState(),f=ge(i,2),h=f[0],o=f[1],u=p.useMemo(function(){return Ql(h)},[h]),a=p.useRef(u);a.current=u;var d=p.useContext(ni),g=c||d,l=g&&g._init,m=Ft(r),b=p.useRef(m);return b.current=m,p.useEffect(function(){if(l){var y=g.getFieldsValue,S=g.getInternalHooks,w=S(Sr),x=w.registerWatch,E=function(A,F){var z=C.preserve?F:A;return typeof r=="function"?r(z):yr(z,b.current)},_=x(function(I,A){var F=E(I,A),z=Ql(F);a.current!==z&&(a.current=z,o(F))}),$=E(y(),y(!0));return h!==$&&o($),_}},[l]),h}var sp=p.forwardRef(op),Fi=sp;Fi.FormProvider=rp;Fi.Field=wd;Fi.List=Zv;Fi.useForm=Ed;Fi.useWatch=ap;const gn=p.createContext({}),Oi=e=>{let{children:t,status:n,override:r}=e;const s=p.useContext(gn),v=p.useMemo(()=>{const C=Object.assign({},s);return r&&delete C.isFormItemInput,n&&(delete C.status,delete C.hasFeedback,delete C.feedbackIcon),C},[n,r,s]);return p.createElement(gn.Provider,{value:v},t)},lp=p.createContext(void 0),Ao=e=>{const{prefixCls:t,className:n,style:r,size:s,shape:v}=e,C=se({[`${t}-lg`]:s==="large",[`${t}-sm`]:s==="small"}),c=se({[`${t}-circle`]:v==="circle",[`${t}-square`]:v==="square",[`${t}-round`]:v==="round"}),i=p.useMemo(()=>typeof s=="number"?{width:s,height:s,lineHeight:`${s}px`}:{},[s]);return p.createElement("span",{className:se(t,C,c,n),style:Object.assign(Object.assign({},i),r)})},cp=new ct("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),No=e=>({height:e,lineHeight:de(e)}),qr=e=>Object.assign({width:e},No(e)),up=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:cp,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),ha=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},No(e)),dp=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:s,controlHeightSM:v}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},qr(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},qr(s)),[`${t}${t}-sm`]:Object.assign({},qr(v))}},fp=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:s,controlHeightSM:v,gradientFromColor:C,calc:c}=e;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:n},ha(t,c)),[`${r}-lg`]:Object.assign({},ha(s,c)),[`${r}-sm`]:Object.assign({},ha(v,c))}},Jl=e=>Object.assign({width:e},No(e)),hp=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:s,calc:v}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:s},Jl(v(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Jl(n)),{maxWidth:v(n).mul(4).equal(),maxHeight:v(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},ga=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},ma=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},No(e)),gp=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:s,controlHeightSM:v,gradientFromColor:C,calc:c}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:t,width:c(r).mul(2).equal(),minWidth:c(r).mul(2).equal()},ma(r,c))},ga(e,r,n)),{[`${n}-lg`]:Object.assign({},ma(s,c))}),ga(e,s,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},ma(v,c))}),ga(e,v,`${n}-sm`))},mp=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:s,skeletonButtonCls:v,skeletonInputCls:C,skeletonImageCls:c,controlHeight:i,controlHeightLG:f,controlHeightSM:h,gradientFromColor:o,padding:u,marginSM:a,borderRadius:d,titleHeight:g,blockRadius:l,paragraphLiHeight:m,controlHeightXS:b,paragraphMarginTop:y}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:u,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:o},qr(i)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},qr(f)),[`${n}-sm`]:Object.assign({},qr(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:g,background:o,borderRadius:l,[`+ ${s}`]:{marginBlockStart:h}},[`${s}`]:{padding:0,"> li":{width:"100%",height:m,listStyle:"none",background:o,borderRadius:l,"+ li":{marginBlockStart:b}}},[`${s}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${s} > li`]:{borderRadius:d}}},[`${t}-with-avatar ${t}-content`]:{[`${r}`]:{marginBlockStart:a,[`+ ${s}`]:{marginBlockStart:y}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},gp(e)),dp(e)),fp(e)),hp(e)),[`${t}${t}-block`]:{width:"100%",[`${v}`]:{width:"100%"},[`${C}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${r},
        ${s} > li,
        ${n},
        ${v},
        ${C},
        ${c}
      `]:Object.assign({},up(e))}}},vp=e=>{const{colorFillContent:t,colorFill:n}=e,r=t,s=n;return{color:r,colorGradientEnd:s,gradientFromColor:r,gradientToColor:s,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},si=Nt("Skeleton",e=>{const{componentCls:t,calc:n}=e,r=gt(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[mp(r)]},vp,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),pp=e=>{const{prefixCls:t,className:n,rootClassName:r,active:s,shape:v="circle",size:C="default"}=e,{getPrefixCls:c}=p.useContext(Ye),i=c("skeleton",t),[f,h,o]=si(i),u=_n(e,["prefixCls","className"]),a=se(i,`${i}-element`,{[`${i}-active`]:s},n,r,h,o);return f(p.createElement("div",{className:a},p.createElement(Ao,Object.assign({prefixCls:`${i}-avatar`,shape:v,size:C},u))))},bp=e=>{const{prefixCls:t,className:n,rootClassName:r,active:s,block:v=!1,size:C="default"}=e,{getPrefixCls:c}=p.useContext(Ye),i=c("skeleton",t),[f,h,o]=si(i),u=_n(e,["prefixCls"]),a=se(i,`${i}-element`,{[`${i}-active`]:s,[`${i}-block`]:v},n,r,h,o);return f(p.createElement("div",{className:a},p.createElement(Ao,Object.assign({prefixCls:`${i}-button`,size:C},u))))},Cp="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",yp=e=>{const{prefixCls:t,className:n,rootClassName:r,style:s,active:v}=e,{getPrefixCls:C}=p.useContext(Ye),c=C("skeleton",t),[i,f,h]=si(c),o=se(c,`${c}-element`,{[`${c}-active`]:v},n,r,f,h);return i(p.createElement("div",{className:o},p.createElement("div",{className:se(`${c}-image`,n),style:s},p.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${c}-image-svg`},p.createElement("path",{d:Cp,className:`${c}-image-path`})))))},Sp=e=>{const{prefixCls:t,className:n,rootClassName:r,active:s,block:v,size:C="default"}=e,{getPrefixCls:c}=p.useContext(Ye),i=c("skeleton",t),[f,h,o]=si(i),u=_n(e,["prefixCls"]),a=se(i,`${i}-element`,{[`${i}-active`]:s,[`${i}-block`]:v},n,r,h,o);return f(p.createElement("div",{className:a},p.createElement(Ao,Object.assign({prefixCls:`${i}-input`,size:C},u))))};var wp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},xp=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:wp}))},Ep=p.forwardRef(xp);const _p=e=>{const{prefixCls:t,className:n,rootClassName:r,style:s,active:v,children:C}=e,{getPrefixCls:c}=p.useContext(Ye),i=c("skeleton",t),[f,h,o]=si(i),u=se(i,`${i}-element`,{[`${i}-active`]:v},h,n,r,o),a=C??p.createElement(Ep,null);return f(p.createElement("div",{className:u},p.createElement("div",{className:se(`${i}-image`,n),style:s},a)))},Op=(e,t)=>{const{width:n,rows:r=2}=t;if(Array.isArray(n))return n[e];if(r-1===e)return n},$p=e=>{const{prefixCls:t,className:n,style:r,rows:s}=e,v=Se(Array(s)).map((C,c)=>p.createElement("li",{key:c,style:{width:Op(c,e)}}));return p.createElement("ul",{className:se(t,n),style:r},v)},Tp=e=>{let{prefixCls:t,className:n,width:r,style:s}=e;return p.createElement("h3",{className:se(t,n),style:Object.assign({width:r},s)})};function va(e){return e&&typeof e=="object"?e:{}}function Pp(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Ip(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function Rp(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const li=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:s,style:v,children:C,avatar:c=!1,title:i=!0,paragraph:f=!0,active:h,round:o}=e,{getPrefixCls:u,direction:a,skeleton:d}=p.useContext(Ye),g=u("skeleton",t),[l,m,b]=si(g);if(n||!("loading"in e)){const y=!!c,S=!!i,w=!!f;let x;if(y){const $=Object.assign(Object.assign({prefixCls:`${g}-avatar`},Pp(S,w)),va(c));x=p.createElement("div",{className:`${g}-header`},p.createElement(Ao,Object.assign({},$)))}let E;if(S||w){let $;if(S){const A=Object.assign(Object.assign({prefixCls:`${g}-title`},Ip(y,w)),va(i));$=p.createElement(Tp,Object.assign({},A))}let I;if(w){const A=Object.assign(Object.assign({prefixCls:`${g}-paragraph`},Rp(y,S)),va(f));I=p.createElement($p,Object.assign({},A))}E=p.createElement("div",{className:`${g}-content`},$,I)}const _=se(g,{[`${g}-with-avatar`]:y,[`${g}-active`]:h,[`${g}-rtl`]:a==="rtl",[`${g}-round`]:o},d==null?void 0:d.className,r,s,m,b);return l(p.createElement("div",{className:_,style:Object.assign(Object.assign({},d==null?void 0:d.style),v)},x,E))}return C??null};li.Button=bp;li.Avatar=pp;li.Input=Sp;li.Image=yp;li.Node=_p;function Zl(){}const Mp=p.createContext({add:Zl,remove:Zl});function Lp(e){const t=p.useContext(Mp),n=p.useRef();return Ht(s=>{if(s){const v=e?s.querySelector(e):s;t.add(v),n.current=v}else t.remove(n.current)})}const ec=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=p.useContext(Di);return J.createElement(yt,Object.assign({onClick:n},e),t)},tc=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:s}=p.useContext(Di);return J.createElement(yt,Object.assign({},ad(n),{loading:e,onClick:s},t),r)};function _d(e,t){return J.createElement("span",{className:`${e}-close-x`},t||J.createElement(Rr,{className:`${e}-close-icon`}))}const Od=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:s,onOk:v,onCancel:C,okButtonProps:c,cancelButtonProps:i,footer:f}=e,[h]=oi("Modal",$u()),o=t||(h==null?void 0:h.okText),u=r||(h==null?void 0:h.cancelText),a={confirmLoading:s,okButtonProps:c,cancelButtonProps:i,okTextLocale:o,cancelTextLocale:u,okType:n,onOk:v,onCancel:C},d=J.useMemo(()=>a,Se(Object.values(a)));let g;return typeof f=="function"||typeof f>"u"?(g=J.createElement(J.Fragment,null,J.createElement(ec,null),J.createElement(tc,null)),typeof f=="function"&&(g=f(g,{OkBtn:tc,CancelBtn:ec})),g=J.createElement(hd,{value:d},g)):g=f,J.createElement(t0,{disabled:!1},g)},$d=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),Ap=e=>({animationDuration:e,animationFillMode:"both"}),Np=e=>({animationDuration:e,animationFillMode:"both"}),Do=function(e,t,n,r){const v=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${v}${e}-enter,
      ${v}${e}-appear
    `]:Object.assign(Object.assign({},Ap(r)),{animationPlayState:"paused"}),[`${v}${e}-leave`]:Object.assign(Object.assign({},Np(r)),{animationPlayState:"paused"}),[`
      ${v}${e}-enter${e}-enter-active,
      ${v}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${v}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},Dp=new ct("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),jp=new ct("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Bs=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,r=`${n}-fade`,s=t?"&":"";return[Do(r,Dp,jp,e.motionDurationMid,t),{[`
        ${s}${r}-enter,
        ${s}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${s}${r}-leave`]:{animationTimingFunction:"linear"}}]},Fp=new ct("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Bp=new ct("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),kp=new ct("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),zp=new ct("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Hp=new ct("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Vp=new ct("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Wp=new ct("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Xp=new ct("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Up={"move-up":{inKeyframes:Wp,outKeyframes:Xp},"move-down":{inKeyframes:Fp,outKeyframes:Bp},"move-left":{inKeyframes:kp,outKeyframes:zp},"move-right":{inKeyframes:Hp,outKeyframes:Vp}},nc=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:s,outKeyframes:v}=Up[t];return[Do(r,s,v,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Td=new ct("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Pd=new ct("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Id=new ct("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Rd=new ct("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Gp=new ct("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Yp=new ct("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),qp=new ct("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Kp=new ct("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Qp={"slide-up":{inKeyframes:Td,outKeyframes:Pd},"slide-down":{inKeyframes:Id,outKeyframes:Rd},"slide-left":{inKeyframes:Gp,outKeyframes:Yp},"slide-right":{inKeyframes:qp,outKeyframes:Kp}},rc=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:s,outKeyframes:v}=Qp[t];return[Do(r,s,v,e.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},Jp=new ct("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Zp=new ct("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),ic=new ct("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),oc=new ct("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),e1=new ct("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),t1=new ct("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),n1=new ct("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),r1=new ct("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),i1=new ct("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),o1=new ct("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),a1=new ct("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),s1=new ct("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),l1={zoom:{inKeyframes:Jp,outKeyframes:Zp},"zoom-big":{inKeyframes:ic,outKeyframes:oc},"zoom-big-fast":{inKeyframes:ic,outKeyframes:oc},"zoom-left":{inKeyframes:n1,outKeyframes:r1},"zoom-right":{inKeyframes:i1,outKeyframes:o1},"zoom-up":{inKeyframes:e1,outKeyframes:t1},"zoom-down":{inKeyframes:a1,outKeyframes:s1}},jo=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:s,outKeyframes:v}=l1[t];return[Do(r,s,v,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};function ac(e){return{position:e,inset:0}}const Md=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},ac("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},ac("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Bs(e)}]},c1=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${de(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Tt(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${de(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${de(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},$s(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${de(e.borderRadiusLG)} ${de(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${de(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},u1=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Ld=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return gt(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Ad=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${de(e.paddingMD)} ${de(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${de(e.padding)} ${de(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${de(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${de(e.paddingXS)} ${de(e.padding)}`:0,footerBorderTop:e.wireframe?`${de(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${de(e.borderRadiusLG)} ${de(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${de(e.padding*2)} ${de(e.padding*2)} ${de(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Nd=Nt("Modal",e=>{const t=Ld(e);return[c1(t),u1(t),Md(t),jo(t,"zoom")]},Ad,{unitless:{titleLineHeight:!0}});var d1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};let hs;const f1=e=>{hs={x:e.pageX,y:e.pageY},setTimeout(()=>{hs=null},100)};hv()&&document.documentElement.addEventListener("click",f1,!0);const Dd=e=>{var t;const{getPopupContainer:n,getPrefixCls:r,direction:s,modal:v}=p.useContext(Ye),C=M=>{const{onCancel:k}=e;k==null||k(M)},c=M=>{const{onOk:k}=e;k==null||k(M)},{prefixCls:i,className:f,rootClassName:h,open:o,wrapClassName:u,centered:a,getContainer:d,focusTriggerAfterClose:g=!0,style:l,visible:m,width:b=520,footer:y,classNames:S,styles:w,children:x,loading:E}=e,_=d1(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),$=r("modal",i),I=r(),A=tn($),[F,z,D]=Nd($,A),H=se(u,{[`${$}-centered`]:!!a,[`${$}-wrap-rtl`]:s==="rtl"}),B=y!==null&&!E?p.createElement(Od,Object.assign({},e,{onOk:c,onCancel:C})):null,[j,N]=fv(Fl(e),Fl(v),{closable:!0,closeIcon:p.createElement(Rr,{className:`${$}-close-icon`}),closeIconRender:M=>_d($,M)}),O=Lp(`.${$}-content`),[P,T]=Li("Modal",_.zIndex);return F(p.createElement(Ei,null,p.createElement(Oi,{status:!0,override:!0},p.createElement(Rs.Provider,{value:T},p.createElement(js,Object.assign({width:b},_,{zIndex:P,getContainer:d===void 0?n:d,prefixCls:$,rootClassName:se(z,h,D,A),footer:B,visible:o??m,mousePosition:(t=_.mousePosition)!==null&&t!==void 0?t:hs,onClose:C,closable:j,closeIcon:N,focusTriggerAfterClose:g,transitionName:Nn(I,"zoom",e.transitionName),maskTransitionName:Nn(I,"fade",e.maskTransitionName),className:se(z,f,v==null?void 0:v.className),style:Object.assign(Object.assign({},v==null?void 0:v.style),l),classNames:Object.assign(Object.assign(Object.assign({},v==null?void 0:v.classNames),S),{wrapper:se(H,S==null?void 0:S.wrapper)}),styles:Object.assign(Object.assign({},v==null?void 0:v.styles),w),panelRef:O}),E?p.createElement(li,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):x)))))},h1=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:s,fontSize:v,lineHeight:C,modalTitleHeight:c,fontHeight:i,confirmBodyPadding:f}=e,h=`${t}-confirm`;return{[h]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${h}-body-wrapper`]:Object.assign({},Oo()),[`&${t} ${t}-body`]:{padding:f},[`${h}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:s,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(i).sub(s).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(c).sub(s).equal()).div(2).equal()}},[`${h}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},[`${e.iconCls} + ${h}-paragraph`]:{maxWidth:`calc(100% - ${de(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${h}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${h}-content`]:{color:e.colorText,fontSize:v,lineHeight:C},[`${h}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${h}-error ${h}-body > ${e.iconCls}`]:{color:e.colorError},[`${h}-warning ${h}-body > ${e.iconCls},
        ${h}-confirm ${h}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${h}-info ${h}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${h}-success ${h}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},g1=zu(["Modal","confirm"],e=>{const t=Ld(e);return[h1(t)]},Ad,{order:-1e3});var m1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function jd(e){const{prefixCls:t,icon:n,okText:r,cancelText:s,confirmPrefixCls:v,type:C,okCancel:c,footer:i,locale:f}=e,h=m1(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let o=n;if(!n&&n!==null)switch(C){case"info":o=p.createElement(Gu,null);break;case"success":o=p.createElement(Is,null);break;case"error":o=p.createElement(Mi,null);break;default:o=p.createElement(Uu,null)}const u=c??C==="confirm",a=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[d]=oi("Modal"),g=f||d,l=r||(u?g==null?void 0:g.okText:g==null?void 0:g.justOkText),m=s||(g==null?void 0:g.cancelText),b=Object.assign({autoFocusButton:a,cancelTextLocale:m,okTextLocale:l,mergedOkCancel:u},h),y=p.useMemo(()=>b,Se(Object.values(b))),S=p.createElement(p.Fragment,null,p.createElement(Tl,null),p.createElement(Pl,null)),w=e.title!==void 0&&e.title!==null,x=`${v}-body`;return p.createElement("div",{className:`${v}-body-wrapper`},p.createElement("div",{className:se(x,{[`${x}-has-title`]:w})},o,p.createElement("div",{className:`${v}-paragraph`},w&&p.createElement("span",{className:`${v}-title`},e.title),p.createElement("div",{className:`${v}-content`},e.content))),i===void 0||typeof i=="function"?p.createElement(hd,{value:y},p.createElement("div",{className:`${v}-btns`},typeof i=="function"?i(S,{OkBtn:Pl,CancelBtn:Tl}):S)):i,p.createElement(g1,{prefixCls:t}))}const v1=e=>{const{close:t,zIndex:n,afterClose:r,open:s,keyboard:v,centered:C,getContainer:c,maskStyle:i,direction:f,prefixCls:h,wrapClassName:o,rootPrefixCls:u,bodyStyle:a,closable:d=!1,closeIcon:g,modalRender:l,focusTriggerAfterClose:m,onConfirm:b,styles:y}=e,S=`${h}-confirm`,w=e.width||416,x=e.style||{},E=e.mask===void 0?!0:e.mask,_=e.maskClosable===void 0?!1:e.maskClosable,$=se(S,`${S}-${e.type}`,{[`${S}-rtl`]:f==="rtl"},e.className),[,I]=hn(),A=p.useMemo(()=>n!==void 0?n:I.zIndexPopupBase+Ms,[n,I]);return p.createElement(Dd,{prefixCls:h,className:$,wrapClassName:se({[`${S}-centered`]:!!e.centered},o),onCancel:()=>{t==null||t({triggerCancel:!0}),b==null||b(!1)},open:s,title:"",footer:null,transitionName:Nn(u||"","zoom",e.transitionName),maskTransitionName:Nn(u||"","fade",e.maskTransitionName),mask:E,maskClosable:_,style:x,styles:Object.assign({body:a,mask:i},y),width:w,zIndex:A,afterClose:r,keyboard:v,centered:C,getContainer:c,closable:d,closeIcon:g,modalRender:l,focusTriggerAfterClose:m},p.createElement(jd,Object.assign({},e,{confirmPrefixCls:S})))},Fd=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:s}=e;return p.createElement(Ri,{prefixCls:t,iconPrefixCls:n,direction:r,theme:s},p.createElement(v1,Object.assign({},e)))},wr=[];let Bd="";function kd(){return Bd}const p1=e=>{var t,n;const{prefixCls:r,getContainer:s,direction:v}=e,C=$u(),c=p.useContext(Ye),i=kd()||c.getPrefixCls(),f=r||`${i}-modal`;let h=s;return h===!1&&(h=void 0),J.createElement(Fd,Object.assign({},e,{rootPrefixCls:i,prefixCls:f,iconPrefixCls:c.iconPrefixCls,theme:c.theme,direction:v??c.direction,locale:(n=(t=c.locale)===null||t===void 0?void 0:t.Modal)!==null&&n!==void 0?n:C,getContainer:h}))};function Bi(e){const t=Tu(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:c,open:!0}),s;function v(){for(var f=arguments.length,h=new Array(f),o=0;o<f;o++)h[o]=arguments[o];const u=h.some(a=>a&&a.triggerCancel);e.onCancel&&u&&e.onCancel.apply(e,[()=>{}].concat(Se(h.slice(1))));for(let a=0;a<wr.length;a++)if(wr[a]===c){wr.splice(a,1);break}td(n)}function C(f){clearTimeout(s),s=setTimeout(()=>{const h=t.getPrefixCls(void 0,kd()),o=t.getIconPrefixCls(),u=t.getTheme(),a=J.createElement(p1,Object.assign({},f));As(J.createElement(Ri,{prefixCls:h,iconPrefixCls:o,theme:u},t.holderRender?t.holderRender(a):a),n)})}function c(){for(var f=arguments.length,h=new Array(f),o=0;o<f;o++)h[o]=arguments[o];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),v.apply(this,h)}}),r.visible&&delete r.visible,C(r)}function i(f){typeof f=="function"?r=f(r):r=Object.assign(Object.assign({},r),f),C(r)}return C(r),wr.push(c),{destroy:c,update:i}}function zd(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Hd(e){return Object.assign(Object.assign({},e),{type:"info"})}function Vd(e){return Object.assign(Object.assign({},e),{type:"success"})}function Wd(e){return Object.assign(Object.assign({},e),{type:"error"})}function Xd(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function b1(e){let{rootPrefixCls:t}=e;Bd=t}var C1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const y1=(e,t)=>{var n,{afterClose:r,config:s}=e,v=C1(e,["afterClose","config"]);const[C,c]=p.useState(!0),[i,f]=p.useState(s),{direction:h,getPrefixCls:o}=p.useContext(Ye),u=o("modal"),a=o(),d=()=>{var b;r(),(b=i.afterClose)===null||b===void 0||b.call(i)},g=function(){c(!1);for(var b=arguments.length,y=new Array(b),S=0;S<b;S++)y[S]=arguments[S];const w=y.some(x=>x&&x.triggerCancel);i.onCancel&&w&&i.onCancel.apply(i,[()=>{}].concat(Se(y.slice(1))))};p.useImperativeHandle(t,()=>({destroy:g,update:b=>{f(y=>Object.assign(Object.assign({},y),b))}}));const l=(n=i.okCancel)!==null&&n!==void 0?n:i.type==="confirm",[m]=oi("Modal",Jr.Modal);return p.createElement(Fd,Object.assign({prefixCls:u,rootPrefixCls:a},i,{close:g,open:C,afterClose:d,okText:i.okText||(l?m==null?void 0:m.okText:m==null?void 0:m.justOkText),direction:i.direction||h,cancelText:i.cancelText||(m==null?void 0:m.cancelText)},v))},S1=p.forwardRef(y1);let sc=0;const w1=p.memo(p.forwardRef((e,t)=>{const[n,r]=im();return p.useImperativeHandle(t,()=>({patchElement:r}),[]),p.createElement(p.Fragment,null,n)}));function x1(){const e=p.useRef(null),[t,n]=p.useState([]);p.useEffect(()=>{t.length&&(Se(t).forEach(C=>{C()}),n([]))},[t]);const r=p.useCallback(v=>function(c){var i;sc+=1;const f=p.createRef();let h;const o=new Promise(l=>{h=l});let u=!1,a;const d=p.createElement(S1,{key:`modal-${sc}`,config:v(c),ref:f,afterClose:()=>{a==null||a()},isSilent:()=>u,onConfirm:l=>{h(l)}});return a=(i=e.current)===null||i===void 0?void 0:i.patchElement(d),a&&wr.push(a),{destroy:()=>{function l(){var m;(m=f.current)===null||m===void 0||m.destroy()}f.current?l():n(m=>[].concat(Se(m),[l]))},update:l=>{function m(){var b;(b=f.current)===null||b===void 0||b.update(l)}f.current?m():n(b=>[].concat(Se(b),[m]))},then:l=>(u=!0,o.then(l))}},[]);return[p.useMemo(()=>({info:r(Hd),success:r(Vd),error:r(Wd),warning:r(zd),confirm:r(Xd)}),[]),p.createElement(w1,{key:"modal-holder",ref:e})]}const E1=J.createContext({});function Ud(e){return t=>p.createElement(Ri,{theme:{token:{motion:!1,zIndexPopupBase:0}}},p.createElement(e,Object.assign({},t)))}const Gd=(e,t,n,r)=>Ud(v=>{const{prefixCls:C,style:c}=v,i=p.useRef(null),[f,h]=p.useState(0),[o,u]=p.useState(0),[a,d]=Rt(!1,{value:v.open}),{getPrefixCls:g}=p.useContext(Ye),l=g(t||"select",C);p.useEffect(()=>{if(d(!0),typeof ResizeObserver<"u"){const y=new ResizeObserver(w=>{const x=w[0].target;h(x.offsetHeight+8),u(x.offsetWidth)}),S=setInterval(()=>{var w;const x=n?`.${n(l)}`:`.${l}-dropdown`,E=(w=i.current)===null||w===void 0?void 0:w.querySelector(x);E&&(clearInterval(S),y.observe(E))},10);return()=>{clearInterval(S),y.disconnect()}}},[]);let m=Object.assign(Object.assign({},v),{style:Object.assign(Object.assign({},c),{margin:0}),open:a,visible:a,getPopupContainer:()=>i.current});r&&(m=r(m));const b={paddingBottom:f,position:"relative",minWidth:o};return p.createElement("div",{ref:i,style:b},p.createElement(e,Object.assign({},m)))}),ks=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var Fo=function(t){var n=t.className,r=t.customizeIcon,s=t.customizeIconProps,v=t.children,C=t.onMouseDown,c=t.onClick,i=typeof r=="function"?r(s):r;return p.createElement("span",{className:n,onMouseDown:function(h){h.preventDefault(),C==null||C(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},i!==void 0?i:p.createElement("span",{className:se(n.split(/\s+/).map(function(f){return"".concat(f,"-icon")}))},v))},_1=function(t,n,r,s,v){var C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,f=J.useMemo(function(){if(et(s)==="object")return s.clearIcon;if(v)return v},[s,v]),h=J.useMemo(function(){return!!(!C&&s&&(r.length||c)&&!(i==="combobox"&&c===""))},[s,C,r.length,c,i]);return{allowClear:h,clearIcon:J.createElement(Fo,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:f},"×")}},Yd=p.createContext(null);function O1(){return p.useContext(Yd)}function $1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=p.useState(!1),n=ge(t,2),r=n[0],s=n[1],v=p.useRef(null),C=function(){window.clearTimeout(v.current)};p.useEffect(function(){return C},[]);var c=function(f,h){C(),v.current=window.setTimeout(function(){s(f),h&&h()},e)};return[r,c,C]}function qd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=p.useRef(null),n=p.useRef(null);p.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(s){(s||t.current===null)&&(t.current=s),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},r]}function T1(e,t,n,r){var s=p.useRef(null);s.current={open:t,triggerOpen:n,customizedTrigger:r},p.useEffect(function(){function v(C){var c;if(!((c=s.current)!==null&&c!==void 0&&c.customizedTrigger)){var i=C.target;i.shadowRoot&&C.composed&&(i=C.composedPath()[0]||i),s.current.open&&e().filter(function(f){return f}).every(function(f){return!f.contains(i)&&f!==i})&&s.current.triggerOpen(!1)}}return window.addEventListener("mousedown",v),function(){return window.removeEventListener("mousedown",v)}},[])}function P1(e){return![me.ESC,me.SHIFT,me.BACKSPACE,me.TAB,me.WIN_KEY,me.ALT,me.META,me.WIN_KEY_RIGHT,me.CTRL,me.SEMICOLON,me.EQUALS,me.CAPS_LOCK,me.CONTEXT_MENU,me.F1,me.F2,me.F3,me.F4,me.F5,me.F6,me.F7,me.F8,me.F9,me.F10,me.F11,me.F12].includes(e)}var I1=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],zr=void 0;function R1(e,t){var n=e.prefixCls,r=e.invalidate,s=e.item,v=e.renderItem,C=e.responsive,c=e.responsiveDisabled,i=e.registerSize,f=e.itemKey,h=e.className,o=e.style,u=e.children,a=e.display,d=e.order,g=e.component,l=g===void 0?"div":g,m=it(e,I1),b=C&&!a;function y(_){i(f,_)}p.useEffect(function(){return function(){y(null)}},[]);var S=v&&s!==zr?v(s):u,w;r||(w={opacity:b?0:1,height:b?0:zr,overflowY:b?"hidden":zr,order:C?d:zr,pointerEvents:b?"none":zr,position:b?"absolute":zr});var x={};b&&(x["aria-hidden"]=!0);var E=p.createElement(l,ye({className:se(!r&&n,h),style:ae(ae({},w),o)},x,m,{ref:t}),S);return C&&(E=p.createElement(hr,{onResize:function($){var I=$.offsetWidth;y(I)},disabled:c},E)),E}var wi=p.forwardRef(R1);wi.displayName="Item";function M1(e){if(typeof MessageChannel>"u")wt(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function L1(){var e=p.useRef(null),t=function(r){e.current||(e.current=[],M1(function(){$r.unstable_batchedUpdates(function(){e.current.forEach(function(s){s()}),e.current=null})})),e.current.push(r)};return t}function di(e,t){var n=p.useState(t),r=ge(n,2),s=r[0],v=r[1],C=Ht(function(c){e(function(){v(c)})});return[s,C]}var vo=J.createContext(null),A1=["component"],N1=["className"],D1=["className"],j1=function(t,n){var r=p.useContext(vo);if(!r){var s=t.component,v=s===void 0?"div":s,C=it(t,A1);return p.createElement(v,ye({},C,{ref:n}))}var c=r.className,i=it(r,N1),f=t.className,h=it(t,D1);return p.createElement(vo.Provider,{value:null},p.createElement(wi,ye({ref:n,className:se(c,f)},i,h)))},Kd=p.forwardRef(j1);Kd.displayName="RawItem";var F1=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Qd="responsive",Jd="invalidate";function B1(e){return"+ ".concat(e.length," ...")}function k1(e,t){var n=e.prefixCls,r=n===void 0?"rc-overflow":n,s=e.data,v=s===void 0?[]:s,C=e.renderItem,c=e.renderRawItem,i=e.itemKey,f=e.itemWidth,h=f===void 0?10:f,o=e.ssr,u=e.style,a=e.className,d=e.maxCount,g=e.renderRest,l=e.renderRawRest,m=e.suffix,b=e.component,y=b===void 0?"div":b,S=e.itemComponent,w=e.onVisibleChange,x=it(e,F1),E=o==="full",_=L1(),$=di(_,null),I=ge($,2),A=I[0],F=I[1],z=A||0,D=di(_,new Map),H=ge(D,2),B=H[0],j=H[1],N=di(_,0),O=ge(N,2),P=O[0],T=O[1],M=di(_,0),k=ge(M,2),L=k[0],R=k[1],V=di(_,0),W=ge(V,2),Y=W[0],Q=W[1],G=p.useState(null),K=ge(G,2),re=K[0],q=K[1],X=p.useState(null),Z=ge(X,2),ne=Z[0],te=Z[1],ie=p.useMemo(function(){return ne===null&&E?Number.MAX_SAFE_INTEGER:ne||0},[ne,A]),le=p.useState(!1),fe=ge(le,2),ce=fe[0],oe=fe[1],ue="".concat(r,"-item"),he=Math.max(P,L),pe=d===Qd,ve=v.length&&pe,xe=d===Jd,Te=ve||typeof d=="number"&&v.length>d,be=p.useMemo(function(){var Fe=v;return ve?A===null&&E?Fe=v:Fe=v.slice(0,Math.min(v.length,z/h)):typeof d=="number"&&(Fe=v.slice(0,d)),Fe},[v,h,A,d,ve]),Ce=p.useMemo(function(){return ve?v.slice(ie+1):v.slice(be.length)},[v,be,ve,ie]),He=p.useCallback(function(Fe,Re){var at;return typeof i=="function"?i(Fe):(at=i&&(Fe==null?void 0:Fe[i]))!==null&&at!==void 0?at:Re},[i]),De=p.useCallback(C||function(Fe){return Fe},[C]);function we(Fe,Re,at){ne===Fe&&(Re===void 0||Re===re)||(te(Fe),at||(oe(Fe<v.length-1),w==null||w(Fe)),Re!==void 0&&q(Re))}function Ae(Fe,Re){F(Re.clientWidth)}function Qe(Fe,Re){j(function(at){var bt=new Map(at);return Re===null?bt.delete(Fe):bt.set(Fe,Re),bt})}function $e(Fe,Re){R(Re),T(L)}function je(Fe,Re){Q(Re)}function Ue(Fe){return B.get(He(be[Fe],Fe))}It(function(){if(z&&typeof he=="number"&&be){var Fe=Y,Re=be.length,at=Re-1;if(!Re){we(0,null);return}for(var bt=0;bt<Re;bt+=1){var Ie=Ue(bt);if(E&&(Ie=Ie||0),Ie===void 0){we(bt-1,void 0,!0);break}if(Fe+=Ie,at===0&&Fe<=z||bt===at-1&&Fe+Ue(at)<=z){we(at,null);break}else if(Fe+he>z){we(bt-1,Fe-Ie-Y+L);break}}m&&Ue(0)+Y>z&&q(null)}},[z,B,L,Y,He,be]);var ft=ce&&!!Ce.length,qe={};re!==null&&ve&&(qe={position:"absolute",left:re,top:0});var Ke={prefixCls:ue,responsive:ve,component:S,invalidate:xe},Ve=c?function(Fe,Re){var at=He(Fe,Re);return p.createElement(vo.Provider,{key:at,value:ae(ae({},Ke),{},{order:Re,item:Fe,itemKey:at,registerSize:Qe,display:Re<=ie})},c(Fe,Re))}:function(Fe,Re){var at=He(Fe,Re);return p.createElement(wi,ye({},Ke,{order:Re,key:at,item:Fe,renderItem:De,itemKey:at,registerSize:Qe,display:Re<=ie}))},Pe,Ne={order:ft?ie:Number.MAX_SAFE_INTEGER,className:"".concat(ue,"-rest"),registerSize:$e,display:ft};if(l)l&&(Pe=p.createElement(vo.Provider,{value:ae(ae({},Ke),Ne)},l(Ce)));else{var Ee=g||B1;Pe=p.createElement(wi,ye({},Ke,Ne),typeof Ee=="function"?Ee(Ce):Ee)}var Je=p.createElement(y,ye({className:se(!xe&&r,a),style:u,ref:t},x),be.map(Ve),Te?Pe:null,m&&p.createElement(wi,ye({},Ke,{responsive:pe,responsiveDisabled:!ve,order:ie,className:"".concat(ue,"-suffix"),registerSize:je,display:!0,style:qe}),m));return pe&&(Je=p.createElement(hr,{onResize:Ae,disabled:!ve},Je)),Je}var ki=p.forwardRef(k1);ki.displayName="Overflow";ki.Item=Kd;ki.RESPONSIVE=Qd;ki.INVALIDATE=Jd;var z1=function(t,n){var r,s=t.prefixCls,v=t.id,C=t.inputElement,c=t.disabled,i=t.tabIndex,f=t.autoFocus,h=t.autoComplete,o=t.editable,u=t.activeDescendantId,a=t.value,d=t.maxLength,g=t.onKeyDown,l=t.onMouseDown,m=t.onChange,b=t.onPaste,y=t.onCompositionStart,S=t.onCompositionEnd,w=t.open,x=t.attrs,E=C||p.createElement("input",null),_=E,$=_.ref,I=_.props,A=I.onKeyDown,F=I.onChange,z=I.onMouseDown,D=I.onCompositionStart,H=I.onCompositionEnd,B=I.style;return n0(!("maxLength"in E.props)),E=p.cloneElement(E,ae(ae(ae({type:"search"},I),{},{id:v,ref:Fn(n,$),disabled:c,tabIndex:i,autoComplete:h||"off",autoFocus:f,className:se("".concat(s,"-selection-search-input"),(r=E)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":w||!1,"aria-haspopup":"listbox","aria-owns":"".concat(v,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(v,"_list"),"aria-activedescendant":w?u:void 0},x),{},{value:o?a:"",maxLength:d,readOnly:!o,unselectable:o?null:"on",style:ae(ae({},B),{},{opacity:o?null:0}),onKeyDown:function(N){g(N),A&&A(N)},onMouseDown:function(N){l(N),z&&z(N)},onChange:function(N){m(N),F&&F(N)},onCompositionStart:function(N){y(N),D&&D(N)},onCompositionEnd:function(N){S(N),H&&H(N)},onPaste:b})),E},Zd=p.forwardRef(z1);function ef(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var H1=typeof window<"u"&&window.document&&window.document.documentElement,V1=H1;function W1(e){return e!=null}function X1(e){return!e&&e!==0}function lc(e){return["string","number"].includes(et(e))}function tf(e){var t=void 0;return e&&(lc(e.title)?t=e.title.toString():lc(e.label)&&(t=e.label.toString())),t}function U1(e,t){V1?p.useLayoutEffect(e,t):p.useEffect(e,t)}function G1(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var cc=function(t){t.preventDefault(),t.stopPropagation()},Y1=function(t){var n=t.id,r=t.prefixCls,s=t.values,v=t.open,C=t.searchValue,c=t.autoClearSearchValue,i=t.inputRef,f=t.placeholder,h=t.disabled,o=t.mode,u=t.showSearch,a=t.autoFocus,d=t.autoComplete,g=t.activeDescendantId,l=t.tabIndex,m=t.removeIcon,b=t.maxTagCount,y=t.maxTagTextLength,S=t.maxTagPlaceholder,w=S===void 0?function(q){return"+ ".concat(q.length," ...")}:S,x=t.tagRender,E=t.onToggleOpen,_=t.onRemove,$=t.onInputChange,I=t.onInputPaste,A=t.onInputKeyDown,F=t.onInputMouseDown,z=t.onInputCompositionStart,D=t.onInputCompositionEnd,H=p.useRef(null),B=p.useState(0),j=ge(B,2),N=j[0],O=j[1],P=p.useState(!1),T=ge(P,2),M=T[0],k=T[1],L="".concat(r,"-selection"),R=v||o==="multiple"&&c===!1||o==="tags"?C:"",V=o==="tags"||o==="multiple"&&c===!1||u&&(v||M);U1(function(){O(H.current.scrollWidth)},[R]);var W=function(X,Z,ne,te,ie){return p.createElement("span",{title:tf(X),className:se("".concat(L,"-item"),ee({},"".concat(L,"-item-disabled"),ne))},p.createElement("span",{className:"".concat(L,"-item-content")},Z),te&&p.createElement(Fo,{className:"".concat(L,"-item-remove"),onMouseDown:cc,onClick:ie,customizeIcon:m},"×"))},Y=function(X,Z,ne,te,ie,le){var fe=function(oe){cc(oe),E(!v)};return p.createElement("span",{onMouseDown:fe},x({label:Z,value:X,disabled:ne,closable:te,onClose:ie,isMaxTag:!!le}))},Q=function(X){var Z=X.disabled,ne=X.label,te=X.value,ie=!h&&!Z,le=ne;if(typeof y=="number"&&(typeof ne=="string"||typeof ne=="number")){var fe=String(le);fe.length>y&&(le="".concat(fe.slice(0,y),"..."))}var ce=function(ue){ue&&ue.stopPropagation(),_(X)};return typeof x=="function"?Y(te,le,Z,ie,ce):W(X,le,Z,ie,ce)},G=function(X){var Z=typeof w=="function"?w(X):w;return typeof x=="function"?Y(void 0,Z,!1,!1,void 0,!0):W({title:Z},Z,!1)},K=p.createElement("div",{className:"".concat(L,"-search"),style:{width:N},onFocus:function(){k(!0)},onBlur:function(){k(!1)}},p.createElement(Zd,{ref:i,open:v,prefixCls:r,id:n,inputElement:null,disabled:h,autoFocus:a,autoComplete:d,editable:V,activeDescendantId:g,value:R,onKeyDown:A,onMouseDown:F,onChange:$,onPaste:I,onCompositionStart:z,onCompositionEnd:D,tabIndex:l,attrs:On(t,!0)}),p.createElement("span",{ref:H,className:"".concat(L,"-search-mirror"),"aria-hidden":!0},R," ")),re=p.createElement(ki,{prefixCls:"".concat(L,"-overflow"),data:s,renderItem:Q,renderRest:G,suffix:K,itemKey:G1,maxCount:b});return p.createElement(p.Fragment,null,re,!s.length&&!R&&p.createElement("span",{className:"".concat(L,"-placeholder")},f))},q1=function(t){var n=t.inputElement,r=t.prefixCls,s=t.id,v=t.inputRef,C=t.disabled,c=t.autoFocus,i=t.autoComplete,f=t.activeDescendantId,h=t.mode,o=t.open,u=t.values,a=t.placeholder,d=t.tabIndex,g=t.showSearch,l=t.searchValue,m=t.activeValue,b=t.maxLength,y=t.onInputKeyDown,S=t.onInputMouseDown,w=t.onInputChange,x=t.onInputPaste,E=t.onInputCompositionStart,_=t.onInputCompositionEnd,$=t.title,I=p.useState(!1),A=ge(I,2),F=A[0],z=A[1],D=h==="combobox",H=D||g,B=u[0],j=l||"";D&&m&&!F&&(j=m),p.useEffect(function(){D&&z(!1)},[D,m]);var N=h!=="combobox"&&!o&&!g?!1:!!j,O=$===void 0?tf(B):$,P=p.useMemo(function(){return B?null:p.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:N?{visibility:"hidden"}:void 0},a)},[B,N,a,r]);return p.createElement(p.Fragment,null,p.createElement("span",{className:"".concat(r,"-selection-search")},p.createElement(Zd,{ref:v,prefixCls:r,id:s,open:o,inputElement:n,disabled:C,autoFocus:c,autoComplete:i,editable:H,activeDescendantId:f,value:j,onKeyDown:y,onMouseDown:S,onChange:function(M){z(!0),w(M)},onPaste:x,onCompositionStart:E,onCompositionEnd:_,tabIndex:d,attrs:On(t,!0),maxLength:D?b:void 0})),!D&&B?p.createElement("span",{className:"".concat(r,"-selection-item"),title:O,style:N?{visibility:"hidden"}:void 0},B.label):null,P)},K1=function(t,n){var r=p.useRef(null),s=p.useRef(!1),v=t.prefixCls,C=t.open,c=t.mode,i=t.showSearch,f=t.tokenWithEnter,h=t.disabled,o=t.autoClearSearchValue,u=t.onSearch,a=t.onSearchSubmit,d=t.onToggleOpen,g=t.onInputKeyDown,l=t.domRef;p.useImperativeHandle(n,function(){return{focus:function(N){r.current.focus(N)},blur:function(){r.current.blur()}}});var m=qd(0),b=ge(m,2),y=b[0],S=b[1],w=function(N){var O=N.which;(O===me.UP||O===me.DOWN)&&N.preventDefault(),g&&g(N),O===me.ENTER&&c==="tags"&&!s.current&&!C&&(a==null||a(N.target.value)),P1(O)&&d(!0)},x=function(){S(!0)},E=p.useRef(null),_=function(N){u(N,!0,s.current)!==!1&&d(!0)},$=function(){s.current=!0},I=function(N){s.current=!1,c!=="combobox"&&_(N.target.value)},A=function(N){var O=N.target.value;if(f&&E.current&&/[\r\n]/.test(E.current)){var P=E.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");O=O.replace(P,E.current)}E.current=null,_(O)},F=function(N){var O=N.clipboardData,P=O==null?void 0:O.getData("text");E.current=P||""},z=function(N){var O=N.target;if(O!==r.current){var P=document.body.style.msTouchAction!==void 0;P?setTimeout(function(){r.current.focus()}):r.current.focus()}},D=function(N){var O=y();N.target!==r.current&&!O&&!(c==="combobox"&&h)&&N.preventDefault(),(c!=="combobox"&&(!i||!O)||!C)&&(C&&o!==!1&&u("",!0,!1),d())},H={inputRef:r,onInputKeyDown:w,onInputMouseDown:x,onInputChange:A,onInputPaste:F,onInputCompositionStart:$,onInputCompositionEnd:I},B=c==="multiple"||c==="tags"?p.createElement(Y1,ye({},t,H)):p.createElement(q1,ye({},t,H));return p.createElement("div",{ref:l,className:"".concat(v,"-selector"),onClick:z,onMouseDown:D},B)},Q1=p.forwardRef(K1);function J1(e){var t=e.prefixCls,n=e.align,r=e.arrow,s=e.arrowPos,v=r||{},C=v.className,c=v.content,i=s.x,f=i===void 0?0:i,h=s.y,o=h===void 0?0:h,u=p.useRef();if(!n||!n.points)return null;var a={position:"absolute"};if(n.autoArrow!==!1){var d=n.points[0],g=n.points[1],l=d[0],m=d[1],b=g[0],y=g[1];l===b||!["t","b"].includes(l)?a.top=o:l==="t"?a.top=0:a.bottom=0,m===y||!["l","r"].includes(m)?a.left=f:m==="l"?a.left=0:a.right=0}return p.createElement("div",{ref:u,className:se("".concat(t,"-arrow"),C),style:a},c)}function Z1(e){var t=e.prefixCls,n=e.open,r=e.zIndex,s=e.mask,v=e.motion;return s?p.createElement(Yn,ye({},v,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(C){var c=C.className;return p.createElement("div",{style:{zIndex:r},className:se("".concat(t,"-mask"),c)})}):null}var e2=p.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),t2=p.forwardRef(function(e,t){var n=e.popup,r=e.className,s=e.prefixCls,v=e.style,C=e.target,c=e.onVisibleChanged,i=e.open,f=e.keepDom,h=e.fresh,o=e.onClick,u=e.mask,a=e.arrow,d=e.arrowPos,g=e.align,l=e.motion,m=e.maskMotion,b=e.forceRender,y=e.getPopupContainer,S=e.autoDestroy,w=e.portal,x=e.zIndex,E=e.onMouseEnter,_=e.onMouseLeave,$=e.onPointerEnter,I=e.ready,A=e.offsetX,F=e.offsetY,z=e.offsetR,D=e.offsetB,H=e.onAlign,B=e.onPrepare,j=e.stretch,N=e.targetWidth,O=e.targetHeight,P=typeof n=="function"?n():n,T=i||f,M=(y==null?void 0:y.length)>0,k=p.useState(!y||!M),L=ge(k,2),R=L[0],V=L[1];if(It(function(){!R&&M&&C&&V(!0)},[R,M,C]),!R)return null;var W="auto",Y={left:"-1000vw",top:"-1000vh",right:W,bottom:W};if(I||!i){var Q,G=g.points,K=g.dynamicInset||((Q=g._experimental)===null||Q===void 0?void 0:Q.dynamicInset),re=K&&G[0][1]==="r",q=K&&G[0][0]==="b";re?(Y.right=z,Y.left=W):(Y.left=A,Y.right=W),q?(Y.bottom=D,Y.top=W):(Y.top=F,Y.bottom=W)}var X={};return j&&(j.includes("height")&&O?X.height=O:j.includes("minHeight")&&O&&(X.minHeight=O),j.includes("width")&&N?X.width=N:j.includes("minWidth")&&N&&(X.minWidth=N)),i||(X.pointerEvents="none"),p.createElement(w,{open:b||T,getContainer:y&&function(){return y(C)},autoDestroy:S},p.createElement(Z1,{prefixCls:s,open:i,zIndex:x,mask:u,motion:m}),p.createElement(hr,{onResize:H,disabled:!i},function(Z){return p.createElement(Yn,ye({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(s,"-hidden")},l,{onAppearPrepare:B,onEnterPrepare:B,visible:i,onVisibleChanged:function(te){var ie;l==null||(ie=l.onVisibleChanged)===null||ie===void 0||ie.call(l,te),c(te)}}),function(ne,te){var ie=ne.className,le=ne.style,fe=se(s,ie,r);return p.createElement("div",{ref:Fn(Z,t,te),className:fe,style:ae(ae(ae(ae({"--arrow-x":"".concat(d.x||0,"px"),"--arrow-y":"".concat(d.y||0,"px")},Y),X),le),{},{boxSizing:"border-box",zIndex:x},v),onMouseEnter:E,onMouseLeave:_,onPointerEnter:$,onClick:o},a&&p.createElement(J1,{prefixCls:s,arrow:a,arrowPos:d,align:g}),p.createElement(e2,{cache:!i&&!h},P))})}))}),n2=p.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,s=_o(n),v=p.useCallback(function(c){r0(t,r?r(c):c)},[r]),C=Ii(v,n.ref);return s?p.cloneElement(n,{ref:C}):n}),uc=p.createContext(null);function dc(e){return e?Array.isArray(e)?e:[e]:[]}function r2(e,t,n,r){return p.useMemo(function(){var s=dc(n??t),v=dc(r??t),C=new Set(s),c=new Set(v);return e&&(C.has("hover")&&(C.delete("hover"),C.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[C,c]},[e,t,n,r])}function i2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function o2(e,t,n,r){for(var s=n.points,v=Object.keys(e),C=0;C<v.length;C+=1){var c,i=v[C];if(i2((c=e[i])===null||c===void 0?void 0:c.points,s,r))return"".concat(t,"-placement-").concat(i)}return""}function fc(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function zi(e){return e.ownerDocument.defaultView}function gs(e){for(var t=[],n=e==null?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var s=zi(n).getComputedStyle(n),v=s.overflowX,C=s.overflowY,c=s.overflow;[v,C,c].some(function(i){return r.includes(i)})&&t.push(n),n=n.parentElement}return t}function $i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function fi(e){return $i(parseFloat(e),0)}function hc(e,t){var n=ae({},e);return(t||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var s=zi(r).getComputedStyle(r),v=s.overflow,C=s.overflowClipMargin,c=s.borderTopWidth,i=s.borderBottomWidth,f=s.borderLeftWidth,h=s.borderRightWidth,o=r.getBoundingClientRect(),u=r.offsetHeight,a=r.clientHeight,d=r.offsetWidth,g=r.clientWidth,l=fi(c),m=fi(i),b=fi(f),y=fi(h),S=$i(Math.round(o.width/d*1e3)/1e3),w=$i(Math.round(o.height/u*1e3)/1e3),x=(d-g-b-y)*S,E=(u-a-l-m)*w,_=l*w,$=m*w,I=b*S,A=y*S,F=0,z=0;if(v==="clip"){var D=fi(C);F=D*S,z=D*w}var H=o.x+I-F,B=o.y+_-z,j=H+o.width+2*F-I-A-x,N=B+o.height+2*z-_-$-E;n.left=Math.max(n.left,H),n.top=Math.max(n.top,B),n.right=Math.min(n.right,j),n.bottom=Math.min(n.bottom,N)}}),n}function gc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),r=n.match(/^(.*)\%$/);return r?e*(parseFloat(r[1])/100):parseFloat(n)}function mc(e,t){var n=t||[],r=ge(n,2),s=r[0],v=r[1];return[gc(e.width,s),gc(e.height,v)]}function vc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Hr(e,t){var n=t[0],r=t[1],s,v;return n==="t"?v=e.y:n==="b"?v=e.y+e.height:v=e.y+e.height/2,r==="l"?s=e.x:r==="r"?s=e.x+e.width:s=e.x+e.width/2,{x:s,y:v}}function rr(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(r,s){return s===t?n[r]||"c":r}).join("")}function a2(e,t,n,r,s,v,C){var c=p.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:s[r]||{}}),i=ge(c,2),f=i[0],h=i[1],o=p.useRef(0),u=p.useMemo(function(){return t?gs(t):[]},[t]),a=p.useRef({}),d=function(){a.current={}};e||d();var g=Ht(function(){if(t&&n&&e){let yn=function(Kn,pr){var jr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fe,Fr=P.x+Kn,ci=P.y+pr,ui=Fr+Q,Xi=ci+Y,qo=Math.max(Fr,jr.left),Ko=Math.max(ci,jr.top),Qo=Math.min(ui,jr.right),Jo=Math.min(Xi,jr.bottom);return Math.max(0,(Qo-qo)*(Jo-Ko))},Wi=function(){Pt=P.y+Ee,Dt=Pt+Y,Xe=P.x+Ne,ze=Xe+Q};var b,y,S=t,w=S.ownerDocument,x=zi(S),E=x.getComputedStyle(S),_=E.width,$=E.height,I=E.position,A=S.style.left,F=S.style.top,z=S.style.right,D=S.style.bottom,H=S.style.overflow,B=ae(ae({},s[r]),v),j=w.createElement("div");(b=S.parentElement)===null||b===void 0||b.appendChild(j),j.style.left="".concat(S.offsetLeft,"px"),j.style.top="".concat(S.offsetTop,"px"),j.style.position=I,j.style.height="".concat(S.offsetHeight,"px"),j.style.width="".concat(S.offsetWidth,"px"),S.style.left="0",S.style.top="0",S.style.right="auto",S.style.bottom="auto",S.style.overflow="hidden";var N;if(Array.isArray(n))N={x:n[0],y:n[1],width:0,height:0};else{var O=n.getBoundingClientRect();N={x:O.x,y:O.y,width:O.width,height:O.height}}var P=S.getBoundingClientRect(),T=w.documentElement,M=T.clientWidth,k=T.clientHeight,L=T.scrollWidth,R=T.scrollHeight,V=T.scrollTop,W=T.scrollLeft,Y=P.height,Q=P.width,G=N.height,K=N.width,re={left:0,top:0,right:M,bottom:k},q={left:-W,top:-V,right:L-W,bottom:R-V},X=B.htmlRegion,Z="visible",ne="visibleFirst";X!=="scroll"&&X!==ne&&(X=Z);var te=X===ne,ie=hc(q,u),le=hc(re,u),fe=X===Z?le:ie,ce=te?le:fe;S.style.left="auto",S.style.top="auto",S.style.right="0",S.style.bottom="0";var oe=S.getBoundingClientRect();S.style.left=A,S.style.top=F,S.style.right=z,S.style.bottom=D,S.style.overflow=H,(y=S.parentElement)===null||y===void 0||y.removeChild(j);var ue=$i(Math.round(Q/parseFloat(_)*1e3)/1e3),he=$i(Math.round(Y/parseFloat($)*1e3)/1e3);if(ue===0||he===0||Ya(n)&&!rd(n))return;var pe=B.offset,ve=B.targetOffset,xe=mc(P,pe),Te=ge(xe,2),be=Te[0],Ce=Te[1],He=mc(N,ve),De=ge(He,2),we=De[0],Ae=De[1];N.x-=we,N.y-=Ae;var Qe=B.points||[],$e=ge(Qe,2),je=$e[0],Ue=$e[1],ft=vc(Ue),qe=vc(je),Ke=Hr(N,ft),Ve=Hr(P,qe),Pe=ae({},B),Ne=Ke.x-Ve.x+be,Ee=Ke.y-Ve.y+Ce,Je=yn(Ne,Ee),Fe=yn(Ne,Ee,le),Re=Hr(N,["t","l"]),at=Hr(P,["t","l"]),bt=Hr(N,["b","r"]),Ie=Hr(P,["b","r"]),We=B.overflow||{},Me=We.adjustX,Ge=We.adjustY,ot=We.shiftX,st=We.shiftY,Mt=function(pr){return typeof pr=="boolean"?pr:pr>=0},Pt,Dt,Xe,ze;Wi();var lt=Mt(Ge),pt=qe[0]===ft[0];if(lt&&qe[0]==="t"&&(Dt>ce.bottom||a.current.bt)){var ut=Ee;pt?ut-=Y-G:ut=Re.y-Ie.y-Ce;var _t=yn(Ne,ut),_e=yn(Ne,ut,le);_t>Je||_t===Je&&(!te||_e>=Fe)?(a.current.bt=!0,Ee=ut,Ce=-Ce,Pe.points=[rr(qe,0),rr(ft,0)]):a.current.bt=!1}if(lt&&qe[0]==="b"&&(Pt<ce.top||a.current.tb)){var Oe=Ee;pt?Oe+=Y-G:Oe=bt.y-at.y-Ce;var Be=yn(Ne,Oe),Ct=yn(Ne,Oe,le);Be>Je||Be===Je&&(!te||Ct>=Fe)?(a.current.tb=!0,Ee=Oe,Ce=-Ce,Pe.points=[rr(qe,0),rr(ft,0)]):a.current.tb=!1}var jt=Mt(Me),rn=qe[1]===ft[1];if(jt&&qe[1]==="l"&&(ze>ce.right||a.current.rl)){var Yt=Ne;rn?Yt-=Q-K:Yt=Re.x-Ie.x-be;var er=yn(Yt,Ee),tr=yn(Yt,Ee,le);er>Je||er===Je&&(!te||tr>=Fe)?(a.current.rl=!0,Ne=Yt,be=-be,Pe.points=[rr(qe,1),rr(ft,1)]):a.current.rl=!1}if(jt&&qe[1]==="r"&&(Xe<ce.left||a.current.lr)){var vn=Ne;rn?vn+=Q-K:vn=bt.x-at.x-be;var $n=yn(vn,Ee),Nr=yn(vn,Ee,le);$n>Je||$n===Je&&(!te||Nr>=Fe)?(a.current.lr=!0,Ne=vn,be=-be,Pe.points=[rr(qe,1),rr(ft,1)]):a.current.lr=!1}Wi();var pn=ot===!0?0:ot;typeof pn=="number"&&(Xe<le.left&&(Ne-=Xe-le.left-be,N.x+K<le.left+pn&&(Ne+=N.x-le.left+K-pn)),ze>le.right&&(Ne-=ze-le.right-be,N.x>le.right-pn&&(Ne+=N.x-le.right+pn)));var bn=st===!0?0:st;typeof bn=="number"&&(Pt<le.top&&(Ee-=Pt-le.top-Ce,N.y+G<le.top+bn&&(Ee+=N.y-le.top+G-bn)),Dt>le.bottom&&(Ee-=Dt-le.bottom-Ce,N.y>le.bottom-bn&&(Ee+=N.y-le.bottom+bn)));var vr=P.x+Ne,Dr=vr+Q,zn=P.y+Ee,qn=zn+Y,nr=N.x,Hn=nr+K,rt=N.y,nt=rt+G,Xt=Math.max(vr,nr),Ut=Math.min(Dr,Hn),$t=(Xt+Ut)/2,kt=$t-vr,on=Math.max(zn,rt),Cn=Math.min(qn,nt),un=(on+Cn)/2,Vn=un-zn;C==null||C(t,Pe);var an=oe.right-P.x-(Ne+P.width),Tn=oe.bottom-P.y-(Ee+P.height);ue===1&&(Ne=Math.round(Ne),an=Math.round(an)),he===1&&(Ee=Math.round(Ee),Tn=Math.round(Tn));var Yo={ready:!0,offsetX:Ne/ue,offsetY:Ee/he,offsetR:an/ue,offsetB:Tn/he,arrowX:kt/ue,arrowY:Vn/he,scaleX:ue,scaleY:he,align:Pe};h(Yo)}}),l=function(){o.current+=1;var y=o.current;Promise.resolve().then(function(){o.current===y&&g()})},m=function(){h(function(y){return ae(ae({},y),{},{ready:!1})})};return It(m,[r]),It(function(){e||m()},[e]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,l]}function s2(e,t,n,r,s){It(function(){if(e&&t&&n){let o=function(){r(),s()};var v=t,C=n,c=gs(v),i=gs(C),f=zi(C),h=new Set([f].concat(Se(c),Se(i)));return h.forEach(function(u){u.addEventListener("scroll",o,{passive:!0})}),f.addEventListener("resize",o,{passive:!0}),r(),function(){h.forEach(function(u){u.removeEventListener("scroll",o),f.removeEventListener("resize",o)})}}},[e,t,n])}function l2(e,t,n,r,s,v,C,c){var i=p.useRef(e);i.current=e,p.useEffect(function(){if(t&&r&&(!s||v)){var f=function(a){var d=a.target;i.current&&!C(d)&&c(!1)},h=zi(r);h.addEventListener("mousedown",f,!0),h.addEventListener("contextmenu",f,!0);var o=fo(n);return o&&(o.addEventListener("mousedown",f,!0),o.addEventListener("contextmenu",f,!0)),function(){h.removeEventListener("mousedown",f,!0),h.removeEventListener("contextmenu",f,!0),o&&(o.removeEventListener("mousedown",f,!0),o.removeEventListener("contextmenu",f,!0))}}},[t,n,r,s,v])}var c2=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function u2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lo,t=p.forwardRef(function(n,r){var s=n.prefixCls,v=s===void 0?"rc-trigger-popup":s,C=n.children,c=n.action,i=c===void 0?"hover":c,f=n.showAction,h=n.hideAction,o=n.popupVisible,u=n.defaultPopupVisible,a=n.onPopupVisibleChange,d=n.afterPopupVisibleChange,g=n.mouseEnterDelay,l=n.mouseLeaveDelay,m=l===void 0?.1:l,b=n.focusDelay,y=n.blurDelay,S=n.mask,w=n.maskClosable,x=w===void 0?!0:w,E=n.getPopupContainer,_=n.forceRender,$=n.autoDestroy,I=n.destroyPopupOnHide,A=n.popup,F=n.popupClassName,z=n.popupStyle,D=n.popupPlacement,H=n.builtinPlacements,B=H===void 0?{}:H,j=n.popupAlign,N=n.zIndex,O=n.stretch,P=n.getPopupClassNameFromAlign,T=n.fresh,M=n.alignPoint,k=n.onPopupClick,L=n.onPopupAlign,R=n.arrow,V=n.popupMotion,W=n.maskMotion,Y=n.popupTransitionName,Q=n.popupAnimation,G=n.maskTransitionName,K=n.maskAnimation,re=n.className,q=n.getTriggerDOMNode,X=it(n,c2),Z=$||I||!1,ne=p.useState(!1),te=ge(ne,2),ie=te[0],le=te[1];It(function(){le(ks())},[]);var fe=p.useRef({}),ce=p.useContext(uc),oe=p.useMemo(function(){return{registerSubPopup:function(Ze,Lt){fe.current[Ze]=Lt,ce==null||ce.registerSubPopup(Ze,Lt)}}},[ce]),ue=vd(),he=p.useState(null),pe=ge(he,2),ve=pe[0],xe=pe[1],Te=p.useRef(null),be=Ht(function(ke){Te.current=ke,Ya(ke)&&ve!==ke&&xe(ke),ce==null||ce.registerSubPopup(ue,ke)}),Ce=p.useState(null),He=ge(Ce,2),De=He[0],we=He[1],Ae=p.useRef(null),Qe=Ht(function(ke){Ya(ke)&&De!==ke&&(we(ke),Ae.current=ke)}),$e=p.Children.only(C),je=($e==null?void 0:$e.props)||{},Ue={},ft=Ht(function(ke){var Ze,Lt,zt=De;return(zt==null?void 0:zt.contains(ke))||((Ze=fo(zt))===null||Ze===void 0?void 0:Ze.host)===ke||ke===zt||(ve==null?void 0:ve.contains(ke))||((Lt=fo(ve))===null||Lt===void 0?void 0:Lt.host)===ke||ke===ve||Object.values(fe.current).some(function(At){return(At==null?void 0:At.contains(ke))||ke===At})}),qe=fc(v,V,Q,Y),Ke=fc(v,W,K,G),Ve=p.useState(u||!1),Pe=ge(Ve,2),Ne=Pe[0],Ee=Pe[1],Je=o??Ne,Fe=Ht(function(ke){o===void 0&&Ee(ke)});It(function(){Ee(o||!1)},[o]);var Re=p.useRef(Je);Re.current=Je;var at=p.useRef([]);at.current=[];var bt=Ht(function(ke){var Ze;Fe(ke),((Ze=at.current[at.current.length-1])!==null&&Ze!==void 0?Ze:Je)!==ke&&(at.current.push(ke),a==null||a(ke))}),Ie=p.useRef(),We=function(){clearTimeout(Ie.current)},Me=function(Ze){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;We(),Lt===0?bt(Ze):Ie.current=setTimeout(function(){bt(Ze)},Lt*1e3)};p.useEffect(function(){return We},[]);var Ge=p.useState(!1),ot=ge(Ge,2),st=ot[0],Mt=ot[1];It(function(ke){(!ke||Je)&&Mt(!0)},[Je]);var Pt=p.useState(null),Dt=ge(Pt,2),Xe=Dt[0],ze=Dt[1],lt=p.useState([0,0]),pt=ge(lt,2),ut=pt[0],_t=pt[1],_e=function(Ze){_t([Ze.clientX,Ze.clientY])},Oe=a2(Je,ve,M?ut:De,D,B,j,L),Be=ge(Oe,11),Ct=Be[0],jt=Be[1],rn=Be[2],Yt=Be[3],er=Be[4],tr=Be[5],vn=Be[6],$n=Be[7],Nr=Be[8],pn=Be[9],bn=Be[10],vr=r2(ie,i,f,h),Dr=ge(vr,2),zn=Dr[0],qn=Dr[1],nr=zn.has("click"),Hn=qn.has("click")||qn.has("contextMenu"),rt=Ht(function(){st||bn()}),nt=function(){Re.current&&M&&Hn&&Me(!1)};s2(Je,De,ve,rt,nt),It(function(){rt()},[ut,D]),It(function(){Je&&!(B!=null&&B[D])&&rt()},[JSON.stringify(j)]);var Xt=p.useMemo(function(){var ke=o2(B,v,pn,M);return se(ke,P==null?void 0:P(pn))},[pn,P,B,v,M]);p.useImperativeHandle(r,function(){return{nativeElement:Ae.current,popupElement:Te.current,forceAlign:rt}});var Ut=p.useState(0),$t=ge(Ut,2),kt=$t[0],on=$t[1],Cn=p.useState(0),un=ge(Cn,2),Vn=un[0],an=un[1],Tn=function(){if(O&&De){var Ze=De.getBoundingClientRect();on(Ze.width),an(Ze.height)}},Yo=function(){Tn(),rt()},yn=function(Ze){Mt(!1),bn(),d==null||d(Ze)},Wi=function(){return new Promise(function(Ze){Tn(),ze(function(){return Ze})})};It(function(){Xe&&(bn(),Xe(),ze(null))},[Xe]);function Kn(ke,Ze,Lt,zt){Ue[ke]=function(At){var Ui;zt==null||zt(At),Me(Ze,Lt);for(var Zo=arguments.length,sl=new Array(Zo>1?Zo-1:0),Gi=1;Gi<Zo;Gi++)sl[Gi-1]=arguments[Gi];(Ui=je[ke])===null||Ui===void 0||Ui.call.apply(Ui,[je,At].concat(sl))}}(nr||Hn)&&(Ue.onClick=function(ke){var Ze;Re.current&&Hn?Me(!1):!Re.current&&nr&&(_e(ke),Me(!0));for(var Lt=arguments.length,zt=new Array(Lt>1?Lt-1:0),At=1;At<Lt;At++)zt[At-1]=arguments[At];(Ze=je.onClick)===null||Ze===void 0||Ze.call.apply(Ze,[je,ke].concat(zt))}),l2(Je,Hn,De,ve,S,x,ft,Me);var pr=zn.has("hover"),jr=qn.has("hover"),Fr,ci;pr&&(Kn("onMouseEnter",!0,g,function(ke){_e(ke)}),Kn("onPointerEnter",!0,g,function(ke){_e(ke)}),Fr=function(Ze){(Je||st)&&ve!==null&&ve!==void 0&&ve.contains(Ze.target)&&Me(!0,g)},M&&(Ue.onMouseMove=function(ke){var Ze;(Ze=je.onMouseMove)===null||Ze===void 0||Ze.call(je,ke)})),jr&&(Kn("onMouseLeave",!1,m),Kn("onPointerLeave",!1,m),ci=function(){Me(!1,m)}),zn.has("focus")&&Kn("onFocus",!0,b),qn.has("focus")&&Kn("onBlur",!1,y),zn.has("contextMenu")&&(Ue.onContextMenu=function(ke){var Ze;Re.current&&qn.has("contextMenu")?Me(!1):(_e(ke),Me(!0)),ke.preventDefault();for(var Lt=arguments.length,zt=new Array(Lt>1?Lt-1:0),At=1;At<Lt;At++)zt[At-1]=arguments[At];(Ze=je.onContextMenu)===null||Ze===void 0||Ze.call.apply(Ze,[je,ke].concat(zt))}),re&&(Ue.className=se(je.className,re));var ui=ae(ae({},je),Ue),Xi={},qo=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];qo.forEach(function(ke){X[ke]&&(Xi[ke]=function(){for(var Ze,Lt=arguments.length,zt=new Array(Lt),At=0;At<Lt;At++)zt[At]=arguments[At];(Ze=ui[ke])===null||Ze===void 0||Ze.call.apply(Ze,[ui].concat(zt)),X[ke].apply(X,zt)})});var Ko=p.cloneElement($e,ae(ae({},ui),Xi)),Qo={x:tr,y:vn},Jo=R?ae({},R!==!0?R:{}):null;return p.createElement(p.Fragment,null,p.createElement(hr,{disabled:!Je,ref:Qe,onResize:Yo},p.createElement(n2,{getTriggerDOMNode:q},Ko)),p.createElement(uc.Provider,{value:oe},p.createElement(t2,{portal:e,ref:be,prefixCls:v,popup:A,className:se(F,Xt),style:z,target:De,onMouseEnter:Fr,onMouseLeave:ci,onPointerEnter:Fr,zIndex:N,open:Je,keepDom:st,fresh:T,onClick:k,mask:S,motion:qe,maskMotion:Ke,onVisibleChanged:yn,onPrepare:Wi,forceRender:_,autoDestroy:Z,getPopupContainer:E,align:pn,arrow:Jo,arrowPos:Qo,ready:Ct,offsetX:jt,offsetY:rn,offsetR:Yt,offsetB:er,onAlign:rt,stretch:O,targetWidth:kt/$n,targetHeight:Vn/Nr})))});return t}const nf=u2(Lo);var d2=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],f2=function(t){var n=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},h2=function(t,n){var r=t.prefixCls;t.disabled;var s=t.visible,v=t.children,C=t.popupElement,c=t.animation,i=t.transitionName,f=t.dropdownStyle,h=t.dropdownClassName,o=t.direction,u=o===void 0?"ltr":o,a=t.placement,d=t.builtinPlacements,g=t.dropdownMatchSelectWidth,l=t.dropdownRender,m=t.dropdownAlign,b=t.getPopupContainer,y=t.empty,S=t.getTriggerDOMNode,w=t.onPopupVisibleChange,x=t.onPopupMouseEnter,E=it(t,d2),_="".concat(r,"-dropdown"),$=C;l&&($=l(C));var I=p.useMemo(function(){return d||f2(g)},[d,g]),A=c?"".concat(_,"-").concat(c):i,F=typeof g=="number",z=p.useMemo(function(){return F?null:g===!1?"minWidth":"width"},[g,F]),D=f;F&&(D=ae(ae({},D),{},{width:g}));var H=p.useRef(null);return p.useImperativeHandle(n,function(){return{getPopupElement:function(){var j;return(j=H.current)===null||j===void 0?void 0:j.popupElement}}}),p.createElement(nf,ye({},E,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:a||(u==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:I,prefixCls:_,popupTransitionName:A,popup:p.createElement("div",{onMouseEnter:x},$),ref:H,stretch:z,popupAlign:m,popupVisible:s,getPopupContainer:b,popupClassName:se(h,ee({},"".concat(_,"-empty"),y)),popupStyle:D,getTriggerDOMNode:S,onPopupVisibleChange:w}),v)},g2=p.forwardRef(h2);function pc(e,t){var n=e.key,r;return"value"in e&&(r=e.value),n??(r!==void 0?r:"rc-index-key-".concat(t))}function ms(e){return typeof e<"u"&&!Number.isNaN(e)}function rf(e,t){var n=e||{},r=n.label,s=n.value,v=n.options,C=n.groupLabel,c=r||(t?"children":"label");return{label:c,value:s||"value",options:v||"options",groupLabel:C||c}}function m2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,s=[],v=rf(n,!1),C=v.label,c=v.value,i=v.options,f=v.groupLabel;function h(o,u){Array.isArray(o)&&o.forEach(function(a){if(u||!(i in a)){var d=a[c];s.push({key:pc(a,s.length),groupOption:u,data:a,label:a[C],value:d})}else{var g=a[f];g===void 0&&r&&(g=a.label),s.push({key:pc(a,s.length),group:!0,data:a,label:g}),h(a[i],!0)}})}return h(e,!1),s}function vs(e){var t=ae({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return sn(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var v2=function(t,n,r){if(!n||!n.length)return null;var s=!1,v=function c(i,f){var h=i0(f),o=h[0],u=h.slice(1);if(!o)return[i];var a=i.split(o);return s=s||a.length>1,a.reduce(function(d,g){return[].concat(Se(d),Se(c(g,u)))},[]).filter(Boolean)},C=v(t,n);return s?typeof r<"u"?C.slice(0,r):C:null},zs=p.createContext(null);function p2(e){var t=e.visible,n=e.values;if(!t)return null;var r=50;return p.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(s){var v=s.label,C=s.value;return["number","string"].includes(et(v))?v:C}).join(", ")),n.length>r?", ...":null)}var b2=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],C2=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],ps=function(t){return t==="tags"||t==="multiple"},y2=p.forwardRef(function(e,t){var n,r=e.id,s=e.prefixCls,v=e.className,C=e.showSearch,c=e.tagRender,i=e.direction,f=e.omitDomProps,h=e.displayValues,o=e.onDisplayValuesChange,u=e.emptyOptions,a=e.notFoundContent,d=a===void 0?"Not Found":a,g=e.onClear,l=e.mode,m=e.disabled,b=e.loading,y=e.getInputElement,S=e.getRawInputElement,w=e.open,x=e.defaultOpen,E=e.onDropdownVisibleChange,_=e.activeValue,$=e.onActiveValueChange,I=e.activeDescendantId,A=e.searchValue,F=e.autoClearSearchValue,z=e.onSearch,D=e.onSearchSplit,H=e.tokenSeparators,B=e.allowClear,j=e.suffixIcon,N=e.clearIcon,O=e.OptionList,P=e.animation,T=e.transitionName,M=e.dropdownStyle,k=e.dropdownClassName,L=e.dropdownMatchSelectWidth,R=e.dropdownRender,V=e.dropdownAlign,W=e.placement,Y=e.builtinPlacements,Q=e.getPopupContainer,G=e.showAction,K=G===void 0?[]:G,re=e.onFocus,q=e.onBlur,X=e.onKeyUp,Z=e.onKeyDown,ne=e.onMouseDown,te=it(e,b2),ie=ps(l),le=(C!==void 0?C:ie)||l==="combobox",fe=ae({},te);C2.forEach(function(rt){delete fe[rt]}),f==null||f.forEach(function(rt){delete fe[rt]});var ce=p.useState(!1),oe=ge(ce,2),ue=oe[0],he=oe[1];p.useEffect(function(){he(ks())},[]);var pe=p.useRef(null),ve=p.useRef(null),xe=p.useRef(null),Te=p.useRef(null),be=p.useRef(null),Ce=p.useRef(!1),He=$1(),De=ge(He,3),we=De[0],Ae=De[1],Qe=De[2];p.useImperativeHandle(t,function(){var rt,nt;return{focus:(rt=Te.current)===null||rt===void 0?void 0:rt.focus,blur:(nt=Te.current)===null||nt===void 0?void 0:nt.blur,scrollTo:function(Ut){var $t;return($t=be.current)===null||$t===void 0?void 0:$t.scrollTo(Ut)},nativeElement:pe.current||ve.current}});var $e=p.useMemo(function(){var rt;if(l!=="combobox")return A;var nt=(rt=h[0])===null||rt===void 0?void 0:rt.value;return typeof nt=="string"||typeof nt=="number"?String(nt):""},[A,l,h]),je=l==="combobox"&&typeof y=="function"&&y()||null,Ue=typeof S=="function"&&S(),ft=Ii(ve,Ue==null||(n=Ue.props)===null||n===void 0?void 0:n.ref),qe=p.useState(!1),Ke=ge(qe,2),Ve=Ke[0],Pe=Ke[1];It(function(){Pe(!0)},[]);var Ne=Rt(!1,{defaultValue:x,value:w}),Ee=ge(Ne,2),Je=Ee[0],Fe=Ee[1],Re=Ve?Je:!1,at=!d&&u;(m||at&&Re&&l==="combobox")&&(Re=!1);var bt=at?!1:Re,Ie=p.useCallback(function(rt){var nt=rt!==void 0?rt:!Re;m||(Fe(nt),Re!==nt&&(E==null||E(nt)))},[m,Re,Fe,E]),We=p.useMemo(function(){return(H||[]).some(function(rt){return[`
`,`\r
`].includes(rt)})},[H]),Me=p.useContext(zs)||{},Ge=Me.maxCount,ot=Me.rawValues,st=function(nt,Xt,Ut){if(!(ie&&ms(Ge)&&(ot==null?void 0:ot.size)>=Ge)){var $t=!0,kt=nt;$==null||$(null);var on=v2(nt,H,ms(Ge)?Ge-ot.size:void 0),Cn=Ut?null:on;return l!=="combobox"&&Cn&&(kt="",D==null||D(Cn),Ie(!1),$t=!1),z&&$e!==kt&&z(kt,{source:Xt?"typing":"effect"}),$t}},Mt=function(nt){!nt||!nt.trim()||z(nt,{source:"submit"})};p.useEffect(function(){!Re&&!ie&&l!=="combobox"&&st("",!1,!1)},[Re]),p.useEffect(function(){Je&&m&&Fe(!1),m&&!Ce.current&&Ae(!1)},[m]);var Pt=qd(),Dt=ge(Pt,2),Xe=Dt[0],ze=Dt[1],lt=function(nt){var Xt=Xe(),Ut=nt.which;if(Ut===me.ENTER&&(l!=="combobox"&&nt.preventDefault(),Re||Ie(!0)),ze(!!$e),Ut===me.BACKSPACE&&!Xt&&ie&&!$e&&h.length){for(var $t=Se(h),kt=null,on=$t.length-1;on>=0;on-=1){var Cn=$t[on];if(!Cn.disabled){$t.splice(on,1),kt=Cn;break}}kt&&o($t,{type:"remove",values:[kt]})}for(var un=arguments.length,Vn=new Array(un>1?un-1:0),an=1;an<un;an++)Vn[an-1]=arguments[an];if(Re){var Tn;(Tn=be.current)===null||Tn===void 0||Tn.onKeyDown.apply(Tn,[nt].concat(Vn))}Z==null||Z.apply(void 0,[nt].concat(Vn))},pt=function(nt){for(var Xt=arguments.length,Ut=new Array(Xt>1?Xt-1:0),$t=1;$t<Xt;$t++)Ut[$t-1]=arguments[$t];if(Re){var kt;(kt=be.current)===null||kt===void 0||kt.onKeyUp.apply(kt,[nt].concat(Ut))}X==null||X.apply(void 0,[nt].concat(Ut))},ut=function(nt){var Xt=h.filter(function(Ut){return Ut!==nt});o(Xt,{type:"remove",values:[nt]})},_t=p.useRef(!1),_e=function(){Ae(!0),m||(re&&!_t.current&&re.apply(void 0,arguments),K.includes("focus")&&Ie(!0)),_t.current=!0},Oe=function(){Ce.current=!0,Ae(!1,function(){_t.current=!1,Ce.current=!1,Ie(!1)}),!m&&($e&&(l==="tags"?z($e,{source:"submit"}):l==="multiple"&&z("",{source:"blur"})),q&&q.apply(void 0,arguments))},Be=[];p.useEffect(function(){return function(){Be.forEach(function(rt){return clearTimeout(rt)}),Be.splice(0,Be.length)}},[]);var Ct=function(nt){var Xt,Ut=nt.target,$t=(Xt=xe.current)===null||Xt===void 0?void 0:Xt.getPopupElement();if($t&&$t.contains(Ut)){var kt=setTimeout(function(){var Vn=Be.indexOf(kt);if(Vn!==-1&&Be.splice(Vn,1),Qe(),!ue&&!$t.contains(document.activeElement)){var an;(an=Te.current)===null||an===void 0||an.focus()}});Be.push(kt)}for(var on=arguments.length,Cn=new Array(on>1?on-1:0),un=1;un<on;un++)Cn[un-1]=arguments[un];ne==null||ne.apply(void 0,[nt].concat(Cn))},jt=p.useState({}),rn=ge(jt,2),Yt=rn[1];function er(){Yt({})}var tr;Ue&&(tr=function(nt){Ie(nt)}),T1(function(){var rt;return[pe.current,(rt=xe.current)===null||rt===void 0?void 0:rt.getPopupElement()]},bt,Ie,!!Ue);var vn=p.useMemo(function(){return ae(ae({},e),{},{notFoundContent:d,open:Re,triggerOpen:bt,id:r,showSearch:le,multiple:ie,toggleOpen:Ie})},[e,d,bt,Re,r,le,ie,Ie]),$n=!!j||b,Nr;$n&&(Nr=p.createElement(Fo,{className:se("".concat(s,"-arrow"),ee({},"".concat(s,"-arrow-loading"),b)),customizeIcon:j,customizeIconProps:{loading:b,searchValue:$e,open:Re,focused:we,showSearch:le}}));var pn=function(){var nt;g==null||g(),(nt=Te.current)===null||nt===void 0||nt.focus(),o([],{type:"clear",values:h}),st("",!1,!1)},bn=_1(s,pn,h,B,N,m,$e,l),vr=bn.allowClear,Dr=bn.clearIcon,zn=p.createElement(O,{ref:be}),qn=se(s,v,ee(ee(ee(ee(ee(ee(ee(ee(ee(ee({},"".concat(s,"-focused"),we),"".concat(s,"-multiple"),ie),"".concat(s,"-single"),!ie),"".concat(s,"-allow-clear"),B),"".concat(s,"-show-arrow"),$n),"".concat(s,"-disabled"),m),"".concat(s,"-loading"),b),"".concat(s,"-open"),Re),"".concat(s,"-customize-input"),je),"".concat(s,"-show-search"),le)),nr=p.createElement(g2,{ref:xe,disabled:m,prefixCls:s,visible:bt,popupElement:zn,animation:P,transitionName:T,dropdownStyle:M,dropdownClassName:k,direction:i,dropdownMatchSelectWidth:L,dropdownRender:R,dropdownAlign:V,placement:W,builtinPlacements:Y,getPopupContainer:Q,empty:u,getTriggerDOMNode:function(nt){return ve.current||nt},onPopupVisibleChange:tr,onPopupMouseEnter:er},Ue?p.cloneElement(Ue,{ref:ft}):p.createElement(Q1,ye({},e,{domRef:ve,prefixCls:s,inputElement:je,ref:Te,id:r,showSearch:le,autoClearSearchValue:F,mode:l,activeDescendantId:I,tagRender:c,values:h,open:Re,onToggleOpen:Ie,activeValue:_,searchValue:$e,onSearch:st,onSearchSubmit:Mt,onRemove:ut,tokenWithEnter:We}))),Hn;return Ue?Hn=nr:Hn=p.createElement("div",ye({className:qn},fe,{ref:pe,onMouseDown:Ct,onKeyDown:lt,onKeyUp:pt,onFocus:_e,onBlur:Oe}),p.createElement(p2,{visible:we&&!Re,values:h}),nr,Nr,vr&&Dr),p.createElement(Yd.Provider,{value:vn},Hn)}),Hs=function(){return null};Hs.isSelectOptGroup=!0;var Vs=function(){return null};Vs.isSelectOption=!0;var of=p.forwardRef(function(e,t){var n=e.height,r=e.offsetY,s=e.offsetX,v=e.children,C=e.prefixCls,c=e.onInnerResize,i=e.innerProps,f=e.rtl,h=e.extra,o={},u={display:"flex",flexDirection:"column"};return r!==void 0&&(o={height:n,position:"relative",overflow:"hidden"},u=ae(ae({},u),{},ee(ee(ee(ee(ee({transform:"translateY(".concat(r,"px)")},f?"marginRight":"marginLeft",-s),"position","absolute"),"left",0),"right",0),"top",0))),p.createElement("div",{style:o},p.createElement(hr,{onResize:function(d){var g=d.offsetHeight;g&&c&&c()}},p.createElement("div",ye({style:u,className:se(ee({},"".concat(C,"-holder-inner"),C)),ref:t},i),v,h)))});of.displayName="Filler";function S2(e){var t=e.children,n=e.setRef,r=p.useCallback(function(s){n(s)},[]);return p.cloneElement(t,{ref:r})}function w2(e,t,n,r,s,v,C,c){var i=c.getKey;return e.slice(t,n+1).map(function(f,h){var o=t+h,u=C(f,o,{style:{width:r},offsetX:s}),a=i(f);return p.createElement(S2,{key:a,setRef:function(g){return v(f,g)}},u)})}function x2(e,t,n){var r=e.length,s=t.length,v,C;if(r===0&&s===0)return null;r<s?(v=e,C=t):(v=t,C=e);var c={__EMPTY_ITEM__:!0};function i(d){return d!==void 0?n(d):c}for(var f=null,h=Math.abs(r-s)!==1,o=0;o<C.length;o+=1){var u=i(v[o]),a=i(C[o]);if(u!==a){f=o,h=h||u!==i(C[o+1]);break}}return f===null?null:{index:f,multiple:h}}function E2(e,t,n){var r=p.useState(e),s=ge(r,2),v=s[0],C=s[1],c=p.useState(null),i=ge(c,2),f=i[0],h=i[1];return p.useEffect(function(){var o=x2(v||[],e||[],t);(o==null?void 0:o.index)!==void 0&&h(e[o.index]),C(e)},[e]),[f]}var bc=(typeof navigator>"u"?"undefined":et(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const af=function(e,t,n,r){var s=p.useRef(!1),v=p.useRef(null);function C(){clearTimeout(v.current),s.current=!0,v.current=setTimeout(function(){s.current=!1},50)}var c=p.useRef({top:e,bottom:t,left:n,right:r});return c.current.top=e,c.current.bottom=t,c.current.left=n,c.current.right=r,function(i,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=i?f<0&&c.current.left||f>0&&c.current.right:f<0&&c.current.top||f>0&&c.current.bottom;return h&&o?(clearTimeout(v.current),s.current=!1):(!o||s.current)&&C(),!s.current&&o}};function _2(e,t,n,r,s,v,C){var c=p.useRef(0),i=p.useRef(null),f=p.useRef(null),h=p.useRef(!1),o=af(t,n,r,s);function u(b,y){wt.cancel(i.current),c.current+=y,f.current=y,!o(!1,y)&&(bc||b.preventDefault(),i.current=wt(function(){var S=h.current?10:1;C(c.current*S),c.current=0}))}function a(b,y){C(y,!0),bc||b.preventDefault()}var d=p.useRef(null),g=p.useRef(null);function l(b){if(e){wt.cancel(g.current),g.current=wt(function(){d.current=null},2);var y=b.deltaX,S=b.deltaY,w=b.shiftKey,x=y,E=S;(d.current==="sx"||!d.current&&w&&S&&!y)&&(x=S,E=0,d.current="sx");var _=Math.abs(x),$=Math.abs(E);d.current===null&&(d.current=v&&_>$?"x":"y"),d.current==="y"?u(b,E):a(b,x)}}function m(b){e&&(h.current=b.detail===f.current)}return[l,m]}function O2(e,t,n,r){var s=p.useMemo(function(){return[new Map,[]]},[e,n.id,r]),v=ge(s,2),C=v[0],c=v[1],i=function(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,u=C.get(h),a=C.get(o);if(u===void 0||a===void 0)for(var d=e.length,g=c.length;g<d;g+=1){var l,m=e[g],b=t(m);C.set(b,g);var y=(l=n.get(b))!==null&&l!==void 0?l:r;if(c[g]=(c[g-1]||0)+y,b===h&&(u=g),b===o&&(a=g),u!==void 0&&a!==void 0)break}return{top:c[u-1]||0,bottom:c[a]}};return i}var $2=function(){function e(){Jt(this,e),ee(this,"maps",void 0),ee(this,"id",0),this.maps=Object.create(null)}return Zt(e,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),e}();function T2(e,t,n){var r=p.useState(0),s=ge(r,2),v=s[0],C=s[1],c=p.useRef(new Map),i=p.useRef(new $2),f=p.useRef();function h(){wt.cancel(f.current)}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;h();var d=function(){c.current.forEach(function(l,m){if(l&&l.offsetParent){var b=ro(l),y=b.offsetHeight;i.current.get(m)!==y&&i.current.set(m,b.offsetHeight)}}),C(function(l){return l+1})};a?d():f.current=wt(d)}function u(a,d){var g=e(a);c.current.get(g),d?(c.current.set(g,d),o()):c.current.delete(g)}return p.useEffect(function(){return h},[]),[u,o,i.current,v]}var Cc=14/15;function P2(e,t,n){var r=p.useRef(!1),s=p.useRef(0),v=p.useRef(0),C=p.useRef(null),c=p.useRef(null),i,f=function(a){if(r.current){var d=Math.ceil(a.touches[0].pageX),g=Math.ceil(a.touches[0].pageY),l=s.current-d,m=v.current-g,b=Math.abs(l)>Math.abs(m);b?s.current=d:v.current=g,n(b,b?l:m)&&a.preventDefault(),clearInterval(c.current),c.current=setInterval(function(){b?l*=Cc:m*=Cc;var y=Math.floor(b?l:m);(!n(b,y,!0)||Math.abs(y)<=.1)&&clearInterval(c.current)},16)}},h=function(){r.current=!1,i()},o=function(a){i(),a.touches.length===1&&!r.current&&(r.current=!0,s.current=Math.ceil(a.touches[0].pageX),v.current=Math.ceil(a.touches[0].pageY),C.current=a.target,C.current.addEventListener("touchmove",f),C.current.addEventListener("touchend",h))};i=function(){C.current&&(C.current.removeEventListener("touchmove",f),C.current.removeEventListener("touchend",h))},It(function(){return e&&t.current.addEventListener("touchstart",o),function(){var u;(u=t.current)===null||u===void 0||u.removeEventListener("touchstart",o),i(),clearInterval(c.current)}},[e])}var I2=10;function R2(e,t,n,r,s,v,C,c){var i=p.useRef(),f=p.useState(null),h=ge(f,2),o=h[0],u=h[1];return It(function(){if(o&&o.times<I2){if(!e.current){u(function(O){return ae({},O)});return}v();var a=o.targetAlign,d=o.originAlign,g=o.index,l=o.offset,m=e.current.clientHeight,b=!1,y=a,S=null;if(m){for(var w=a||d,x=0,E=0,_=0,$=Math.min(t.length-1,g),I=0;I<=$;I+=1){var A=s(t[I]);E=x;var F=n.get(A);_=E+(F===void 0?r:F),x=_}for(var z=w==="top"?l:m-l,D=$;D>=0;D-=1){var H=s(t[D]),B=n.get(H);if(B===void 0){b=!0;break}if(z-=B,z<=0)break}switch(w){case"top":S=E-l;break;case"bottom":S=_-m+l;break;default:{var j=e.current.scrollTop,N=j+m;E<j?y="top":_>N&&(y="bottom")}}S!==null&&C(S),S!==o.lastTop&&(b=!0)}b&&u(ae(ae({},o),{},{times:o.times+1,targetAlign:y,lastTop:S}))}},[o,e.current]),function(a){if(a==null){c();return}if(wt.cancel(i.current),typeof a=="number")C(a);else if(a&&et(a)==="object"){var d,g=a.align;"index"in a?d=a.index:d=t.findIndex(function(b){return s(b)===a.key});var l=a.offset,m=l===void 0?0:l;u({times:0,index:d,offset:m,originAlign:g})}}}function yc(e,t){var n="touches"in e?e.touches[0]:e;return n[t?"pageX":"pageY"]}var Sc=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,s=e.scrollOffset,v=e.scrollRange,C=e.onStartMove,c=e.onStopMove,i=e.onScroll,f=e.horizontal,h=e.spinSize,o=e.containerSize,u=e.style,a=e.thumbStyle,d=p.useState(!1),g=ge(d,2),l=g[0],m=g[1],b=p.useState(null),y=ge(b,2),S=y[0],w=y[1],x=p.useState(null),E=ge(x,2),_=E[0],$=E[1],I=!r,A=p.useRef(),F=p.useRef(),z=p.useState(!1),D=ge(z,2),H=D[0],B=D[1],j=p.useRef(),N=function(){clearTimeout(j.current),B(!0),j.current=setTimeout(function(){B(!1)},3e3)},O=v-o||0,P=o-h||0,T=p.useMemo(function(){if(s===0||O===0)return 0;var G=s/O;return G*P},[s,O,P]),M=function(K){K.stopPropagation(),K.preventDefault()},k=p.useRef({top:T,dragging:l,pageY:S,startTop:_});k.current={top:T,dragging:l,pageY:S,startTop:_};var L=function(K){m(!0),w(yc(K,f)),$(k.current.top),C(),K.stopPropagation(),K.preventDefault()};p.useEffect(function(){var G=function(X){X.preventDefault()},K=A.current,re=F.current;return K.addEventListener("touchstart",G),re.addEventListener("touchstart",L),function(){K.removeEventListener("touchstart",G),re.removeEventListener("touchstart",L)}},[]);var R=p.useRef();R.current=O;var V=p.useRef();V.current=P,p.useEffect(function(){if(l){var G,K=function(X){var Z=k.current,ne=Z.dragging,te=Z.pageY,ie=Z.startTop;if(wt.cancel(G),ne){var le=yc(X,f)-te,fe=ie;!I&&f?fe-=le:fe+=le;var ce=R.current,oe=V.current,ue=oe?fe/oe:0,he=Math.ceil(ue*ce);he=Math.max(he,0),he=Math.min(he,ce),G=wt(function(){i(he,f)})}},re=function(){m(!1),c()};return window.addEventListener("mousemove",K),window.addEventListener("touchmove",K),window.addEventListener("mouseup",re),window.addEventListener("touchend",re),function(){window.removeEventListener("mousemove",K),window.removeEventListener("touchmove",K),window.removeEventListener("mouseup",re),window.removeEventListener("touchend",re),wt.cancel(G)}}},[l]),p.useEffect(function(){N()},[s]),p.useImperativeHandle(t,function(){return{delayHidden:N}});var W="".concat(n,"-scrollbar"),Y={position:"absolute",visibility:H?null:"hidden"},Q={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return f?(Y.height=8,Y.left=0,Y.right=0,Y.bottom=0,Q.height="100%",Q.width=h,I?Q.left=T:Q.right=T):(Y.width=8,Y.top=0,Y.bottom=0,I?Y.right=0:Y.left=0,Q.width="100%",Q.height=h,Q.top=T),p.createElement("div",{ref:A,className:se(W,ee(ee(ee({},"".concat(W,"-horizontal"),f),"".concat(W,"-vertical"),!f),"".concat(W,"-visible"),H)),style:ae(ae({},Y),u),onMouseDown:M,onMouseMove:N},p.createElement("div",{ref:F,className:se("".concat(W,"-thumb"),ee({},"".concat(W,"-thumb-moving"),l)),style:ae(ae({},Q),a),onMouseDown:L}))}),M2=20;function wc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,M2),Math.floor(n)}var L2=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],A2=[],N2={overflowY:"auto",overflowAnchor:"none"};function D2(e,t){var n=e.prefixCls,r=n===void 0?"rc-virtual-list":n,s=e.className,v=e.height,C=e.itemHeight,c=e.fullHeight,i=c===void 0?!0:c,f=e.style,h=e.data,o=e.children,u=e.itemKey,a=e.virtual,d=e.direction,g=e.scrollWidth,l=e.component,m=l===void 0?"div":l,b=e.onScroll,y=e.onVirtualScroll,S=e.onVisibleChange,w=e.innerProps,x=e.extraRender,E=e.styles,_=it(e,L2),$=p.useCallback(function(_e){return typeof u=="function"?u(_e):_e==null?void 0:_e[u]},[u]),I=T2($),A=ge(I,4),F=A[0],z=A[1],D=A[2],H=A[3],B=!!(a!==!1&&v&&C),j=p.useMemo(function(){return Object.values(D.maps).reduce(function(_e,Oe){return _e+Oe},0)},[D.id,D.maps]),N=B&&h&&(Math.max(C*h.length,j)>v||!!g),O=d==="rtl",P=se(r,ee({},"".concat(r,"-rtl"),O),s),T=h||A2,M=p.useRef(),k=p.useRef(),L=p.useRef(),R=p.useState(0),V=ge(R,2),W=V[0],Y=V[1],Q=p.useState(0),G=ge(Q,2),K=G[0],re=G[1],q=p.useState(!1),X=ge(q,2),Z=X[0],ne=X[1],te=function(){ne(!0)},ie=function(){ne(!1)},le={getKey:$};function fe(_e){Y(function(Oe){var Be;typeof _e=="function"?Be=_e(Oe):Be=_e;var Ct=Ve(Be);return M.current.scrollTop=Ct,Ct})}var ce=p.useRef({start:0,end:T.length}),oe=p.useRef(),ue=E2(T,$),he=ge(ue,1),pe=he[0];oe.current=pe;var ve=p.useMemo(function(){if(!B)return{scrollHeight:void 0,start:0,end:T.length-1,offset:void 0};if(!N){var _e;return{scrollHeight:((_e=k.current)===null||_e===void 0?void 0:_e.offsetHeight)||0,start:0,end:T.length-1,offset:void 0}}for(var Oe=0,Be,Ct,jt,rn=T.length,Yt=0;Yt<rn;Yt+=1){var er=T[Yt],tr=$(er),vn=D.get(tr),$n=Oe+(vn===void 0?C:vn);$n>=W&&Be===void 0&&(Be=Yt,Ct=Oe),$n>W+v&&jt===void 0&&(jt=Yt),Oe=$n}return Be===void 0&&(Be=0,Ct=0,jt=Math.ceil(v/C)),jt===void 0&&(jt=T.length-1),jt=Math.min(jt+1,T.length-1),{scrollHeight:Oe,start:Be,end:jt,offset:Ct}},[N,B,W,T,H,v]),xe=ve.scrollHeight,Te=ve.start,be=ve.end,Ce=ve.offset;ce.current.start=Te,ce.current.end=be;var He=p.useState({width:0,height:v}),De=ge(He,2),we=De[0],Ae=De[1],Qe=function(Oe){Ae({width:Oe.width||Oe.offsetWidth,height:Oe.height||Oe.offsetHeight})},$e=p.useRef(),je=p.useRef(),Ue=p.useMemo(function(){return wc(we.width,g)},[we.width,g]),ft=p.useMemo(function(){return wc(we.height,xe)},[we.height,xe]),qe=xe-v,Ke=p.useRef(qe);Ke.current=qe;function Ve(_e){var Oe=_e;return Number.isNaN(Ke.current)||(Oe=Math.min(Oe,Ke.current)),Oe=Math.max(Oe,0),Oe}var Pe=W<=0,Ne=W>=qe,Ee=K<=0,Je=K>=g,Fe=af(Pe,Ne,Ee,Je),Re=function(){return{x:O?-K:K,y:W}},at=p.useRef(Re()),bt=Ht(function(_e){if(y){var Oe=ae(ae({},Re()),_e);(at.current.x!==Oe.x||at.current.y!==Oe.y)&&(y(Oe),at.current=Oe)}});function Ie(_e,Oe){var Be=_e;Oe?($r.flushSync(function(){re(Be)}),bt()):fe(Be)}function We(_e){var Oe=_e.currentTarget.scrollTop;Oe!==W&&fe(Oe),b==null||b(_e),bt()}var Me=function(Oe){var Be=Oe,Ct=g?g-we.width:0;return Be=Math.max(Be,0),Be=Math.min(Be,Ct),Be},Ge=Ht(function(_e,Oe){Oe?($r.flushSync(function(){re(function(Be){var Ct=Be+(O?-_e:_e);return Me(Ct)})}),bt()):fe(function(Be){var Ct=Be+_e;return Ct})}),ot=_2(B,Pe,Ne,Ee,Je,!!g,Ge),st=ge(ot,2),Mt=st[0],Pt=st[1];P2(B,M,function(_e,Oe,Be){return Fe(_e,Oe,Be)?!1:(Mt({preventDefault:function(){},deltaX:_e?Oe:0,deltaY:_e?0:Oe}),!0)}),It(function(){function _e(Be){B&&Be.preventDefault()}var Oe=M.current;return Oe.addEventListener("wheel",Mt),Oe.addEventListener("DOMMouseScroll",Pt),Oe.addEventListener("MozMousePixelScroll",_e),function(){Oe.removeEventListener("wheel",Mt),Oe.removeEventListener("DOMMouseScroll",Pt),Oe.removeEventListener("MozMousePixelScroll",_e)}},[B]),It(function(){if(g){var _e=Me(K);re(_e),bt({x:_e})}},[we.width,g]);var Dt=function(){var Oe,Be;(Oe=$e.current)===null||Oe===void 0||Oe.delayHidden(),(Be=je.current)===null||Be===void 0||Be.delayHidden()},Xe=R2(M,T,D,C,$,function(){return z(!0)},fe,Dt);p.useImperativeHandle(t,function(){return{nativeElement:L.current,getScrollInfo:Re,scrollTo:function(Oe){function Be(Ct){return Ct&&et(Ct)==="object"&&("left"in Ct||"top"in Ct)}Be(Oe)?(Oe.left!==void 0&&re(Me(Oe.left)),Xe(Oe.top)):Xe(Oe)}}}),It(function(){if(S){var _e=T.slice(Te,be+1);S(_e,T)}},[Te,be,T]);var ze=O2(T,$,D,C),lt=x==null?void 0:x({start:Te,end:be,virtual:N,offsetX:K,offsetY:Ce,rtl:O,getSize:ze}),pt=w2(T,Te,be,g,K,F,o,le),ut=null;v&&(ut=ae(ee({},i?"height":"maxHeight",v),N2),B&&(ut.overflowY="hidden",g&&(ut.overflowX="hidden"),Z&&(ut.pointerEvents="none")));var _t={};return O&&(_t.dir="rtl"),p.createElement("div",ye({ref:L,style:ae(ae({},f),{},{position:"relative"}),className:P},_t,_),p.createElement(hr,{onResize:Qe},p.createElement(m,{className:"".concat(r,"-holder"),style:ut,ref:M,onScroll:We,onMouseEnter:Dt},p.createElement(of,{prefixCls:r,height:xe,offsetX:K,offsetY:Ce,scrollWidth:g,onInnerResize:z,ref:k,innerProps:w,rtl:O,extra:lt},pt))),N&&xe>v&&p.createElement(Sc,{ref:$e,prefixCls:r,scrollOffset:W,scrollRange:xe,rtl:O,onScroll:Ie,onStartMove:te,onStopMove:ie,spinSize:ft,containerSize:we.height,style:E==null?void 0:E.verticalScrollBar,thumbStyle:E==null?void 0:E.verticalScrollBarThumb}),N&&g>we.width&&p.createElement(Sc,{ref:je,prefixCls:r,scrollOffset:K,scrollRange:g,rtl:O,onScroll:Ie,onStartMove:te,onStopMove:ie,spinSize:Ue,containerSize:we.width,horizontal:!0,style:E==null?void 0:E.horizontalScrollBar,thumbStyle:E==null?void 0:E.horizontalScrollBarThumb}))}var sf=p.forwardRef(D2);sf.displayName="List";function j2(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var F2=["disabled","title","children","style","className"];function xc(e){return typeof e=="string"||typeof e=="number"}var B2=function(t,n){var r=O1(),s=r.prefixCls,v=r.id,C=r.open,c=r.multiple,i=r.mode,f=r.searchValue,h=r.toggleOpen,o=r.notFoundContent,u=r.onPopupScroll,a=p.useContext(zs),d=a.maxCount,g=a.flattenOptions,l=a.onActiveValue,m=a.defaultActiveFirstOption,b=a.onSelect,y=a.menuItemSelectedIcon,S=a.rawValues,w=a.fieldNames,x=a.virtual,E=a.direction,_=a.listHeight,$=a.listItemHeight,I=a.optionRender,A="".concat(s,"-item"),F=o0(function(){return g},[C,g],function(G,K){return K[0]&&G[1]!==K[1]}),z=p.useRef(null),D=p.useMemo(function(){return c&&ms(d)&&(S==null?void 0:S.size)>=d},[c,d,S==null?void 0:S.size]),H=function(K){K.preventDefault()},B=function(K){var re;(re=z.current)===null||re===void 0||re.scrollTo(typeof K=="number"?{index:K}:K)},j=function(K){for(var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,q=F.length,X=0;X<q;X+=1){var Z=(K+X*re+q)%q,ne=F[Z]||{},te=ne.group,ie=ne.data;if(!te&&!(ie!=null&&ie.disabled)&&!D)return Z}return-1},N=p.useState(function(){return j(0)}),O=ge(N,2),P=O[0],T=O[1],M=function(K){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;T(K);var q={source:re?"keyboard":"mouse"},X=F[K];if(!X){l(null,-1,q);return}l(X.value,K,q)};p.useEffect(function(){M(m!==!1?j(0):-1)},[F.length,f]);var k=p.useCallback(function(G){return S.has(G)&&i!=="combobox"},[i,Se(S).toString(),S.size]);p.useEffect(function(){var G=setTimeout(function(){if(!c&&C&&S.size===1){var re=Array.from(S)[0],q=F.findIndex(function(X){var Z=X.data;return Z.value===re});q!==-1&&(M(q),B(q))}});if(C){var K;(K=z.current)===null||K===void 0||K.scrollTo(void 0)}return function(){return clearTimeout(G)}},[C,f]);var L=function(K){K!==void 0&&b(K,{selected:!S.has(K)}),c||h(!1)};if(p.useImperativeHandle(n,function(){return{onKeyDown:function(K){var re=K.which,q=K.ctrlKey;switch(re){case me.N:case me.P:case me.UP:case me.DOWN:{var X=0;if(re===me.UP?X=-1:re===me.DOWN?X=1:j2()&&q&&(re===me.N?X=1:re===me.P&&(X=-1)),X!==0){var Z=j(P+X,X);B(Z),M(Z,!0)}break}case me.ENTER:{var ne,te=F[P];te&&!(te!=null&&(ne=te.data)!==null&&ne!==void 0&&ne.disabled)&&!D?L(te.value):L(void 0),C&&K.preventDefault();break}case me.ESC:h(!1),C&&K.stopPropagation()}},onKeyUp:function(){},scrollTo:function(K){B(K)}}}),F.length===0)return p.createElement("div",{role:"listbox",id:"".concat(v,"_list"),className:"".concat(A,"-empty"),onMouseDown:H},o);var R=Object.keys(w).map(function(G){return w[G]}),V=function(K){return K.label};function W(G,K){var re=G.group;return{role:re?"presentation":"option",id:"".concat(v,"_list_").concat(K)}}var Y=function(K){var re=F[K];if(!re)return null;var q=re.data||{},X=q.value,Z=re.group,ne=On(q,!0),te=V(re);return re?p.createElement("div",ye({"aria-label":typeof te=="string"&&!Z?te:null},ne,{key:K},W(re,K),{"aria-selected":k(X)}),X):null},Q={role:"listbox",id:"".concat(v,"_list")};return p.createElement(p.Fragment,null,x&&p.createElement("div",ye({},Q,{style:{height:0,width:0,overflow:"hidden"}}),Y(P-1),Y(P),Y(P+1)),p.createElement(sf,{itemKey:"key",ref:z,data:F,height:_,itemHeight:$,fullHeight:!1,onMouseDown:H,onScroll:u,virtual:x,direction:E,innerProps:x?null:Q},function(G,K){var re=G.group,q=G.groupOption,X=G.data,Z=G.label,ne=G.value,te=X.key;if(re){var ie,le=(ie=X.title)!==null&&ie!==void 0?ie:xc(Z)?Z.toString():void 0;return p.createElement("div",{className:se(A,"".concat(A,"-group"),X.className),title:le},Z!==void 0?Z:te)}var fe=X.disabled,ce=X.title;X.children;var oe=X.style,ue=X.className,he=it(X,F2),pe=_n(he,R),ve=k(ne),xe=fe||!ve&&D,Te="".concat(A,"-option"),be=se(A,Te,ue,ee(ee(ee(ee({},"".concat(Te,"-grouped"),q),"".concat(Te,"-active"),P===K&&!xe),"".concat(Te,"-disabled"),xe),"".concat(Te,"-selected"),ve)),Ce=V(G),He=!y||typeof y=="function"||ve,De=typeof Ce=="number"?Ce:Ce||ne,we=xc(De)?De.toString():void 0;return ce!==void 0&&(we=ce),p.createElement("div",ye({},On(pe),x?{}:W(G,K),{"aria-selected":ve,className:be,title:we,onMouseMove:function(){P===K||xe||M(K)},onClick:function(){xe||L(ne)},style:oe}),p.createElement("div",{className:"".concat(Te,"-content")},typeof I=="function"?I(G,{index:K}):De),p.isValidElement(y)||ve,He&&p.createElement(Fo,{className:"".concat(A,"-option-state"),customizeIcon:y,customizeIconProps:{value:ne,disabled:xe,isSelected:ve}},ve?"✓":null))}))},k2=p.forwardRef(B2);const z2=function(e,t){var n=p.useRef({values:new Map,options:new Map}),r=p.useMemo(function(){var v=n.current,C=v.values,c=v.options,i=e.map(function(o){if(o.label===void 0){var u;return ae(ae({},o),{},{label:(u=C.get(o.value))===null||u===void 0?void 0:u.label})}return o}),f=new Map,h=new Map;return i.forEach(function(o){f.set(o.value,o),h.set(o.value,t.get(o.value)||c.get(o.value))}),n.current.values=f,n.current.options=h,i},[e,t]),s=p.useCallback(function(v){return t.get(v)||n.current.options.get(v)},[t]);return[r,s]};function pa(e,t){return ef(e).join("").toUpperCase().includes(t)}const H2=function(e,t,n,r,s){return p.useMemo(function(){if(!n||r===!1)return e;var v=t.options,C=t.label,c=t.value,i=[],f=typeof r=="function",h=n.toUpperCase(),o=f?r:function(a,d){return s?pa(d[s],h):d[v]?pa(d[C!=="children"?C:"label"],h):pa(d[c],h)},u=f?function(a){return vs(a)}:function(a){return a};return e.forEach(function(a){if(a[v]){var d=o(n,u(a));if(d)i.push(a);else{var g=a[v].filter(function(l){return o(n,u(l))});g.length&&i.push(ae(ae({},a),{},ee({},v,g)))}return}o(n,u(a))&&i.push(a)}),i},[e,r,s,n,t])};var Ec=0,V2=Tr();function W2(){var e;return V2?(e=Ec,Ec+=1):e="TEST_OR_SSR",e}function X2(e){var t=p.useState(),n=ge(t,2),r=n[0],s=n[1];return p.useEffect(function(){s("rc_select_".concat(W2()))},[]),e||r}var U2=["children","value"],G2=["children"];function Y2(e){var t=e,n=t.key,r=t.props,s=r.children,v=r.value,C=it(r,U2);return ae({key:n,value:v!==void 0?v:n,children:s},C)}function lf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pr(e).map(function(n,r){if(!p.isValidElement(n)||!n.type)return null;var s=n,v=s.type.isSelectOptGroup,C=s.key,c=s.props,i=c.children,f=it(c,G2);return t||!v?Y2(n):ae(ae({key:"__RC_SELECT_GRP__".concat(C===null?r:C,"__"),label:C},f),{},{options:lf(i)})}).filter(function(n){return n})}var q2=function(t,n,r,s,v){return p.useMemo(function(){var C=t,c=!t;c&&(C=lf(n));var i=new Map,f=new Map,h=function(a,d,g){g&&typeof g=="string"&&a.set(d[g],d)},o=function u(a){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=0;g<a.length;g+=1){var l=a[g];!l[r.options]||d?(i.set(l[r.value],l),h(f,l,r.label),h(f,l,s),h(f,l,v)):u(l[r.options],!0)}};return o(C),{options:C,valueOptions:i,labelOptions:f}},[t,n,r,s,v])};function _c(e){var t=p.useRef();t.current=e;var n=p.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var K2=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Q2=["inputValue"];function J2(e){return!e||et(e)!=="object"}var Z2=p.forwardRef(function(e,t){var n=e.id,r=e.mode,s=e.prefixCls,v=s===void 0?"rc-select":s,C=e.backfill,c=e.fieldNames,i=e.inputValue,f=e.searchValue,h=e.onSearch,o=e.autoClearSearchValue,u=o===void 0?!0:o,a=e.onSelect,d=e.onDeselect,g=e.dropdownMatchSelectWidth,l=g===void 0?!0:g,m=e.filterOption,b=e.filterSort,y=e.optionFilterProp,S=e.optionLabelProp,w=e.options,x=e.optionRender,E=e.children,_=e.defaultActiveFirstOption,$=e.menuItemSelectedIcon,I=e.virtual,A=e.direction,F=e.listHeight,z=F===void 0?200:F,D=e.listItemHeight,H=D===void 0?20:D,B=e.labelRender,j=e.value,N=e.defaultValue,O=e.labelInValue,P=e.onChange,T=e.maxCount,M=it(e,K2),k=X2(n),L=ps(r),R=!!(!w&&E),V=p.useMemo(function(){return m===void 0&&r==="combobox"?!1:m},[m,r]),W=p.useMemo(function(){return rf(c,R)},[JSON.stringify(c),R]),Y=Rt("",{value:f!==void 0?f:i,postState:function(We){return We||""}}),Q=ge(Y,2),G=Q[0],K=Q[1],re=q2(w,E,W,y,S),q=re.valueOptions,X=re.labelOptions,Z=re.options,ne=p.useCallback(function(Ie){var We=ef(Ie);return We.map(function(Me){var Ge,ot,st,Mt,Pt;if(J2(Me))Ge=Me;else{var Dt;st=Me.key,ot=Me.label,Ge=(Dt=Me.value)!==null&&Dt!==void 0?Dt:st}var Xe=q.get(Ge);if(Xe){var ze;ot===void 0&&(ot=Xe==null?void 0:Xe[S||W.label]),st===void 0&&(st=(ze=Xe==null?void 0:Xe.key)!==null&&ze!==void 0?ze:Ge),Mt=Xe==null?void 0:Xe.disabled,Pt=Xe==null?void 0:Xe.title}return{label:ot,value:Ge,key:st,disabled:Mt,title:Pt}})},[W,S,q]),te=Rt(N,{value:j}),ie=ge(te,2),le=ie[0],fe=ie[1],ce=p.useMemo(function(){var Ie,We=L&&le===null?[]:le,Me=ne(We);return r==="combobox"&&X1((Ie=Me[0])===null||Ie===void 0?void 0:Ie.value)?[]:Me},[le,ne,r,L]),oe=z2(ce,q),ue=ge(oe,2),he=ue[0],pe=ue[1],ve=p.useMemo(function(){if(!r&&he.length===1){var Ie=he[0];if(Ie.value===null&&(Ie.label===null||Ie.label===void 0))return[]}return he.map(function(We){var Me;return ae(ae({},We),{},{label:(Me=typeof B=="function"?B(We):We.label)!==null&&Me!==void 0?Me:We.value})})},[r,he,B]),xe=p.useMemo(function(){return new Set(he.map(function(Ie){return Ie.value}))},[he]);p.useEffect(function(){if(r==="combobox"){var Ie,We=(Ie=he[0])===null||Ie===void 0?void 0:Ie.value;K(W1(We)?String(We):"")}},[he]);var Te=_c(function(Ie,We){var Me=We??Ie;return ee(ee({},W.value,Ie),W.label,Me)}),be=p.useMemo(function(){if(r!=="tags")return Z;var Ie=Se(Z),We=function(Ge){return q.has(Ge)};return Se(he).sort(function(Me,Ge){return Me.value<Ge.value?-1:1}).forEach(function(Me){var Ge=Me.value;We(Ge)||Ie.push(Te(Ge,Me.label))}),Ie},[Te,Z,q,he,r]),Ce=H2(be,W,G,V,y),He=p.useMemo(function(){return r!=="tags"||!G||Ce.some(function(Ie){return Ie[y||"value"]===G})||Ce.some(function(Ie){return Ie[W.value]===G})?Ce:[Te(G)].concat(Se(Ce))},[Te,y,r,Ce,G,W]),De=p.useMemo(function(){return b?Se(He).sort(function(Ie,We){return b(Ie,We)}):He},[He,b]),we=p.useMemo(function(){return m2(De,{fieldNames:W,childrenAsData:R})},[De,W,R]),Ae=function(We){var Me=ne(We);if(fe(Me),P&&(Me.length!==he.length||Me.some(function(st,Mt){var Pt;return((Pt=he[Mt])===null||Pt===void 0?void 0:Pt.value)!==(st==null?void 0:st.value)}))){var Ge=O?Me:Me.map(function(st){return st.value}),ot=Me.map(function(st){return vs(pe(st.value))});P(L?Ge:Ge[0],L?ot:ot[0])}},Qe=p.useState(null),$e=ge(Qe,2),je=$e[0],Ue=$e[1],ft=p.useState(0),qe=ge(ft,2),Ke=qe[0],Ve=qe[1],Pe=_!==void 0?_:r!=="combobox",Ne=p.useCallback(function(Ie,We){var Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ge=Me.source,ot=Ge===void 0?"keyboard":Ge;Ve(We),C&&r==="combobox"&&Ie!==null&&ot==="keyboard"&&Ue(String(Ie))},[C,r]),Ee=function(We,Me,Ge){var ot=function(){var _t,_e=pe(We);return[O?{label:_e==null?void 0:_e[W.label],value:We,key:(_t=_e==null?void 0:_e.key)!==null&&_t!==void 0?_t:We}:We,vs(_e)]};if(Me&&a){var st=ot(),Mt=ge(st,2),Pt=Mt[0],Dt=Mt[1];a(Pt,Dt)}else if(!Me&&d&&Ge!=="clear"){var Xe=ot(),ze=ge(Xe,2),lt=ze[0],pt=ze[1];d(lt,pt)}},Je=_c(function(Ie,We){var Me,Ge=L?We.selected:!0;Ge?Me=L?[].concat(Se(he),[Ie]):[Ie]:Me=he.filter(function(ot){return ot.value!==Ie}),Ae(Me),Ee(Ie,Ge),r==="combobox"?Ue(""):(!ps||u)&&(K(""),Ue(""))}),Fe=function(We,Me){Ae(We);var Ge=Me.type,ot=Me.values;(Ge==="remove"||Ge==="clear")&&ot.forEach(function(st){Ee(st.value,!1,Ge)})},Re=function(We,Me){if(K(We),Ue(null),Me.source==="submit"){var Ge=(We||"").trim();if(Ge){var ot=Array.from(new Set([].concat(Se(xe),[Ge])));Ae(ot),Ee(Ge,!0),K("")}return}Me.source!=="blur"&&(r==="combobox"&&Ae(We),h==null||h(We))},at=function(We){var Me=We;r!=="tags"&&(Me=We.map(function(ot){var st=X.get(ot);return st==null?void 0:st.value}).filter(function(ot){return ot!==void 0}));var Ge=Array.from(new Set([].concat(Se(xe),Se(Me))));Ae(Ge),Ge.forEach(function(ot){Ee(ot,!0)})},bt=p.useMemo(function(){var Ie=I!==!1&&l!==!1;return ae(ae({},re),{},{flattenOptions:we,onActiveValue:Ne,defaultActiveFirstOption:Pe,onSelect:Je,menuItemSelectedIcon:$,rawValues:xe,fieldNames:W,virtual:Ie,direction:A,listHeight:z,listItemHeight:H,childrenAsData:R,maxCount:T,optionRender:x})},[T,re,we,Ne,Pe,Je,$,xe,W,I,l,A,z,H,R,x]);return p.createElement(zs.Provider,{value:bt},p.createElement(y2,ye({},M,{id:k,prefixCls:v,ref:t,omitDomProps:Q2,mode:r,displayValues:ve,onDisplayValuesChange:Fe,direction:A,searchValue:G,onSearch:Re,autoClearSearchValue:u,onSearchSplit:at,dropdownMatchSelectWidth:l,OptionList:k2,emptyOptions:!we.length,activeValue:je,activeDescendantId:"".concat(k,"_list_").concat(Ke)})))}),Ws=Z2;Ws.Option=Vs;Ws.OptGroup=Hs;function Ir(e,t,n){return se({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const Hi=(e,t)=>t||e,eb=()=>{const[,e]=hn(),n=new en(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return p.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",{transform:"translate(24 31.67)"},p.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),p.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),p.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),p.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),p.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),p.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),p.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},p.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),p.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},tb=()=>{const[,e]=hn(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:s}=e,{borderColor:v,shadowColor:C,contentColor:c}=p.useMemo(()=>({borderColor:new en(t).onBackground(s).toHexShortString(),shadowColor:new en(n).onBackground(s).toHexShortString(),contentColor:new en(r).onBackground(s).toHexShortString()}),[t,n,r,s]);return p.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},p.createElement("ellipse",{fill:C,cx:"32",cy:"33",rx:"32",ry:"7"}),p.createElement("g",{fillRule:"nonzero",stroke:v},p.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),p.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},nb=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:s,fontSize:v,lineHeight:C}=e;return{[t]:{marginInline:r,fontSize:v,lineHeight:C,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorText},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:s,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},rb=Nt("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,s=gt(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[nb(s)]});var ib=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const cf=p.createElement(eb,null),uf=p.createElement(tb,null),Cr=e=>{var{className:t,rootClassName:n,prefixCls:r,image:s=cf,description:v,children:C,imageStyle:c,style:i}=e,f=ib(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:h,direction:o,empty:u}=p.useContext(Ye),a=h("empty",r),[d,g,l]=rb(a),[m]=oi("Empty"),b=typeof v<"u"?v:m==null?void 0:m.description,y=typeof b=="string"?b:"empty";let S=null;return typeof s=="string"?S=p.createElement("img",{alt:y,src:s}):S=s,d(p.createElement("div",Object.assign({className:se(g,l,a,u==null?void 0:u.className,{[`${a}-normal`]:s===uf,[`${a}-rtl`]:o==="rtl"},t,n),style:Object.assign(Object.assign({},u==null?void 0:u.style),i)},f),p.createElement("div",{className:`${a}-image`,style:c},S),b&&p.createElement("div",{className:`${a}-description`},b),C&&p.createElement("div",{className:`${a}-footer`},C)))};Cr.PRESENTED_IMAGE_DEFAULT=cf;Cr.PRESENTED_IMAGE_SIMPLE=uf;const ob=e=>{const{componentName:t}=e,{getPrefixCls:n}=p.useContext(Ye),r=n("empty");switch(t){case"Table":case"List":return J.createElement(Cr,{image:Cr.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return J.createElement(Cr,{image:Cr.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return J.createElement(Cr,null)}},ab=["outlined","borderless","filled"],Bo=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const n=p.useContext(lp);let r;typeof e<"u"?r=e:t===!1?r="borderless":r=n??"outlined";const s=ab.includes(r);return[r,s]},sb=e=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:e==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function lb(e,t){return e||sb(t)}const Oc=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:s}=e;return{position:"relative",display:"block",minHeight:t,padding:s,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},cb=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,s=`&${t}-slide-up-enter${t}-slide-up-enter-active`,v=`&${t}-slide-up-appear${t}-slide-up-appear-active`,C=`&${t}-slide-up-leave${t}-slide-up-leave-active`,c=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Tt(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
          ${s}${c}bottomLeft,
          ${v}${c}bottomLeft
        `]:{animationName:Td},[`
          ${s}${c}topLeft,
          ${v}${c}topLeft,
          ${s}${c}topRight,
          ${v}${c}topRight
        `]:{animationName:Id},[`${C}${c}bottomLeft`]:{animationName:Pd},[`
          ${C}${c}topLeft,
          ${C}${c}topRight
        `]:{animationName:Rd},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},Oc(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Zr),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Oc(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},rc(e,"slide-up"),rc(e,"slide-down"),nc(e,"move-up"),nc(e,"move-down")]},ub=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:s}=e,v=e.max(e.calc(n).sub(r).equal(),0),C=e.max(e.calc(v).sub(s).equal(),0);return{basePadding:v,containerPadding:C,itemHeight:de(t),itemLineHeight:de(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},db=e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()},fb=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:s,paddingXS:v,multipleItemColorDisabled:C,multipleItemBorderColorDisabled:c,colorIcon:i,colorIconHover:f,INTERNAL_FIXED_ITEM_MARGIN:h}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:h,borderRadius:r,cursor:"default",transition:`font-size ${s}, line-height ${s}, height ${s}`,marginInlineEnd:e.calc(h).mul(2).equal(),paddingInlineStart:v,paddingInlineEnd:e.calc(v).div(2).equal(),[`${t}-disabled&`]:{color:C,borderColor:c,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(v).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},$o()),{display:"inline-flex",alignItems:"center",color:i,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:f}})}}}},hb=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,s=`${n}-selection-overflow`,v=e.multipleSelectItemHeight,C=db(e),c=t?`${n}-${t}`:"",i=ub(e);return{[`${n}-multiple${c}`]:Object.assign(Object.assign({},fb(e)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:i.basePadding,paddingBlock:i.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${de(r)} 0`,lineHeight:de(v),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:i.itemHeight,lineHeight:de(i.itemLineHeight)},[`${s}-item + ${s}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${s}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(C).equal(),"\n          &-input,\n          &-mirror\n        ":{height:v,fontFamily:e.fontFamily,lineHeight:de(v),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function ba(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",s={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[hb(e,t),s]}const gb=e=>{const{componentCls:t}=e,n=gt(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=gt(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[ba(e),ba(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},ba(r,"lg")]};function Ca(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:s}=e,v=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),C=t?`${n}-${t}`:"";return{[`${n}-single${C}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Tt(e,!0)),{display:"flex",borderRadius:s,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:de(v),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${de(r)}`,[`${n}-selection-search-input`]:{height:v},"&:after":{lineHeight:de(v)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${de(r)}`,"&:after":{display:"none"}}}}}}}function mb(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[Ca(e),Ca(gt(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${de(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},Ca(gt(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const vb=e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:s,controlHeightSM:v,controlHeightLG:C,paddingXXS:c,controlPaddingHorizontal:i,zIndexPopupBase:f,colorText:h,fontWeightStrong:o,controlItemBgActive:u,controlItemBgHover:a,colorBgContainer:d,colorFillSecondary:g,colorBgContainerDisabled:l,colorTextDisabled:m}=e,b=c*2,y=r*2,S=Math.min(s-b,s-y),w=Math.min(v-b,v-y),x=Math.min(C-b,C-y);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(c/2),zIndexPopup:f+50,optionSelectedColor:h,optionSelectedFontWeight:o,optionSelectedBg:u,optionActiveBg:a,optionPadding:`${(s-t*n)/2}px ${i}px`,optionFontSize:t,optionLineHeight:n,optionHeight:s,selectorBg:d,clearBg:d,singleItemHeightLG:C,multipleItemBg:g,multipleItemBorderColor:"transparent",multipleItemHeight:S,multipleItemHeightSM:w,multipleItemHeightLG:x,multipleSelectorBgDisabled:l,multipleItemColorDisabled:m,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(e.fontSize*1.25)}},df=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:s}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${de(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${de(s)} ${t.activeShadowColor}`,outline:0}}}},$c=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},df(e,t))}),pb=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},df(e,{borderColor:e.colorBorder,hoverBorderHover:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadowColor:e.controlOutline})),$c(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeShadowColor:e.colorErrorOutline})),$c(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeShadowColor:e.colorWarningOutline})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${de(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),ff=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${de(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},Tc=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},ff(e,t))}),bb=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},ff(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary,color:e.colorText})),Tc(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),Tc(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${de(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),Cb=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${de(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}),yb=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},pb(e)),bb(e)),Cb(e))}),Sb=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},wb=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},xb=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:s}=e;return{[n]:Object.assign(Object.assign({},Tt(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Sb(e)),wb(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Zr),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Zr),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},$o()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[s]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-arrow:not(:last-child)`]:{opacity:0}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}},Eb=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},xb(e),mb(e),gb(e),cb(e),{[`${t}-rtl`]:{direction:"rtl"}},Mo(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},_b=Nt("Select",(e,t)=>{let{rootPrefixCls:n}=t;const r=gt(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[Eb(r),yb(r)]},vb,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var Ob={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},$b=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Ob}))},hf=p.forwardRef($b),Tb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Pb=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Tb}))},gf=p.forwardRef(Pb),Ib={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Rb=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Ib}))},mf=p.forwardRef(Rb);function Mb(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:s,loading:v,multiple:C,hasFeedback:c,prefixCls:i,showSuffixIcon:f,feedbackIcon:h,showArrow:o,componentName:u}=e;const a=n??p.createElement(Mi,null),d=b=>t===null&&!c&&!o?null:p.createElement(p.Fragment,null,f!==!1&&b,c&&h);let g=null;if(t!==void 0)g=d(t);else if(v)g=d(p.createElement(ti,{spin:!0}));else{const b=`${i}-suffix`;g=y=>{let{open:S,showSearch:w}=y;return d(S&&w?p.createElement(mf,{className:b}):p.createElement(gf,{className:b}))}}let l=null;r!==void 0?l=r:C?l=p.createElement(hf,null):l=null;let m=null;return s!==void 0?m=s:m=p.createElement(Rr,null),{clearIcon:a,suffixIcon:g,itemIcon:l,removeIcon:m}}function Lb(e,t){return t!==void 0?t:e!==null}var Ab=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const vf="SECRET_COMBOBOX_MODE_DO_NOT_USE",Nb=(e,t)=>{var n;const{prefixCls:r,bordered:s,className:v,rootClassName:C,getPopupContainer:c,popupClassName:i,dropdownClassName:f,listHeight:h=256,placement:o,listItemHeight:u,size:a,disabled:d,notFoundContent:g,status:l,builtinPlacements:m,dropdownMatchSelectWidth:b,popupMatchSelectWidth:y,direction:S,style:w,allowClear:x,variant:E,dropdownStyle:_,transitionName:$,tagRender:I,maxCount:A}=e,F=Ab(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:z,getPrefixCls:D,renderEmpty:H,direction:B,virtual:j,popupMatchSelectWidth:N,popupOverflow:O,select:P}=p.useContext(Ye),[,T]=hn(),M=u??(T==null?void 0:T.controlHeight),k=D("select",r),L=D(),R=S??B,{compactSize:V,compactItemClassnames:W}=Ni(k,R),[Y,Q]=Bo(E,s),G=tn(k),[K,re,q]=_b(k,G),X=p.useMemo(()=>{const{mode:je}=e;if(je!=="combobox")return je===vf?"combobox":je},[e.mode]),Z=X==="multiple"||X==="tags",ne=Lb(e.suffixIcon,e.showArrow),te=(n=y??b)!==null&&n!==void 0?n:N,{status:ie,hasFeedback:le,isFormItemInput:fe,feedbackIcon:ce}=p.useContext(gn),oe=Hi(ie,l);let ue;g!==void 0?ue=g:X==="combobox"?ue=null:ue=(H==null?void 0:H("Select"))||p.createElement(ob,{componentName:"Select"});const{suffixIcon:he,itemIcon:pe,removeIcon:ve,clearIcon:xe}=Mb(Object.assign(Object.assign({},F),{multiple:Z,hasFeedback:le,feedbackIcon:ce,showSuffixIcon:ne,prefixCls:k,componentName:"Select"})),Te=x===!0?{clearIcon:xe}:x,be=_n(F,["suffixIcon","itemIcon"]),Ce=se(i||f,{[`${k}-dropdown-${R}`]:R==="rtl"},C,q,G,re),He=kn(je=>{var Ue;return(Ue=a??V)!==null&&Ue!==void 0?Ue:je}),De=p.useContext(Bn),we=d??De,Ae=se({[`${k}-lg`]:He==="large",[`${k}-sm`]:He==="small",[`${k}-rtl`]:R==="rtl",[`${k}-${Y}`]:Q,[`${k}-in-form-item`]:fe},Ir(k,oe,le),W,P==null?void 0:P.className,v,C,q,G,re),Qe=p.useMemo(()=>o!==void 0?o:R==="rtl"?"bottomRight":"bottomLeft",[o,R]),[$e]=Li("SelectLike",_==null?void 0:_.zIndex);return K(p.createElement(Ws,Object.assign({ref:t,virtual:j,showSearch:P==null?void 0:P.showSearch},be,{style:Object.assign(Object.assign({},P==null?void 0:P.style),w),dropdownMatchSelectWidth:te,transitionName:Nn(L,"slide-up",$),builtinPlacements:lb(m,O),listHeight:h,listItemHeight:M,mode:X,prefixCls:k,placement:Qe,direction:R,suffixIcon:he,menuItemSelectedIcon:pe,removeIcon:ve,allowClear:Te,notFoundContent:ue,className:Ae,getPopupContainer:c||z,dropdownClassName:Ce,disabled:we,dropdownStyle:Object.assign(Object.assign({},_),{zIndex:$e}),maxCount:Z?A:void 0,tagRender:Z?I:void 0})))},Zn=p.forwardRef(Nb),Db=Gd(Zn);Zn.SECRET_COMBOBOX_MODE_DO_NOT_USE=vf;Zn.Option=Vs;Zn.OptGroup=Hs;Zn._InternalPanelDoNotUseOrYouWillBeFired=Db;function jb(){const[,e]=p.useReducer(t=>t+1,0);return e}const po=e=>e?typeof e=="function"?e():e:null;function Xs(e){var t=e.children,n=e.prefixCls,r=e.id,s=e.overlayInnerStyle,v=e.className,C=e.style;return p.createElement("div",{className:se("".concat(n,"-content"),v),style:C},p.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:s},typeof t=="function"?t():t))}var Vr={shiftX:64,adjustY:1},Wr={adjustX:1,shiftY:!0},wn=[0,0],Fb={left:{points:["cr","cl"],overflow:Wr,offset:[-4,0],targetOffset:wn},right:{points:["cl","cr"],overflow:Wr,offset:[4,0],targetOffset:wn},top:{points:["bc","tc"],overflow:Vr,offset:[0,-4],targetOffset:wn},bottom:{points:["tc","bc"],overflow:Vr,offset:[0,4],targetOffset:wn},topLeft:{points:["bl","tl"],overflow:Vr,offset:[0,-4],targetOffset:wn},leftTop:{points:["tr","tl"],overflow:Wr,offset:[-4,0],targetOffset:wn},topRight:{points:["br","tr"],overflow:Vr,offset:[0,-4],targetOffset:wn},rightTop:{points:["tl","tr"],overflow:Wr,offset:[4,0],targetOffset:wn},bottomRight:{points:["tr","br"],overflow:Vr,offset:[0,4],targetOffset:wn},rightBottom:{points:["bl","br"],overflow:Wr,offset:[4,0],targetOffset:wn},bottomLeft:{points:["tl","bl"],overflow:Vr,offset:[0,4],targetOffset:wn},leftBottom:{points:["br","bl"],overflow:Wr,offset:[-4,0],targetOffset:wn}},Bb=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],kb=function(t,n){var r=t.overlayClassName,s=t.trigger,v=s===void 0?["hover"]:s,C=t.mouseEnterDelay,c=C===void 0?0:C,i=t.mouseLeaveDelay,f=i===void 0?.1:i,h=t.overlayStyle,o=t.prefixCls,u=o===void 0?"rc-tooltip":o,a=t.children,d=t.onVisibleChange,g=t.afterVisibleChange,l=t.transitionName,m=t.animation,b=t.motion,y=t.placement,S=y===void 0?"right":y,w=t.align,x=w===void 0?{}:w,E=t.destroyTooltipOnHide,_=E===void 0?!1:E,$=t.defaultVisible,I=t.getTooltipContainer,A=t.overlayInnerStyle;t.arrowContent;var F=t.overlay,z=t.id,D=t.showArrow,H=D===void 0?!0:D,B=it(t,Bb),j=p.useRef(null);p.useImperativeHandle(n,function(){return j.current});var N=ae({},B);"visible"in t&&(N.popupVisible=t.visible);var O=function(){return p.createElement(Xs,{key:"content",prefixCls:u,id:z,overlayInnerStyle:A},F)};return p.createElement(nf,ye({popupClassName:r,prefixCls:u,popup:O,action:v,builtinPlacements:Fb,popupPlacement:S,ref:j,popupAlign:x,getPopupContainer:I,onPopupVisibleChange:d,afterPopupVisibleChange:g,popupTransitionName:l,popupAnimation:m,popupMotion:b,defaultPopupVisible:$,autoDestroy:_,mouseLeaveDelay:f,popupStyle:h,mouseEnterDelay:c,arrow:H},N),a)};const zb=p.forwardRef(kb);function pf(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,s=t/2,v=0,C=s,c=r*1/Math.sqrt(2),i=s-r*(1-1/Math.sqrt(2)),f=s-n*(1/Math.sqrt(2)),h=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),o=2*s-f,u=h,a=2*s-c,d=i,g=2*s-v,l=C,m=s*Math.sqrt(2)+r*(Math.sqrt(2)-2),b=r*(Math.sqrt(2)-1),y=`polygon(${b}px 100%, 50% ${b}px, ${2*s-b}px 100%, ${b}px 100%)`,S=`path('M ${v} ${C} A ${r} ${r} 0 0 0 ${c} ${i} L ${f} ${h} A ${n} ${n} 0 0 1 ${o} ${u} L ${a} ${d} A ${r} ${r} 0 0 0 ${g} ${l} Z')`;return{arrowShadowWidth:m,arrowPath:S,arrowPolygon:y}}const Hb=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:s,arrowPath:v,arrowShadowWidth:C,borderRadiusXS:c,calc:i}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:i(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[s,v]},content:'""'},"&::after":{content:'""',position:"absolute",width:C,height:C,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${de(c)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},bf=8;function Us(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?bf:r}}function qi(e,t){return e?t:{}}function Cf(e,t,n){const{componentCls:r,boxShadowPopoverArrow:s,arrowOffsetVertical:v,arrowOffsetHorizontal:C}=e,{arrowDistance:c=0,arrowPlacement:i={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Hb(e,t,s)),{"&:before":{background:t}})]},qi(!!i.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:c,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:C}},[`&-placement-topRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:C}}})),qi(!!i.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:c,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:C}},[`&-placement-bottomRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:C}}})),qi(!!i.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:c},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:v},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:v}})),qi(!!i.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:c},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:v},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:v}}))}}function Vb(e,t,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const s=r&&typeof r=="object"?r:{},v={};switch(e){case"top":case"bottom":v.shiftX=t.arrowOffsetHorizontal*2+n,v.shiftY=!0,v.adjustY=!0;break;case"left":case"right":v.shiftY=t.arrowOffsetVertical*2+n,v.shiftX=!0,v.adjustX=!0;break}const C=Object.assign(Object.assign({},v),s);return C.shiftX||(C.adjustX=!0),C.shiftY||(C.adjustY=!0),C}const Pc={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Wb={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Xb=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Ub(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:s,borderRadius:v,visibleFirst:C}=e,c=t/2,i={};return Object.keys(Pc).forEach(f=>{const h=r&&Wb[f]||Pc[f],o=Object.assign(Object.assign({},h),{offset:[0,0],dynamicInset:!0});switch(i[f]=o,Xb.has(f)&&(o.autoArrow=!1),f){case"top":case"topLeft":case"topRight":o.offset[1]=-c-s;break;case"bottom":case"bottomLeft":case"bottomRight":o.offset[1]=c+s;break;case"left":case"leftTop":case"leftBottom":o.offset[0]=-c-s;break;case"right":case"rightTop":case"rightBottom":o.offset[0]=c+s;break}const u=Us({contentRadius:v,limitVerticalRadius:!0});if(r)switch(f){case"topLeft":case"bottomLeft":o.offset[0]=-u.arrowOffsetHorizontal-c;break;case"topRight":case"bottomRight":o.offset[0]=u.arrowOffsetHorizontal+c;break;case"leftTop":case"rightTop":o.offset[1]=-u.arrowOffsetHorizontal-c;break;case"leftBottom":case"rightBottom":o.offset[1]=u.arrowOffsetHorizontal+c;break}o.overflow=Vb(f,u,t,n),C&&(o.htmlRegion="visibleFirst")}),i}const Gb=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:s,tooltipBorderRadius:v,zIndexPopup:C,controlHeight:c,boxShadowSecondary:i,paddingSM:f,paddingXS:h}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Tt(e)),{position:"absolute",zIndex:C,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":s,[`${t}-inner`]:{minWidth:"1em",minHeight:c,padding:`${de(e.calc(f).div(2).equal())} ${de(h)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:s,borderRadius:v,boxShadow:i,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(v,bf)}},[`${t}-content`]:{position:"relative"}}),ig(e,(o,u)=>{let{darkColor:a}=u;return{[`&${t}-${o}`]:{[`${t}-inner`]:{backgroundColor:a},[`${t}-arrow`]:{"--antd-arrow-background-color":a}}}})),{"&-rtl":{direction:"rtl"}})},Cf(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},Yb=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Us({contentRadius:e.borderRadius,limitVerticalRadius:!0})),pf(gt(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),yf=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Nt("Tooltip",r=>{const{borderRadius:s,colorTextLightSolid:v,colorBgSpotlight:C}=r,c=gt(r,{tooltipMaxWidth:250,tooltipColor:v,tooltipBorderRadius:s,tooltipBg:C});return[Gb(c),jo(r,"zoom-big-fast")]},Yb,{resetStyle:!1,injectStyle:t})(e)},qb=xi.map(e=>`${e}-inverse`);function Kb(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Se(qb),Se(xi)).includes(e):xi.includes(e)}function Sf(e,t){const n=Kb(t),r=se({[`${e}-${t}`]:t&&n}),s={},v={};return t&&!n&&(s.background=t,v["--antd-arrow-background-color"]=t),{className:r,overlayStyle:s,arrowStyle:v}}const Qb=e=>{const{prefixCls:t,className:n,placement:r="top",title:s,color:v,overlayInnerStyle:C}=e,{getPrefixCls:c}=p.useContext(Ye),i=c("tooltip",t),[f,h,o]=yf(i),u=Sf(i,v),a=u.arrowStyle,d=Object.assign(Object.assign({},C),u.overlayStyle),g=se(h,o,i,`${i}-pure`,`${i}-placement-${r}`,n,u.className);return f(p.createElement("div",{className:g,style:a},p.createElement("div",{className:`${i}-arrow`}),p.createElement(Xs,Object.assign({},e,{className:h,prefixCls:i,overlayInnerStyle:d}),s)))};var Jb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Zb=p.forwardRef((e,t)=>{var n,r;const{prefixCls:s,openClassName:v,getTooltipContainer:C,overlayClassName:c,color:i,overlayInnerStyle:f,children:h,afterOpenChange:o,afterVisibleChange:u,destroyTooltipOnHide:a,arrow:d=!0,title:g,overlay:l,builtinPlacements:m,arrowPointAtCenter:b=!1,autoAdjustOverflow:y=!0}=e,S=!!d,[,w]=hn(),{getPopupContainer:x,getPrefixCls:E,direction:_}=p.useContext(Ye),$=_u(),I=p.useRef(null),A=()=>{var ue;(ue=I.current)===null||ue===void 0||ue.forceAlign()};p.useImperativeHandle(t,()=>{var ue;return{forceAlign:A,forcePopupAlign:()=>{$.deprecated(!1,"forcePopupAlign","forceAlign"),A()},nativeElement:(ue=I.current)===null||ue===void 0?void 0:ue.nativeElement}});const[F,z]=Rt(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),D=!g&&!l&&g!==0,H=ue=>{var he,pe;z(D?!1:ue),D||((he=e.onOpenChange)===null||he===void 0||he.call(e,ue),(pe=e.onVisibleChange)===null||pe===void 0||pe.call(e,ue))},B=p.useMemo(()=>{var ue,he;let pe=b;return typeof d=="object"&&(pe=(he=(ue=d.pointAtCenter)!==null&&ue!==void 0?ue:d.arrowPointAtCenter)!==null&&he!==void 0?he:b),m||Ub({arrowPointAtCenter:pe,autoAdjustOverflow:y,arrowWidth:S?w.sizePopupArrow:0,borderRadius:w.borderRadius,offset:w.marginXXS,visibleFirst:!0})},[b,d,m,w]),j=p.useMemo(()=>g===0?g:l||g||"",[l,g]),N=p.createElement(Ei,null,typeof j=="function"?j():j),{getPopupContainer:O,placement:P="top",mouseEnterDelay:T=.1,mouseLeaveDelay:M=.1,overlayStyle:k,rootClassName:L}=e,R=Jb(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),V=E("tooltip",s),W=E(),Y=e["data-popover-inject"];let Q=F;!("open"in e)&&!("visible"in e)&&D&&(Q=!1);const G=p.isValidElement(h)&&!Yu(h)?h:p.createElement("span",null,h),K=G.props,re=!K.className||typeof K.className=="string"?se(K.className,v||`${V}-open`):K.className,[q,X,Z]=yf(V,!Y),ne=Sf(V,i),te=ne.arrowStyle,ie=Object.assign(Object.assign({},f),ne.overlayStyle),le=se(c,{[`${V}-rtl`]:_==="rtl"},ne.className,L,X,Z),[fe,ce]=Li("Tooltip",R.zIndex),oe=p.createElement(zb,Object.assign({},R,{zIndex:fe,showArrow:S,placement:P,mouseEnterDelay:T,mouseLeaveDelay:M,prefixCls:V,overlayClassName:le,overlayStyle:Object.assign(Object.assign({},te),k),getTooltipContainer:O||C||x,ref:I,builtinPlacements:B,overlay:N,visible:Q,onVisibleChange:H,afterVisibleChange:o??u,overlayInnerStyle:ie,arrowContent:p.createElement("span",{className:`${V}-arrow-content`}),motion:{motionName:Nn(W,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!a}),Q?An(G,{className:re}):G);return q(p.createElement(Rs.Provider,{value:ce},oe))}),dt=Zb;dt._InternalPanelDoNotUseOrYouWillBeFired=Qb;const eC=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:s,innerPadding:v,boxShadowSecondary:C,colorTextHeading:c,borderRadiusLG:i,zIndexPopup:f,titleMarginBottom:h,colorBgElevated:o,popoverBg:u,titleBorderBottom:a,innerContentPadding:d,titlePadding:g}=e;return[{[t]:Object.assign(Object.assign({},Tt(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":o,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:u,backgroundClip:"padding-box",borderRadius:i,boxShadow:C,padding:v},[`${t}-title`]:{minWidth:r,marginBottom:h,color:c,fontWeight:s,borderBottom:a,padding:g},[`${t}-inner-content`]:{color:n,padding:d}})},Cf(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},tC=e=>{const{componentCls:t}=e;return{[t]:xi.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},nC=e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:s,wireframe:v,zIndexPopupBase:C,borderRadiusLG:c,marginXS:i,lineType:f,colorSplit:h,paddingSM:o}=e,u=n-r,a=u/2,d=u/2-t,g=s;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:C+30},pf(e)),Us({contentRadius:c,limitVerticalRadius:!0})),{innerPadding:v?0:12,titleMarginBottom:v?0:i,titlePadding:v?`${a}px ${g}px ${d}px`:0,titleBorderBottom:v?`${t}px ${f} ${h}`:"none",innerContentPadding:v?`${o}px ${g}px`:0})},wf=Nt("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,r=gt(e,{popoverBg:t,popoverColor:n});return[eC(r),tC(r),jo(r,"zoom-big")]},nC,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var rC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const iC=(e,t,n)=>!t&&!n?null:p.createElement(p.Fragment,null,t&&p.createElement("div",{className:`${e}-title`},po(t)),p.createElement("div",{className:`${e}-inner-content`},po(n))),oC=e=>{const{hashId:t,prefixCls:n,className:r,style:s,placement:v="top",title:C,content:c,children:i}=e;return p.createElement("div",{className:se(t,n,`${n}-pure`,`${n}-placement-${v}`,r),style:s},p.createElement("div",{className:`${n}-arrow`}),p.createElement(Xs,Object.assign({},e,{className:t,prefixCls:n}),i||iC(n,C,c)))},aC=e=>{const{prefixCls:t,className:n}=e,r=rC(e,["prefixCls","className"]),{getPrefixCls:s}=p.useContext(Ye),v=s("popover",t),[C,c,i]=wf(v);return C(p.createElement(oC,Object.assign({},r,{prefixCls:v,hashId:c,className:se(n,i)})))};var sC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const lC=e=>{let{title:t,content:n,prefixCls:r}=e;return p.createElement(p.Fragment,null,t&&p.createElement("div",{className:`${r}-title`},po(t)),p.createElement("div",{className:`${r}-inner-content`},po(n)))},cC=p.forwardRef((e,t)=>{var n,r;const{prefixCls:s,title:v,content:C,overlayClassName:c,placement:i="top",trigger:f="hover",children:h,mouseEnterDelay:o=.1,mouseLeaveDelay:u=.1,onOpenChange:a,overlayStyle:d={}}=e,g=sC(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:l}=p.useContext(Ye),m=l("popover",s),[b,y,S]=wf(m),w=l(),x=se(c,y,S),[E,_]=Rt(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),$=(F,z)=>{_(F,!0),a==null||a(F,z)},I=F=>{F.keyCode===me.ESC&&$(!1,F)},A=F=>{$(F)};return b(p.createElement(dt,Object.assign({placement:i,trigger:f,mouseEnterDelay:o,mouseLeaveDelay:u,overlayStyle:d},g,{prefixCls:m,overlayClassName:x,ref:t,open:E,onOpenChange:A,overlay:v||C?p.createElement(lC,{prefixCls:m,title:v,content:C}):null,transitionName:Nn(w,"zoom-big",g.transitionName),"data-popover-inject":!0}),An(h,{onKeyDown:F=>{var z,D;p.isValidElement(h)&&((D=h==null?void 0:(z=h.props).onKeyDown)===null||D===void 0||D.call(z,F)),I(F)}})))}),xf=cC;xf._InternalPanelDoNotUseOrYouWillBeFired=aC;var uC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},dC=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:uC}))},Ef=p.forwardRef(dC),fC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},hC=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:fC}))},gC=p.forwardRef(hC);const _f=p.createContext(null),mC=_f.Provider,Of=p.createContext(null),vC=Of.Provider;var pC=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],$f=p.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,s=e.className,v=e.style,C=e.checked,c=e.disabled,i=e.defaultChecked,f=i===void 0?!1:i,h=e.type,o=h===void 0?"checkbox":h,u=e.title,a=e.onChange,d=it(e,pC),g=p.useRef(null),l=p.useRef(null),m=Rt(f,{value:C}),b=ge(m,2),y=b[0],S=b[1];p.useImperativeHandle(t,function(){return{focus:function(_){var $;($=g.current)===null||$===void 0||$.focus(_)},blur:function(){var _;(_=g.current)===null||_===void 0||_.blur()},input:g.current,nativeElement:l.current}});var w=se(r,s,ee(ee({},"".concat(r,"-checked"),y),"".concat(r,"-disabled"),c)),x=function(_){c||("checked"in e||S(_.target.checked),a==null||a({target:ae(ae({},e),{},{type:o,checked:_.target.checked}),stopPropagation:function(){_.stopPropagation()},preventDefault:function(){_.preventDefault()},nativeEvent:_.nativeEvent}))};return p.createElement("span",{className:w,title:u,style:v,ref:l},p.createElement("input",ye({},d,{className:"".concat(r,"-input"),ref:g,onChange:x,disabled:c,checked:!!y,type:o})),p.createElement("span",{className:"".concat(r,"-inner")}))});const bC=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},Tt(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},CC=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:s,motionDurationSlow:v,motionDurationMid:C,motionEaseInOutCirc:c,colorBgContainer:i,colorBorder:f,lineWidth:h,colorBgContainerDisabled:o,colorTextDisabled:u,paddingXS:a,dotColorDisabled:d,lineType:g,radioColor:l,radioBgColor:m,calc:b}=e,y=`${t}-inner`,w=b(s).sub(b(4).mul(2)),x=b(1).mul(s).equal();return{[`${t}-wrapper`]:Object.assign(Object.assign({},Tt(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer",[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${de(h)} ${g} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},Tt(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${y}`]:{borderColor:r},[`${t}-input:focus-visible + ${y}`]:Object.assign({},Ts(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:x,height:x,marginBlockStart:b(1).mul(s).div(-2).equal(),marginInlineStart:b(1).mul(s).div(-2).equal(),backgroundColor:l,borderBlockStart:0,borderInlineStart:0,borderRadius:x,transform:"scale(0)",opacity:0,transition:`all ${v} ${c}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:x,height:x,backgroundColor:i,borderColor:f,borderStyle:"solid",borderWidth:h,borderRadius:"50%",transition:`all ${C}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[y]:{borderColor:r,backgroundColor:m,"&::after":{transform:`scale(${e.calc(e.dotSize).div(s).equal()})`,opacity:1,transition:`all ${v} ${c}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[y]:{backgroundColor:o,borderColor:f,cursor:"not-allowed","&::after":{backgroundColor:d}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:u,cursor:"not-allowed"},[`&${t}-checked`]:{[y]:{"&::after":{transform:`scale(${b(w).div(s).equal({unit:!1})})`}}}},[`span${t} + *`]:{paddingInlineStart:a,paddingInlineEnd:a}})}},yC=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:s,lineType:v,colorBorder:C,motionDurationSlow:c,motionDurationMid:i,buttonPaddingInline:f,fontSize:h,buttonBg:o,fontSizeLG:u,controlHeightLG:a,controlHeightSM:d,paddingXS:g,borderRadius:l,borderRadiusSM:m,borderRadiusLG:b,buttonCheckedBg:y,buttonSolidCheckedColor:S,colorTextDisabled:w,colorBgContainerDisabled:x,buttonCheckedBgDisabled:E,buttonCheckedColorDisabled:_,colorPrimary:$,colorPrimaryHover:I,colorPrimaryActive:A,buttonSolidCheckedBg:F,buttonSolidCheckedHoverBg:z,buttonSolidCheckedActiveBg:D,calc:H}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:f,paddingBlock:0,color:t,fontSize:h,lineHeight:de(H(n).sub(H(s).mul(2)).equal()),background:o,border:`${de(s)} ${v} ${C}`,borderBlockStartWidth:H(s).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:s,cursor:"pointer",transition:[`color ${i}`,`background ${i}`,`box-shadow ${i}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:H(s).mul(-1).equal(),insetInlineStart:H(s).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:s,paddingInline:0,backgroundColor:C,transition:`background-color ${c}`,content:'""'}},"&:first-child":{borderInlineStart:`${de(s)} ${v} ${C}`,borderStartStartRadius:l,borderEndStartRadius:l},"&:last-child":{borderStartEndRadius:l,borderEndEndRadius:l},"&:first-child:last-child":{borderRadius:l},[`${r}-group-large &`]:{height:a,fontSize:u,lineHeight:de(H(a).sub(H(s).mul(2)).equal()),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},[`${r}-group-small &`]:{height:d,paddingInline:H(g).sub(s).equal(),paddingBlock:0,lineHeight:de(H(d).sub(H(s).mul(2)).equal()),"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:$},"&:has(:focus-visible)":Object.assign({},Ts(e)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:$,background:y,borderColor:$,"&::before":{backgroundColor:$},"&:first-child":{borderColor:$},"&:hover":{color:I,borderColor:I,"&::before":{backgroundColor:I}},"&:active":{color:A,borderColor:A,"&::before":{backgroundColor:A}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:S,background:F,borderColor:F,"&:hover":{color:S,background:z,borderColor:z},"&:active":{color:S,background:D,borderColor:D}},"&-disabled":{color:w,backgroundColor:x,borderColor:C,cursor:"not-allowed","&:first-child, &:hover":{color:w,backgroundColor:x,borderColor:C}},[`&-disabled${r}-button-wrapper-checked`]:{color:_,backgroundColor:E,borderColor:C,boxShadow:"none"}}}},SC=e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:s,fontSizeLG:v,colorText:C,colorBgContainer:c,colorTextDisabled:i,controlItemBgActiveDisabled:f,colorTextLightSolid:h,colorPrimary:o,colorPrimaryHover:u,colorPrimaryActive:a,colorWhite:d}=e,g=4,l=v,m=t?l-g*2:l-(g+s)*2;return{radioSize:l,dotSize:m,dotColorDisabled:i,buttonSolidCheckedColor:h,buttonSolidCheckedBg:o,buttonSolidCheckedHoverBg:u,buttonSolidCheckedActiveBg:a,buttonBg:c,buttonCheckedBg:c,buttonColor:C,buttonCheckedBgDisabled:f,buttonCheckedColorDisabled:i,buttonPaddingInline:n-s,wrapperMarginInlineEnd:r,radioColor:t?o:d,radioBgColor:t?c:o}},Tf=Nt("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r=`0 0 0 ${de(n)} ${t}`,v=gt(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[bC(v),CC(v),yC(v)]},SC,{unitless:{radioSize:!0,dotSize:!0}});var wC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const xC=(e,t)=>{var n,r;const s=p.useContext(_f),v=p.useContext(Of),{getPrefixCls:C,direction:c,radio:i}=p.useContext(Ye),f=p.useRef(null),h=Fn(t,f),{isFormItemInput:o}=p.useContext(gn),u=D=>{var H,B;(H=e.onChange)===null||H===void 0||H.call(e,D),(B=s==null?void 0:s.onChange)===null||B===void 0||B.call(s,D)},{prefixCls:a,className:d,rootClassName:g,children:l,style:m,title:b}=e,y=wC(e,["prefixCls","className","rootClassName","children","style","title"]),S=C("radio",a),w=((s==null?void 0:s.optionType)||v)==="button",x=w?`${S}-button`:S,E=tn(S),[_,$,I]=Tf(S,E),A=Object.assign({},y),F=p.useContext(Bn);s&&(A.name=s.name,A.onChange=u,A.checked=e.value===s.value,A.disabled=(n=A.disabled)!==null&&n!==void 0?n:s.disabled),A.disabled=(r=A.disabled)!==null&&r!==void 0?r:F;const z=se(`${x}-wrapper`,{[`${x}-wrapper-checked`]:A.checked,[`${x}-wrapper-disabled`]:A.disabled,[`${x}-wrapper-rtl`]:c==="rtl",[`${x}-wrapper-in-form-item`]:o},i==null?void 0:i.className,d,g,$,I,E);return _(p.createElement(Ro,{component:"Radio",disabled:A.disabled},p.createElement("label",{className:z,style:Object.assign(Object.assign({},i==null?void 0:i.style),m),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:b},p.createElement($f,Object.assign({},A,{className:se(A.className,!w&&Io),type:"radio",prefixCls:x,ref:h})),l!==void 0?p.createElement("span",null,l):null)))},bo=p.forwardRef(xC),EC=p.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=p.useContext(Ye),[s,v]=Rt(e.defaultValue,{value:e.value}),C=D=>{const H=s,B=D.target.value;"value"in e||v(B);const{onChange:j}=e;j&&B!==H&&j(D)},{prefixCls:c,className:i,rootClassName:f,options:h,buttonStyle:o="outline",disabled:u,children:a,size:d,style:g,id:l,onMouseEnter:m,onMouseLeave:b,onFocus:y,onBlur:S}=e,w=n("radio",c),x=`${w}-group`,E=tn(w),[_,$,I]=Tf(w,E);let A=a;h&&h.length>0&&(A=h.map(D=>typeof D=="string"||typeof D=="number"?p.createElement(bo,{key:D.toString(),prefixCls:w,disabled:u,value:D,checked:s===D},D):p.createElement(bo,{key:`radio-group-value-options-${D.value}`,prefixCls:w,disabled:D.disabled||u,value:D.value,checked:s===D.value,title:D.title,style:D.style,id:D.id,required:D.required},D.label)));const F=kn(d),z=se(x,`${x}-${o}`,{[`${x}-${F}`]:F,[`${x}-rtl`]:r==="rtl"},i,f,$,I,E);return _(p.createElement("div",Object.assign({},On(e,{aria:!0,data:!0}),{className:z,style:g,onMouseEnter:m,onMouseLeave:b,onFocus:y,onBlur:S,id:l,ref:t}),p.createElement(mC,{value:{onChange:C,value:s,disabled:e.disabled,name:e.name,optionType:e.optionType}},A)))}),_C=p.memo(EC);var OC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const $C=(e,t)=>{const{getPrefixCls:n}=p.useContext(Ye),{prefixCls:r}=e,s=OC(e,["prefixCls"]),v=n("radio",r);return p.createElement(vC,{value:"button"},p.createElement(bo,Object.assign({prefixCls:v},s,{type:"radio",ref:t})))},TC=p.forwardRef($C),ko=bo;ko.Button=TC;ko.Group=_C;ko.__ANT_RADIO=!0;function Gs(e){return gt(e,{inputAffixPadding:e.paddingXXS})}const Ys=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:s,controlHeightSM:v,controlHeightLG:C,fontSizeLG:c,lineHeightLG:i,paddingSM:f,controlPaddingHorizontalSM:h,controlPaddingHorizontal:o,colorFillAlter:u,colorPrimaryHover:a,colorPrimary:d,controlOutlineWidth:g,controlOutline:l,colorErrorOutline:m,colorWarningOutline:b,colorBgContainer:y}=e;return{paddingBlock:Math.max(Math.round((t-n*r)/2*10)/10-s,0),paddingBlockSM:Math.max(Math.round((v-n*r)/2*10)/10-s,0),paddingBlockLG:Math.ceil((C-c*i)/2*10)/10-s,paddingInline:f-s,paddingInlineSM:h-s,paddingInlineLG:o-s,addonBg:u,activeBorderColor:d,hoverBorderColor:a,activeShadow:`0 0 0 ${g}px ${l}`,errorActiveShadow:`0 0 0 ${g}px ${m}`,warningActiveShadow:`0 0 0 ${g}px ${b}`,hoverBg:y,activeBg:y,inputFontSize:n,inputFontSizeLG:c,inputFontSizeSM:n}},PC=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),qs=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},PC(gt(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),Pf=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),Ic=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Pf(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),If=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pf(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},qs(e))}),Ic(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Ic(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),Rc=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),Rf=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Rc(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),Rc(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},qs(e))}})}),Mf=(e,t)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled}},t)}),Lf=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:t==null?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),Mc=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Lf(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),Af=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Lf(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},qs(e))}),Mc(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),Mc(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),Lc=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),Nf=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary},[`${e.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${de(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${de(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}}},Lc(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),Lc(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),Df=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),jf=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:s}=e;return{padding:`${de(t)} ${de(s)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},Ff=e=>({padding:`${de(e.paddingBlockSM)} ${de(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),zo=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${de(e.paddingBlock)} ${de(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},Df(e.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},jf(e)),"&-sm":Object.assign({},Ff(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Bf=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},jf(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},Ff(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${de(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${de(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${de(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${de(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:e.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px ${de(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[`${t}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},Oo()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},IC=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:s}=e,C=s(n).sub(s(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tt(e)),zo(e)),If(e)),Af(e)),Mf(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:C,paddingBottom:C}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},RC=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${de(e.inputAffixPadding)}`}}}},MC=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:s,colorIcon:v,colorIconHover:C,iconCls:c}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign({},zo(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),RC(e)),{[`${c}${t}-password-icon`]:{color:v,cursor:"pointer",transition:`all ${s}`,"&:hover":{color:C}}})}},LC=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},Tt(e)),Bf(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},Rf(e)),Nf(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},AC=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal({unit:!1})},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:e.controlHeightLG},[`&-small ${r}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},NC=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${r}-has-feedback ${t}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},DC=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},Ks=Nt("Input",e=>{const t=gt(e,Gs(e));return[IC(t),NC(t),MC(t),LC(t),AC(t),DC(t),Mo(t)]},Ys,{resetFont:!1});function jC(e,t,n){var r=n||{},s=r.noTrailing,v=s===void 0?!1:s,C=r.noLeading,c=C===void 0?!1:C,i=r.debounceMode,f=i===void 0?void 0:i,h,o=!1,u=0;function a(){h&&clearTimeout(h)}function d(l){var m=l||{},b=m.upcomingOnly,y=b===void 0?!1:b;a(),o=!y}function g(){for(var l=arguments.length,m=new Array(l),b=0;b<l;b++)m[b]=arguments[b];var y=this,S=Date.now()-u;if(o)return;function w(){u=Date.now(),t.apply(y,m)}function x(){h=void 0}!c&&f&&!h&&w(),a(),f===void 0&&S>e?c?(u=Date.now(),v||(h=setTimeout(f?x:w,e))):w():v!==!0&&(h=setTimeout(f?x:w,f===void 0?e-S:e))}return g.cancel=d,g}function FC(e,t,n){var r={},s=r.atBegin,v=s===void 0?!1:s;return jC(e,t,{debounceMode:v!==!1})}const BC=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Tt(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Tt(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Tt(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},Ts(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${de(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function kC(e,t){const n=gt(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[BC(n)]}const kf=Nt("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[kC(n,e)]}),zf=J.createContext(null);var zC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const HC=(e,t)=>{var n;const{prefixCls:r,className:s,rootClassName:v,children:C,indeterminate:c=!1,style:i,onMouseEnter:f,onMouseLeave:h,skipGroup:o=!1,disabled:u}=e,a=zC(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:d,direction:g,checkbox:l}=p.useContext(Ye),m=p.useContext(zf),{isFormItemInput:b}=p.useContext(gn),y=p.useContext(Bn),S=(n=(m==null?void 0:m.disabled)||u)!==null&&n!==void 0?n:y,w=p.useRef(a.value);p.useEffect(()=>{m==null||m.registerValue(a.value)},[]),p.useEffect(()=>{if(!o)return a.value!==w.current&&(m==null||m.cancelValue(w.current),m==null||m.registerValue(a.value),w.current=a.value),()=>m==null?void 0:m.cancelValue(a.value)},[a.value]);const x=d("checkbox",r),E=tn(x),[_,$,I]=kf(x,E),A=Object.assign({},a);m&&!o&&(A.onChange=function(){a.onChange&&a.onChange.apply(a,arguments),m.toggleOption&&m.toggleOption({label:C,value:a.value})},A.name=m.name,A.checked=m.value.includes(a.value));const F=se(`${x}-wrapper`,{[`${x}-rtl`]:g==="rtl",[`${x}-wrapper-checked`]:A.checked,[`${x}-wrapper-disabled`]:S,[`${x}-wrapper-in-form-item`]:b},l==null?void 0:l.className,s,v,I,E,$),z=se({[`${x}-indeterminate`]:c},Io,$),D=c?"mixed":void 0;return _(p.createElement(Ro,{component:"Checkbox",disabled:S},p.createElement("label",{className:F,style:Object.assign(Object.assign({},l==null?void 0:l.style),i),onMouseEnter:f,onMouseLeave:h},p.createElement($f,Object.assign({"aria-checked":D},A,{prefixCls:x,className:z,disabled:S,ref:t})),C!==void 0&&p.createElement("span",null,C))))},Hf=p.forwardRef(HC);var VC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const WC=p.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:s=[],prefixCls:v,className:C,rootClassName:c,style:i,onChange:f}=e,h=VC(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:o,direction:u}=p.useContext(Ye),[a,d]=p.useState(h.value||n||[]),[g,l]=p.useState([]);p.useEffect(()=>{"value"in h&&d(h.value||[])},[h.value]);const m=p.useMemo(()=>s.map(H=>typeof H=="string"||typeof H=="number"?{label:H,value:H}:H),[s]),b=H=>{l(B=>B.filter(j=>j!==H))},y=H=>{l(B=>[].concat(Se(B),[H]))},S=H=>{const B=a.indexOf(H.value),j=Se(a);B===-1?j.push(H.value):j.splice(B,1),"value"in h||d(j),f==null||f(j.filter(N=>g.includes(N)).sort((N,O)=>{const P=m.findIndex(M=>M.value===N),T=m.findIndex(M=>M.value===O);return P-T}))},w=o("checkbox",v),x=`${w}-group`,E=tn(w),[_,$,I]=kf(w,E),A=_n(h,["value","disabled"]),F=s.length?m.map(H=>p.createElement(Hf,{prefixCls:w,key:H.value.toString(),disabled:"disabled"in H?H.disabled:h.disabled,value:H.value,checked:a.includes(H.value),onChange:H.onChange,className:`${x}-item`,style:H.style,title:H.title,id:H.id,required:H.required},H.label)):r,z={toggleOption:S,value:a,disabled:h.disabled,name:h.name,registerValue:y,cancelValue:b},D=se(x,{[`${x}-rtl`]:u==="rtl"},C,c,I,E,$);return _(p.createElement("div",Object.assign({className:D,style:i},A,{ref:t}),p.createElement(zf.Provider,{value:z},F)))}),Qs=Hf;Qs.Group=WC;Qs.__ANT_CHECKBOX=!0;var Vf=J.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,s=e.className,v=e.style,C=e.children,c=e.isActive,i=e.role,f=J.useState(c||r),h=ge(f,2),o=h[0],u=h[1];return J.useEffect(function(){(r||c)&&u(!0)},[r,c]),o?J.createElement("div",{ref:t,className:se("".concat(n,"-content"),ee(ee({},"".concat(n,"-content-active"),c),"".concat(n,"-content-inactive"),!c),s),style:v,role:i},J.createElement("div",{className:"".concat(n,"-content-box")},C)):null});Vf.displayName="PanelContent";var XC=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Wf=J.forwardRef(function(e,t){var n=e.showArrow,r=n===void 0?!0:n,s=e.headerClass,v=e.isActive,C=e.onItemClick,c=e.forceRender,i=e.className,f=e.prefixCls,h=e.collapsible,o=e.accordion,u=e.panelKey,a=e.extra,d=e.header,g=e.expandIcon,l=e.openMotion,m=e.destroyInactivePanel,b=e.children,y=it(e,XC),S=h==="disabled",w=h==="header",x=h==="icon",E=a!=null&&typeof a!="boolean",_=function(){C==null||C(u)},$=function(H){(H.key==="Enter"||H.keyCode===me.ENTER||H.which===me.ENTER)&&_()},I=typeof g=="function"?g(e):J.createElement("i",{className:"arrow"});I&&(I=J.createElement("div",{className:"".concat(f,"-expand-icon"),onClick:["header","icon"].includes(h)?_:void 0},I));var A=se(ee(ee(ee({},"".concat(f,"-item"),!0),"".concat(f,"-item-active"),v),"".concat(f,"-item-disabled"),S),i),F=se(s,ee(ee(ee({},"".concat(f,"-header"),!0),"".concat(f,"-header-collapsible-only"),w),"".concat(f,"-icon-collapsible-only"),x)),z={className:F,"aria-expanded":v,"aria-disabled":S,onKeyDown:$};return!w&&!x&&(z.onClick=_,z.role=o?"tab":"button",z.tabIndex=S?-1:0),J.createElement("div",ye({},y,{ref:t,className:A}),J.createElement("div",z,r&&I,J.createElement("span",{className:"".concat(f,"-header-text"),onClick:h==="header"?_:void 0},d),E&&J.createElement("div",{className:"".concat(f,"-extra")},a)),J.createElement(Yn,ye({visible:v,leavedClassName:"".concat(f,"-content-hidden")},l,{forceRender:c,removeOnLeave:m}),function(D,H){var B=D.className,j=D.style;return J.createElement(Vf,{ref:H,prefixCls:f,className:B,style:j,isActive:v,forceRender:c,role:o?"tabpanel":void 0},b)}))}),UC=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],GC=function(t,n){var r=n.prefixCls,s=n.accordion,v=n.collapsible,C=n.destroyInactivePanel,c=n.onItemClick,i=n.activeKey,f=n.openMotion,h=n.expandIcon;return t.map(function(o,u){var a=o.children,d=o.label,g=o.key,l=o.collapsible,m=o.onItemClick,b=o.destroyInactivePanel,y=it(o,UC),S=String(g??u),w=l??v,x=b??C,E=function(I){w!=="disabled"&&(c(I),m==null||m(I))},_=!1;return s?_=i[0]===S:_=i.indexOf(S)>-1,J.createElement(Wf,ye({},y,{prefixCls:r,key:S,panelKey:S,isActive:_,accordion:s,openMotion:f,expandIcon:h,header:d,collapsible:w,onItemClick:E,destroyInactivePanel:x}),a)})},YC=function(t,n,r){if(!t)return null;var s=r.prefixCls,v=r.accordion,C=r.collapsible,c=r.destroyInactivePanel,i=r.onItemClick,f=r.activeKey,h=r.openMotion,o=r.expandIcon,u=t.key||String(n),a=t.props,d=a.header,g=a.headerClass,l=a.destroyInactivePanel,m=a.collapsible,b=a.onItemClick,y=!1;v?y=f[0]===u:y=f.indexOf(u)>-1;var S=m??C,w=function(_){S!=="disabled"&&(i(_),b==null||b(_))},x={key:u,panelKey:u,header:d,headerClass:g,isActive:y,prefixCls:s,destroyInactivePanel:l??c,openMotion:h,accordion:v,children:t.props.children,onItemClick:w,expandIcon:o,collapsible:S};return typeof t.type=="string"?t:(Object.keys(x).forEach(function(E){typeof x[E]>"u"&&delete x[E]}),J.cloneElement(t,x))};function qC(e,t,n){return Array.isArray(e)?GC(e,n):Pr(t).map(function(r,s){return YC(r,s,n)})}function KC(e){var t=e;if(!Array.isArray(t)){var n=et(t);t=n==="number"||n==="string"?[t]:[]}return t.map(function(r){return String(r)})}var QC=J.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-collapse":n,s=e.destroyInactivePanel,v=s===void 0?!1:s,C=e.style,c=e.accordion,i=e.className,f=e.children,h=e.collapsible,o=e.openMotion,u=e.expandIcon,a=e.activeKey,d=e.defaultActiveKey,g=e.onChange,l=e.items,m=se(r,i),b=Rt([],{value:a,onChange:function($){return g==null?void 0:g($)},defaultValue:d,postState:KC}),y=ge(b,2),S=y[0],w=y[1],x=function($){return w(function(){if(c)return S[0]===$?[]:[$];var I=S.indexOf($),A=I>-1;return A?S.filter(function(F){return F!==$}):[].concat(Se(S),[$])})};sn(!f,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var E=qC(l,f,{prefixCls:r,accordion:c,openMotion:o,expandIcon:u,collapsible:h,destroyInactivePanel:v,onItemClick:x,activeKey:S});return J.createElement("div",ye({ref:t,className:m,style:C,role:c?"tablist":void 0},On(e,{aria:!0,data:!0})),E)});const Js=Object.assign(QC,{Panel:Wf});Js.Panel;const JC=p.forwardRef((e,t)=>{const{getPrefixCls:n}=p.useContext(Ye),{prefixCls:r,className:s,showArrow:v=!0}=e,C=n("collapse",r),c=se({[`${C}-no-arrow`]:!v},s);return p.createElement(Js.Panel,Object.assign({ref:t},e,{prefixCls:C,className:c}))}),ZC=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:s,headerPadding:v,collapseHeaderPaddingSM:C,collapseHeaderPaddingLG:c,collapsePanelBorderRadius:i,lineWidth:f,lineType:h,colorBorder:o,colorText:u,colorTextHeading:a,colorTextDisabled:d,fontSizeLG:g,lineHeight:l,lineHeightLG:m,marginSM:b,paddingSM:y,paddingLG:S,paddingXS:w,motionDurationSlow:x,fontSizeIcon:E,contentPadding:_,fontHeight:$,fontHeightLG:I}=e,A=`${de(f)} ${h} ${o}`;return{[t]:Object.assign(Object.assign({},Tt(e)),{backgroundColor:s,border:A,borderRadius:i,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:A,"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${de(i)} ${de(i)}`}},[`> ${t}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:v,color:a,lineHeight:l,cursor:"pointer",transition:`all ${x}, visibility 0s`,[`> ${t}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${t}-expand-icon`]:{height:$,display:"flex",alignItems:"center",paddingInlineEnd:b},[`${t}-arrow`]:Object.assign(Object.assign({},$o()),{fontSize:E,transition:`transform ${x}`,svg:{transition:`transform ${x}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}},[`${t}-icon-collapsible-only`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:u,backgroundColor:n,borderTop:A,[`& > ${t}-content-box`]:{padding:_},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:C,paddingInlineStart:w,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(y).sub(w).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:y}}},"&-large":{[`> ${t}-item`]:{fontSize:g,lineHeight:m,[`> ${t}-header`]:{padding:c,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:I,marginInlineStart:e.calc(S).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:S}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${de(i)} ${de(i)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:d,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:b}}}}})}},ey=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},ty=e=>{const{componentCls:t,headerBg:n,paddingXXS:r,colorBorder:s}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${s}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:r}}}},ny=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},ry=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer}),iy=Nt("Collapse",e=>{const t=gt(e,{collapseHeaderPaddingSM:`${de(e.paddingXS)} ${de(e.paddingSM)}`,collapseHeaderPaddingLG:`${de(e.padding)} ${de(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[ZC(t),ty(t),ny(t),ey(t),$d(t)]},ry),oy=p.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,collapse:s}=p.useContext(Ye),{prefixCls:v,className:C,rootClassName:c,style:i,bordered:f=!0,ghost:h,size:o,expandIconPosition:u="start",children:a,expandIcon:d}=e,g=kn(A=>{var F;return(F=o??A)!==null&&F!==void 0?F:"middle"}),l=n("collapse",v),m=n(),[b,y,S]=iy(l),w=p.useMemo(()=>u==="left"?"start":u==="right"?"end":u,[u]),x=d??(s==null?void 0:s.expandIcon),E=p.useCallback(function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const F=typeof x=="function"?x(A):p.createElement(Ef,{rotate:A.isActive?90:void 0});return An(F,()=>{var z;return{className:se((z=F==null?void 0:F.props)===null||z===void 0?void 0:z.className,`${l}-arrow`)}})},[x,l]),_=se(`${l}-icon-position-${w}`,{[`${l}-borderless`]:!f,[`${l}-rtl`]:r==="rtl",[`${l}-ghost`]:!!h,[`${l}-${g}`]:g!=="middle"},s==null?void 0:s.className,C,c,y,S),$=Object.assign(Object.assign({},nd(m)),{motionAppear:!1,leavedClassName:`${l}-content-hidden`}),I=p.useMemo(()=>a?Pr(a).map((A,F)=>{var z,D;if(!((z=A.props)===null||z===void 0)&&z.disabled){const H=(D=A.key)!==null&&D!==void 0?D:String(F),{disabled:B,collapsible:j}=A.props,N=Object.assign(Object.assign({},_n(A.props,["disabled"])),{key:H,collapsible:j??(B?"disabled":void 0)});return An(A,N)}return A}):null,[a]);return b(p.createElement(Js,Object.assign({ref:t,openMotion:$},_n(e,["rootClassName"]),{expandIcon:E,prefixCls:l,className:_,style:Object.assign(Object.assign({},s==null?void 0:s.style),i)}),I))}),Xf=Object.assign(oy,{Panel:JC}),ay=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:s,textPaddingInline:v,orientationMargin:C,verticalMarginInline:c}=e;return{[t]:Object.assign(Object.assign({},Tt(e)),{borderBlockStart:`${de(s)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:c,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${de(s)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${de(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${de(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${de(s)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${C} * 100%)`},"&::after":{width:`calc(100% - ${C} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${C} * 100%)`},"&::after":{width:`calc(${C} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:v},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${de(s)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:s,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},sy=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),ly=Nt("Divider",e=>{const t=gt(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[ay(t)]},sy,{unitless:{orientationMargin:!0}});var cy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const uy=e=>{const{getPrefixCls:t,direction:n,divider:r}=p.useContext(Ye),{prefixCls:s,type:v="horizontal",orientation:C="center",orientationMargin:c,className:i,rootClassName:f,children:h,dashed:o,plain:u,style:a}=e,d=cy(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),g=t("divider",s),[l,m,b]=ly(g),y=!!h,S=C==="left"&&c!=null,w=C==="right"&&c!=null,x=se(g,r==null?void 0:r.className,m,b,`${g}-${v}`,{[`${g}-with-text`]:y,[`${g}-with-text-${C}`]:y,[`${g}-dashed`]:!!o,[`${g}-plain`]:!!u,[`${g}-rtl`]:n==="rtl",[`${g}-no-default-orientation-margin-left`]:S,[`${g}-no-default-orientation-margin-right`]:w},i,f),E=p.useMemo(()=>typeof c=="number"?c:/^\d+$/.test(c)?Number(c):c,[c]),_=Object.assign(Object.assign({},S&&{marginLeft:E}),w&&{marginRight:E});return l(p.createElement("div",Object.assign({className:x,style:Object.assign(Object.assign({},r==null?void 0:r.style),a)},d,{role:"separator"}),h&&v!=="vertical"&&p.createElement("span",{className:`${g}-inner-text`,style:_},h)))};var dy=["b"],fy=["v"],ya=function(t){return Math.round(Number(t||0))},hy=function(t){if(t&&et(t)==="object"&&"h"in t&&"b"in t){var n=t,r=n.b,s=it(n,dy);return ae(ae({},s),{},{v:r})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},Co=function(e){fr(n,e);var t=ii(n);function n(r){return Jt(this,n),t.call(this,hy(r))}return Zt(n,[{key:"toHsbString",value:function(){var s=this.toHsb(),v=ya(s.s*100),C=ya(s.b*100),c=ya(s.h),i=s.a,f="hsb(".concat(c,", ").concat(v,"%, ").concat(C,"%)"),h="hsba(".concat(c,", ").concat(v,"%, ").concat(C,"%, ").concat(i.toFixed(i===0?0:2),")");return i===1?f:h}},{key:"toHsb",value:function(){var s=this.toHsv();et(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(s=this.originalInput);var v=s;v.v;var C=it(v,fy);return ae(ae({},C),{},{b:s.v,a:this.a})}}]),n}(en),gy="rc-color-picker",ur=function(t){return t instanceof Co?t:new Co(t)},my=ur("#1677ff"),Uf=function(t){var n=t.offset,r=t.targetRef,s=t.containerRef,v=t.color,C=t.type,c=s.current.getBoundingClientRect(),i=c.width,f=c.height,h=r.current.getBoundingClientRect(),o=h.width,u=h.height,a=o/2,d=u/2,g=(n.x+a)/i,l=1-(n.y+d)/f,m=v.toHsb(),b=g,y=(n.x+a)/i*360;if(C)switch(C){case"hue":return ur(ae(ae({},m),{},{h:y<=0?0:y}));case"alpha":return ur(ae(ae({},m),{},{a:b<=0?0:b}))}return ur({h:m.h,s:g<=0?0:g,b:l>=1?1:l,a:m.a})},Gf=function(t,n,r,s){var v=t.current.getBoundingClientRect(),C=v.width,c=v.height,i=n.current.getBoundingClientRect(),f=i.width,h=i.height,o=f/2,u=h/2,a=r.toHsb();if(!(f===0&&h===0||f!==h)){if(s)switch(s){case"hue":return{x:a.h/360*C-o,y:-u/3};case"alpha":return{x:a.a/1*C-o,y:-u/3}}return{x:a.s*C-o,y:(1-a.b)*c-u}}},Zs=function(t){var n=t.color,r=t.prefixCls,s=t.className,v=t.style,C=t.onClick,c="".concat(r,"-color-block");return J.createElement("div",{className:se(c,s),style:v,onClick:C},J.createElement("div",{className:"".concat(c,"-inner"),style:{background:n}}))};function vy(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function Yf(e){var t=e.offset,n=e.targetRef,r=e.containerRef,s=e.direction,v=e.onDragChange,C=e.onDragChangeComplete,c=e.calculate,i=e.color,f=e.disabledDrag,h=p.useState(t||{x:0,y:0}),o=ge(h,2),u=o[0],a=o[1],d=p.useRef(null),g=p.useRef(null),l=p.useRef({flag:!1});p.useEffect(function(){if(l.current.flag===!1){var w=c==null?void 0:c(r);w&&a(w)}},[i,r]),p.useEffect(function(){return function(){document.removeEventListener("mousemove",d.current),document.removeEventListener("mouseup",g.current),document.removeEventListener("touchmove",d.current),document.removeEventListener("touchend",g.current),d.current=null,g.current=null}},[]);var m=function(x){var E=vy(x),_=E.pageX,$=E.pageY,I=r.current.getBoundingClientRect(),A=I.x,F=I.y,z=I.width,D=I.height,H=n.current.getBoundingClientRect(),B=H.width,j=H.height,N=B/2,O=j/2,P=Math.max(0,Math.min(_-A,z))-N,T=Math.max(0,Math.min($-F,D))-O,M={x:P,y:s==="x"?u.y:T};if(B===0&&j===0||B!==j)return!1;a(M),v==null||v(M)},b=function(x){x.preventDefault(),m(x)},y=function(x){x.preventDefault(),l.current.flag=!1,document.removeEventListener("mousemove",d.current),document.removeEventListener("mouseup",g.current),document.removeEventListener("touchmove",d.current),document.removeEventListener("touchend",g.current),d.current=null,g.current=null,C==null||C()},S=function(x){document.removeEventListener("mousemove",d.current),document.removeEventListener("mouseup",g.current),!f&&(m(x),l.current.flag=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",y),document.addEventListener("touchmove",b),document.addEventListener("touchend",y),d.current=b,g.current=y)};return[u,S]}var qf=function(t){var n=t.size,r=n===void 0?"default":n,s=t.color,v=t.prefixCls;return J.createElement("div",{className:se("".concat(v,"-handler"),ee({},"".concat(v,"-handler-sm"),r==="small")),style:{backgroundColor:s}})},Kf=function(t){var n=t.children,r=t.style,s=t.prefixCls;return J.createElement("div",{className:"".concat(s,"-palette"),style:ae({position:"relative"},r)},n)},Qf=p.forwardRef(function(e,t){var n=e.children,r=e.offset;return J.createElement("div",{ref:t,style:{position:"absolute",left:r.x,top:r.y,zIndex:1}},n)}),py=function(t){var n=t.color,r=t.onChange,s=t.prefixCls,v=t.onChangeComplete,C=t.disabled,c=p.useRef(),i=p.useRef(),f=p.useRef(n),h=Ht(function(g){var l=Uf({offset:g,targetRef:i,containerRef:c,color:n});f.current=l,r(l)}),o=Yf({color:n,containerRef:c,targetRef:i,calculate:function(l){return Gf(l,i,n)},onDragChange:h,onDragChangeComplete:function(){return v==null?void 0:v(f.current)},disabledDrag:C}),u=ge(o,2),a=u[0],d=u[1];return J.createElement("div",{ref:c,className:"".concat(s,"-select"),onMouseDown:d,onTouchStart:d},J.createElement(Kf,{prefixCls:s},J.createElement(Qf,{offset:a,ref:i},J.createElement(qf,{color:n.toRgbString(),prefixCls:s})),J.createElement("div",{className:"".concat(s,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},by=function(t){var n=t.colors,r=t.children,s=t.direction,v=s===void 0?"to right":s,C=t.type,c=t.prefixCls,i=p.useMemo(function(){return n.map(function(f,h){var o=ur(f);return C==="alpha"&&h===n.length-1&&o.setAlpha(1),o.toRgbString()}).join(",")},[n,C]);return J.createElement("div",{className:"".concat(c,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(v,", ").concat(i,")")}},r)},Ac=function(t){var n=t.gradientColors,r=t.direction,s=t.type,v=s===void 0?"hue":s,C=t.color,c=t.value,i=t.onChange,f=t.onChangeComplete,h=t.disabled,o=t.prefixCls,u=p.useRef(),a=p.useRef(),d=p.useRef(C),g=Ht(function(S){var w=Uf({offset:S,targetRef:a,containerRef:u,color:C,type:v});d.current=w,i(w)}),l=Yf({color:C,targetRef:a,containerRef:u,calculate:function(w){return Gf(w,a,C,v)},onDragChange:g,onDragChangeComplete:function(){f==null||f(d.current,v)},direction:"x",disabledDrag:h}),m=ge(l,2),b=m[0],y=m[1];return J.createElement("div",{ref:u,className:se("".concat(o,"-slider"),"".concat(o,"-slider-").concat(v)),onMouseDown:y,onTouchStart:y},J.createElement(Kf,{prefixCls:o},J.createElement(Qf,{offset:b,ref:a},J.createElement(qf,{size:"small",color:c,prefixCls:o})),J.createElement(by,{colors:n,direction:r,type:v,prefixCls:o})))};function Nc(e){return e!==void 0}var Cy=function(t,n){var r=n.defaultValue,s=n.value,v=p.useState(function(){var f;return Nc(s)?f=s:Nc(r)?f=r:f=t,ur(f)}),C=ge(v,2),c=C[0],i=C[1];return p.useEffect(function(){s&&i(ur(s))},[s]),[c,i]},yy=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const Sy=p.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,s=e.prefixCls,v=s===void 0?gy:s,C=e.onChange,c=e.onChangeComplete,i=e.className,f=e.style,h=e.panelRender,o=e.disabledAlpha,u=o===void 0?!1:o,a=e.disabled,d=a===void 0?!1:a,g=Cy(my,{value:n,defaultValue:r}),l=ge(g,2),m=l[0],b=l[1],y=p.useMemo(function(){var _=ur(m.toRgbString());return _.setAlpha(1),_.toRgbString()},[m]),S=se("".concat(v,"-panel"),i,ee({},"".concat(v,"-panel-disabled"),d)),w={prefixCls:v,onChangeComplete:c,disabled:d},x=function($,I){n||b($),C==null||C($,I)},E=J.createElement(J.Fragment,null,J.createElement(py,ye({color:m,onChange:x},w)),J.createElement("div",{className:"".concat(v,"-slider-container")},J.createElement("div",{className:se("".concat(v,"-slider-group"),ee({},"".concat(v,"-slider-group-disabled-alpha"),u))},J.createElement(Ac,ye({gradientColors:yy,color:m,value:"hsl(".concat(m.toHsb().h,",100%, 50%)"),onChange:function($){return x($,"hue")}},w)),!u&&J.createElement(Ac,ye({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",y],color:m,value:m.toRgbString(),onChange:function($){return x($,"alpha")}},w))),J.createElement(Zs,{color:m.toRgbString(),prefixCls:v})));return J.createElement("div",{className:S,style:f,ref:t},typeof h=="function"?h(E):E)}),Jf=J.createContext({}),Zf=J.createContext({}),{Provider:wy}=Jf,{Provider:xy}=Zf,io=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/gi,"").slice(0,t?8:6))||"",Ey=(e,t)=>e?io(e,t):"";let Dc=function(){function e(t){Jt(this,e),this.cleared=!1,this.metaColor=new Co(t),t||(this.metaColor.setAlpha(0),this.cleared=!0)}return Zt(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Ey(this.toHexString(),this.metaColor.getAlpha()<1)}},{key:"toHexString",value:function(){return this.metaColor.getAlpha()===1?this.metaColor.toHexString():this.metaColor.toHex8String()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}}])}();const Gt=e=>e instanceof Dc?e:new Dc(e),oo=e=>Math.round(Number(e||0)),yo=e=>oo(e.toHsb().a*100),Sa=(e,t)=>{const n=e.toHsb();return n.a=1,Gt(n)},eh=e=>{let{prefixCls:t,value:n,onChange:r}=e;const s=()=>{if(n&&!n.cleared){const v=n.toHsb();v.a=0;const C=Gt(v);C.cleared=!0,r==null||r(C)}};return J.createElement("div",{className:`${t}-clear`,onClick:s})};var Qn;(function(e){e.hex="hex",e.rgb="rgb",e.hsb="hsb"})(Qn||(Qn={}));var _y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Oy=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:_y}))},$y=p.forwardRef(Oy);function bs(){return typeof BigInt=="function"}function th(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function _r(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",s=r.split("."),v=s[0]||"0",C=s[1]||"0";v==="0"&&C==="0"&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:r,integerStr:v,decimalStr:C,fullStr:"".concat(c).concat(r)}}function el(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function xr(e){var t=String(e);if(el(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&tl(t)?t.length-t.indexOf(".")-1:0}function Ho(e){var t=String(e);if(el(e)){if(e>Number.MAX_SAFE_INTEGER)return String(bs()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(bs()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(xr(t))}return _r(t).fullStr}function tl(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Ty=function(){function e(t){if(Jt(this,e),ee(this,"origin",""),ee(this,"negative",void 0),ee(this,"integer",void 0),ee(this,"decimal",void 0),ee(this,"decimalLen",void 0),ee(this,"empty",void 0),ee(this,"nan",void 0),th(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(el(n)&&(n=Number(n)),n=typeof n=="string"?n:Ho(n),tl(n)){var r=_r(n);this.negative=r.negative;var s=r.trimStr.split(".");this.integer=BigInt(s[0]);var v=s[1]||"0";this.decimal=BigInt(v),this.decimalLen=v.length}else this.nan=!0}return Zt(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,s){var v=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),C=this.alignDecimal(v),c=n.alignDecimal(v),i=r(C,c).toString(),f=s(v),h=_r(i),o=h.negativeStr,u=h.trimStr,a="".concat(o).concat(u.padStart(f+1,"0"));return new e("".concat(a.slice(0,-f),".").concat(a.slice(-f)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(s,v){return s+v},function(s){return s})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(s,v){return s*v},function(s){return s*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":_r("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Py=function(){function e(t){if(Jt(this,e),ee(this,"origin",""),ee(this,"number",void 0),ee(this,"empty",void 0),th(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Zt(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var s=this.number+r;if(s>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(s<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var v=Math.max(xr(this.number),xr(r));return new e(s.toFixed(v))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var s=this.number*r;if(s>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(s<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var v=Math.max(xr(this.number),xr(r));return new e(s.toFixed(v))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Ho(this.number):this.origin}}]),e}();function Mn(e){return bs()?new Ty(e):new Py(e)}function ao(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var s=_r(e),v=s.negativeStr,C=s.integerStr,c=s.decimalStr,i="".concat(t).concat(c),f="".concat(v).concat(C);if(n>=0){var h=Number(c[n]);if(h>=5&&!r){var o=Mn(e).add("".concat(v,"0.").concat("0".repeat(n)).concat(10-h));return ao(o.toString(),t,n,r)}return n===0?f:"".concat(f).concat(t).concat(c.padEnd(n,"0").slice(0,n))}return i===".0"?f:"".concat(f).concat(i)}function Iy(e){return!!(e.addonBefore||e.addonAfter)}function Ry(e){return!!(e.prefix||e.suffix||e.allowClear)}function jc(e,t,n){var r=t.cloneNode(!0),s=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},s}function So(e,t,n,r){if(n){var s=t;if(t.type==="click"){s=jc(t,e,""),n(s);return}if(e.type!=="file"&&r!==void 0){s=jc(t,e,r),n(s);return}n(s)}}function nh(e,t){if(e){e.focus(t);var n=t||{},r=n.cursor;if(r){var s=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(s,s);break;default:e.setSelectionRange(0,s)}}}}var nl=J.forwardRef(function(e,t){var n,r,s=e.inputElement,v=e.children,C=e.prefixCls,c=e.prefix,i=e.suffix,f=e.addonBefore,h=e.addonAfter,o=e.className,u=e.style,a=e.disabled,d=e.readOnly,g=e.focused,l=e.triggerFocus,m=e.allowClear,b=e.value,y=e.handleReset,S=e.hidden,w=e.classes,x=e.classNames,E=e.dataAttrs,_=e.styles,$=e.components,I=v??s,A=($==null?void 0:$.affixWrapper)||"span",F=($==null?void 0:$.groupWrapper)||"span",z=($==null?void 0:$.wrapper)||"span",D=($==null?void 0:$.groupAddon)||"span",H=p.useRef(null),B=function(Z){var ne;(ne=H.current)!==null&&ne!==void 0&&ne.contains(Z.target)&&(l==null||l())},j=Ry(e),N=p.cloneElement(I,{value:b,className:se(I.props.className,!j&&(x==null?void 0:x.variant))||null}),O=p.useRef(null);if(J.useImperativeHandle(t,function(){return{nativeElement:O.current||H.current}}),j){var P,T=null;if(m){var M,k=!a&&!d&&b,L="".concat(C,"-clear-icon"),R=et(m)==="object"&&m!==null&&m!==void 0&&m.clearIcon?m.clearIcon:"✖";T=J.createElement("span",{onClick:y,onMouseDown:function(Z){return Z.preventDefault()},className:se(L,(M={},ee(M,"".concat(L,"-hidden"),!k),ee(M,"".concat(L,"-has-suffix"),!!i),M)),role:"button",tabIndex:-1},R)}var V="".concat(C,"-affix-wrapper"),W=se(V,(P={},ee(P,"".concat(C,"-disabled"),a),ee(P,"".concat(V,"-disabled"),a),ee(P,"".concat(V,"-focused"),g),ee(P,"".concat(V,"-readonly"),d),ee(P,"".concat(V,"-input-with-clear-btn"),i&&m&&b),P),w==null?void 0:w.affixWrapper,x==null?void 0:x.affixWrapper,x==null?void 0:x.variant),Y=(i||m)&&J.createElement("span",{className:se("".concat(C,"-suffix"),x==null?void 0:x.suffix),style:_==null?void 0:_.suffix},T,i);N=J.createElement(A,ye({className:W,style:_==null?void 0:_.affixWrapper,onClick:B},E==null?void 0:E.affixWrapper,{ref:H}),c&&J.createElement("span",{className:se("".concat(C,"-prefix"),x==null?void 0:x.prefix),style:_==null?void 0:_.prefix},c),N,Y)}if(Iy(e)){var Q="".concat(C,"-group"),G="".concat(Q,"-addon"),K="".concat(Q,"-wrapper"),re=se("".concat(C,"-wrapper"),Q,w==null?void 0:w.wrapper,x==null?void 0:x.wrapper),q=se(K,ee({},"".concat(K,"-disabled"),a),w==null?void 0:w.group,x==null?void 0:x.groupWrapper);N=J.createElement(F,{className:q,ref:O},J.createElement(z,{className:re},f&&J.createElement(D,{className:G},f),N,h&&J.createElement(D,{className:G},h)))}return J.cloneElement(N,{className:se((n=N.props)===null||n===void 0?void 0:n.className,o)||null,style:ae(ae({},(r=N.props)===null||r===void 0?void 0:r.style),u),hidden:S})}),My=["show"];function rh(e,t){return p.useMemo(function(){var n={};t&&(n.show=et(t)==="object"&&t.formatter?t.formatter:!!t),n=ae(ae({},n),e);var r=n,s=r.show,v=it(r,My);return ae(ae({},v),{},{show:!!s,showFormatter:typeof s=="function"?s:void 0,strategy:v.strategy||function(C){return C.length}})},[e,t])}var Ly=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Ay=p.forwardRef(function(e,t){var n=e.autoComplete,r=e.onChange,s=e.onFocus,v=e.onBlur,C=e.onPressEnter,c=e.onKeyDown,i=e.prefixCls,f=i===void 0?"rc-input":i,h=e.disabled,o=e.htmlSize,u=e.className,a=e.maxLength,d=e.suffix,g=e.showCount,l=e.count,m=e.type,b=m===void 0?"text":m,y=e.classes,S=e.classNames,w=e.styles,x=e.onCompositionStart,E=e.onCompositionEnd,_=it(e,Ly),$=p.useState(!1),I=ge($,2),A=I[0],F=I[1],z=p.useRef(!1),D=p.useRef(null),H=p.useRef(null),B=function(ce){D.current&&nh(D.current,ce)},j=Rt(e.defaultValue,{value:e.value}),N=ge(j,2),O=N[0],P=N[1],T=O==null?"":String(O),M=p.useState(null),k=ge(M,2),L=k[0],R=k[1],V=rh(l,g),W=V.max||a,Y=V.strategy(T),Q=!!W&&Y>W;p.useImperativeHandle(t,function(){var fe;return{focus:B,blur:function(){var oe;(oe=D.current)===null||oe===void 0||oe.blur()},setSelectionRange:function(oe,ue,he){var pe;(pe=D.current)===null||pe===void 0||pe.setSelectionRange(oe,ue,he)},select:function(){var oe;(oe=D.current)===null||oe===void 0||oe.select()},input:D.current,nativeElement:((fe=H.current)===null||fe===void 0?void 0:fe.nativeElement)||D.current}}),p.useEffect(function(){F(function(fe){return fe&&h?!1:fe})},[h]);var G=function(ce,oe,ue){var he=oe;if(!z.current&&V.exceedFormatter&&V.max&&V.strategy(oe)>V.max){if(he=V.exceedFormatter(oe,{max:V.max}),oe!==he){var pe,ve;R([((pe=D.current)===null||pe===void 0?void 0:pe.selectionStart)||0,((ve=D.current)===null||ve===void 0?void 0:ve.selectionEnd)||0])}}else if(ue.source==="compositionEnd")return;P(he),D.current&&So(D.current,ce,r,he)};p.useEffect(function(){if(L){var fe;(fe=D.current)===null||fe===void 0||fe.setSelectionRange.apply(fe,Se(L))}},[L]);var K=function(ce){G(ce,ce.target.value,{source:"change"})},re=function(ce){z.current=!1,G(ce,ce.currentTarget.value,{source:"compositionEnd"}),E==null||E(ce)},q=function(ce){C&&ce.key==="Enter"&&C(ce),c==null||c(ce)},X=function(ce){F(!0),s==null||s(ce)},Z=function(ce){F(!1),v==null||v(ce)},ne=function(ce){P(""),B(),D.current&&So(D.current,ce,r)},te=Q&&"".concat(f,"-out-of-range"),ie=function(){var ce=_n(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return J.createElement("input",ye({autoComplete:n},ce,{onChange:K,onFocus:X,onBlur:Z,onKeyDown:q,className:se(f,ee({},"".concat(f,"-disabled"),h),S==null?void 0:S.input),style:w==null?void 0:w.input,ref:D,size:o,type:b,onCompositionStart:function(ue){z.current=!0,x==null||x(ue)},onCompositionEnd:re}))},le=function(){var ce=Number(W)>0;if(d||V.show){var oe=V.showFormatter?V.showFormatter({value:T,count:Y,maxLength:W}):"".concat(Y).concat(ce?" / ".concat(W):"");return J.createElement(J.Fragment,null,V.show&&J.createElement("span",{className:se("".concat(f,"-show-count-suffix"),ee({},"".concat(f,"-show-count-has-suffix"),!!d),S==null?void 0:S.count),style:ae({},w==null?void 0:w.count)},oe),d)}return null};return J.createElement(nl,ye({},_,{prefixCls:f,className:se(u,te),handleReset:ne,value:T,focused:A,triggerFocus:B,suffix:le(),disabled:h,classes:y,classNames:S,styles:w}),ie())});function Ny(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,s){if(t[s])return t[s];var v=r[s];return typeof v=="function"?v.bind(r):v}}):e}function Dy(e,t){var n=p.useRef(null);function r(){try{var v=e.selectionStart,C=e.selectionEnd,c=e.value,i=c.substring(0,v),f=c.substring(C);n.current={start:v,end:C,value:c,beforeTxt:i,afterTxt:f}}catch{}}function s(){if(e&&n.current&&t)try{var v=e.value,C=n.current,c=C.beforeTxt,i=C.afterTxt,f=C.start,h=v.length;if(v.endsWith(i))h=v.length-n.current.afterTxt.length;else if(v.startsWith(c))h=c.length;else{var o=c[f-1],u=v.indexOf(o,f-1);u!==-1&&(h=u+1)}e.setSelectionRange(h,h)}catch(a){sn(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(a.message))}}return[r,s]}var jy=function(){var t=p.useState(!1),n=ge(t,2),r=n[0],s=n[1];return It(function(){s(ks())},[]),r},Fy=200,By=600;function ky(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,s=e.upDisabled,v=e.downDisabled,C=e.onStep,c=p.useRef(),i=p.useRef([]),f=p.useRef();f.current=C;var h=function(){clearTimeout(c.current)},o=function(y,S){y.preventDefault(),h(),f.current(S);function w(){f.current(S),c.current=setTimeout(w,Fy)}c.current=setTimeout(w,By)};p.useEffect(function(){return function(){h(),i.current.forEach(function(b){return wt.cancel(b)})}},[]);var u=jy();if(u)return null;var a="".concat(t,"-handler"),d=se(a,"".concat(a,"-up"),ee({},"".concat(a,"-up-disabled"),s)),g=se(a,"".concat(a,"-down"),ee({},"".concat(a,"-down-disabled"),v)),l=function(){return i.current.push(wt(h))},m={unselectable:"on",role:"button",onMouseUp:l,onMouseLeave:l};return p.createElement("div",{className:"".concat(a,"-wrap")},p.createElement("span",ye({},m,{onMouseDown:function(y){o(y,!0)},"aria-label":"Increase Value","aria-disabled":s,className:d}),n||p.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),p.createElement("span",ye({},m,{onMouseDown:function(y){o(y,!1)},"aria-label":"Decrease Value","aria-disabled":v,className:g}),r||p.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function Fc(e){var t=typeof e=="number"?Ho(e):_r(e).fullStr,n=t.includes(".");return n?_r(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const zy=function(){var e=p.useRef(0),t=function(){wt.cancel(e.current)};return p.useEffect(function(){return t},[]),function(n){t(),e.current=wt(function(){n()})}};var Hy=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Vy=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Bc=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},kc=function(t){var n=Mn(t);return n.isInvalidate()?null:n},Wy=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,s=e.style,v=e.min,C=e.max,c=e.step,i=c===void 0?1:c,f=e.defaultValue,h=e.value,o=e.disabled,u=e.readOnly,a=e.upHandler,d=e.downHandler,g=e.keyboard,l=e.changeOnWheel,m=l===void 0?!1:l,b=e.controls,y=b===void 0?!0:b;e.classNames;var S=e.stringMode,w=e.parser,x=e.formatter,E=e.precision,_=e.decimalSeparator,$=e.onChange,I=e.onInput,A=e.onPressEnter,F=e.onStep,z=e.changeOnBlur,D=z===void 0?!0:z,H=e.domRef,B=it(e,Hy),j="".concat(n,"-input"),N=p.useRef(null),O=p.useState(!1),P=ge(O,2),T=P[0],M=P[1],k=p.useRef(!1),L=p.useRef(!1),R=p.useRef(!1),V=p.useState(function(){return Mn(h??f)}),W=ge(V,2),Y=W[0],Q=W[1];function G(Ve){h===void 0&&Q(Ve)}var K=p.useCallback(function(Ve,Pe){if(!Pe)return E>=0?E:Math.max(xr(Ve),xr(i))},[E,i]),re=p.useCallback(function(Ve){var Pe=String(Ve);if(w)return w(Pe);var Ne=Pe;return _&&(Ne=Ne.replace(_,".")),Ne.replace(/[^\w.-]+/g,"")},[w,_]),q=p.useRef(""),X=p.useCallback(function(Ve,Pe){if(x)return x(Ve,{userTyping:Pe,input:String(q.current)});var Ne=typeof Ve=="number"?Ho(Ve):Ve;if(!Pe){var Ee=K(Ne,Pe);if(tl(Ne)&&(_||Ee>=0)){var Je=_||".";Ne=ao(Ne,Je,Ee)}}return Ne},[x,K,_]),Z=p.useState(function(){var Ve=f??h;return Y.isInvalidate()&&["string","number"].includes(et(Ve))?Number.isNaN(Ve)?"":Ve:X(Y.toString(),!1)}),ne=ge(Z,2),te=ne[0],ie=ne[1];q.current=te;function le(Ve,Pe){ie(X(Ve.isInvalidate()?Ve.toString(!1):Ve.toString(!Pe),Pe))}var fe=p.useMemo(function(){return kc(C)},[C,E]),ce=p.useMemo(function(){return kc(v)},[v,E]),oe=p.useMemo(function(){return!fe||!Y||Y.isInvalidate()?!1:fe.lessEquals(Y)},[fe,Y]),ue=p.useMemo(function(){return!ce||!Y||Y.isInvalidate()?!1:Y.lessEquals(ce)},[ce,Y]),he=Dy(N.current,T),pe=ge(he,2),ve=pe[0],xe=pe[1],Te=function(Pe){return fe&&!Pe.lessEquals(fe)?fe:ce&&!ce.lessEquals(Pe)?ce:null},be=function(Pe){return!Te(Pe)},Ce=function(Pe,Ne){var Ee=Pe,Je=be(Ee)||Ee.isEmpty();if(!Ee.isEmpty()&&!Ne&&(Ee=Te(Ee)||Ee,Je=!0),!u&&!o&&Je){var Fe=Ee.toString(),Re=K(Fe,Ne);return Re>=0&&(Ee=Mn(ao(Fe,".",Re)),be(Ee)||(Ee=Mn(ao(Fe,".",Re,!0)))),Ee.equals(Y)||(G(Ee),$==null||$(Ee.isEmpty()?null:Bc(S,Ee)),h===void 0&&le(Ee,Ne)),Ee}return Y},He=zy(),De=function Ve(Pe){if(ve(),q.current=Pe,ie(Pe),!L.current){var Ne=re(Pe),Ee=Mn(Ne);Ee.isNaN()||Ce(Ee,!0)}I==null||I(Pe),He(function(){var Je=Pe;w||(Je=Pe.replace(/。/g,".")),Je!==Pe&&Ve(Je)})},we=function(){L.current=!0},Ae=function(){L.current=!1,De(N.current.value)},Qe=function(Pe){De(Pe.target.value)},$e=function(Pe){var Ne;if(!(Pe&&oe||!Pe&&ue)){k.current=!1;var Ee=Mn(R.current?Fc(i):i);Pe||(Ee=Ee.negate());var Je=(Y||Mn(0)).add(Ee.toString()),Fe=Ce(Je,!1);F==null||F(Bc(S,Fe),{offset:R.current?Fc(i):i,type:Pe?"up":"down"}),(Ne=N.current)===null||Ne===void 0||Ne.focus()}},je=function(Pe){var Ne=Mn(re(te)),Ee;Ne.isNaN()?Ee=Ce(Y,Pe):Ee=Ce(Ne,Pe),h!==void 0?le(Y,!1):Ee.isNaN()||le(Ee,!1)},Ue=function(){k.current=!0},ft=function(Pe){var Ne=Pe.key,Ee=Pe.shiftKey;k.current=!0,R.current=Ee,Ne==="Enter"&&(L.current||(k.current=!1),je(!1),A==null||A(Pe)),g!==!1&&!L.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Ne)&&($e(Ne==="Up"||Ne==="ArrowUp"),Pe.preventDefault())},qe=function(){k.current=!1,R.current=!1};p.useEffect(function(){if(m&&T){var Ve=function(Ee){$e(Ee.deltaY<0),Ee.preventDefault()},Pe=N.current;if(Pe)return Pe.addEventListener("wheel",Ve,{passive:!1}),function(){return Pe.removeEventListener("wheel",Ve)}}});var Ke=function(){D&&je(!1),M(!1),k.current=!1};return Ci(function(){Y.isInvalidate()||le(Y,!1)},[E,x]),Ci(function(){var Ve=Mn(h);Q(Ve);var Pe=Mn(re(te));(!Ve.equals(Pe)||!k.current||x)&&le(Ve,k.current)},[h]),Ci(function(){x&&xe()},[te]),p.createElement("div",{ref:H,className:se(n,r,ee(ee(ee(ee(ee({},"".concat(n,"-focused"),T),"".concat(n,"-disabled"),o),"".concat(n,"-readonly"),u),"".concat(n,"-not-a-number"),Y.isNaN()),"".concat(n,"-out-of-range"),!Y.isInvalidate()&&!be(Y))),style:s,onFocus:function(){M(!0)},onBlur:Ke,onKeyDown:ft,onKeyUp:qe,onCompositionStart:we,onCompositionEnd:Ae,onBeforeInput:Ue},y&&p.createElement(ky,{prefixCls:n,upNode:a,downNode:d,upDisabled:oe,downDisabled:ue,onStep:$e}),p.createElement("div",{className:"".concat(j,"-wrap")},p.createElement("input",ye({autoComplete:"off",role:"spinbutton","aria-valuemin":v,"aria-valuemax":C,"aria-valuenow":Y.isInvalidate()?null:Y.toString(),step:i},B,{ref:Fn(N,t),className:j,value:te,onChange:Qe,disabled:o,readOnly:u}))))}),Xy=p.forwardRef(function(e,t){var n=e.disabled,r=e.style,s=e.prefixCls,v=s===void 0?"rc-input-number":s,C=e.value,c=e.prefix,i=e.suffix,f=e.addonBefore,h=e.addonAfter,o=e.className,u=e.classNames,a=it(e,Vy),d=p.useRef(null),g=p.useRef(null),l=p.useRef(null),m=function(y){l.current&&nh(l.current,y)};return p.useImperativeHandle(t,function(){return Ny(l.current,{nativeElement:d.current.nativeElement||g.current})}),p.createElement(nl,{className:o,triggerFocus:m,prefixCls:v,value:C,disabled:n,style:r,prefix:c,suffix:i,addonAfter:h,addonBefore:f,classNames:u,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:d},p.createElement(Wy,ye({prefixCls:v,disabled:n,ref:l,domRef:g,className:u==null?void 0:u.input},a)))});const Uy=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},Ys(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new en(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},zc=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:s}=e;const v=t==="lg"?s:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:v,borderEndEndRadius:v},[`${n}-handler-up`]:{borderStartEndRadius:v},[`${n}-handler-down`]:{borderEndEndRadius:v}}}},Gy=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:s,fontSizeLG:v,controlHeightLG:C,controlHeightSM:c,colorError:i,paddingInlineSM:f,paddingBlockSM:h,paddingBlockLG:o,paddingInlineLG:u,colorTextDescription:a,motionDurationMid:d,handleHoverColor:g,paddingInline:l,paddingBlock:m,handleBg:b,handleActiveBg:y,colorTextDisabled:S,borderRadiusSM:w,borderRadiusLG:x,controlWidth:E,handleOpacity:_,handleBorderColor:$,filledHandleBg:I,lineHeightLG:A,calc:F}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tt(e)),zo(e)),{display:"inline-block",width:E,margin:0,padding:0,borderRadius:s}),If(e,{[`${t}-handler-wrap`]:{background:b,[`${t}-handler-down`]:{borderBlockStart:`${de(n)} ${r} ${$}`}}})),Af(e,{[`${t}-handler-wrap`]:{background:I,[`${t}-handler-down`]:{borderBlockStart:`${de(n)} ${r} ${$}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:b}}})),Mf(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:v,lineHeight:A,borderRadius:x,[`input${t}-input`]:{height:F(C).sub(F(n).mul(2)).equal(),padding:`${de(o)} ${de(u)}`}},"&-sm":{padding:0,borderRadius:w,[`input${t}-input`]:{height:F(c).sub(F(n).mul(2)).equal(),padding:`${de(h)} ${de(f)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:i}}},"&-group":Object.assign(Object.assign(Object.assign({},Tt(e)),Bf(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:x,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:w}}},Rf(e)),Nf(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Tt(e)),{width:"100%",padding:`${de(m)} ${de(l)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:s,outline:0,transition:`all ${d} linear`,appearance:"textfield",fontSize:"inherit"}),Df(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[t]:Object.assign(Object.assign(Object.assign({[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{opacity:1},[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",borderStartStartRadius:0,borderStartEndRadius:s,borderEndEndRadius:s,borderEndStartRadius:0,opacity:_,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${d} linear ${d}`,[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:a,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${de(n)} ${r} ${$}`,transition:`all ${d} linear`,"&:active":{background:y},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:g}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},$o()),{color:a,transition:`all ${d} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:s},[`${t}-handler-down`]:{borderEndEndRadius:s}},zc(e,"lg")),zc(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:S}})}]},Yy=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:s,controlWidth:v,borderRadiusLG:C,borderRadiusSM:c,paddingInlineLG:i,paddingInlineSM:f,paddingBlockLG:h,paddingBlockSM:o}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${de(n)} 0`}},zo(e)),{position:"relative",display:"inline-flex",width:v,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:C,paddingInlineStart:i,[`input${t}-input`]:{padding:`${de(h)} 0`}},"&-sm":{borderRadius:c,paddingInlineStart:f,[`input${t}-input`]:{padding:`${de(o)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:s},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:r,marginInlineStart:s}}})}},qy=Nt("InputNumber",e=>{const t=gt(e,Gs(e));return[Gy(t),Yy(t),Mo(t)]},Uy,{unitless:{handleOpacity:!0}});var Ky=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ih=p.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=p.useContext(Ye),s=p.useRef(null);p.useImperativeHandle(t,()=>s.current);const{className:v,rootClassName:C,size:c,disabled:i,prefixCls:f,addonBefore:h,addonAfter:o,prefix:u,bordered:a,readOnly:d,status:g,controls:l,variant:m}=e,b=Ky(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls","variant"]),y=n("input-number",f),S=tn(y),[w,x,E]=qy(y,S),{compactSize:_,compactItemClassnames:$}=Ni(y,r);let I=p.createElement($y,{className:`${y}-handler-up-inner`}),A=p.createElement(gf,{className:`${y}-handler-down-inner`});const F=typeof l=="boolean"?l:void 0;typeof l=="object"&&(I=typeof l.upIcon>"u"?I:p.createElement("span",{className:`${y}-handler-up-inner`},l.upIcon),A=typeof l.downIcon>"u"?A:p.createElement("span",{className:`${y}-handler-down-inner`},l.downIcon));const{hasFeedback:z,status:D,isFormItemInput:H,feedbackIcon:B}=p.useContext(gn),j=Hi(D,g),N=kn(W=>{var Y;return(Y=c??_)!==null&&Y!==void 0?Y:W}),O=p.useContext(Bn),P=i??O,[T,M]=Bo(m,a),k=z&&p.createElement(p.Fragment,null,B),L=se({[`${y}-lg`]:N==="large",[`${y}-sm`]:N==="small",[`${y}-rtl`]:r==="rtl",[`${y}-in-form-item`]:H},x),R=`${y}-group`,V=p.createElement(Xy,Object.assign({ref:s,disabled:P,className:se(E,S,v,C,$),upHandler:I,downHandler:A,prefixCls:y,readOnly:d,controls:F,prefix:u,suffix:k,addonAfter:o&&p.createElement(Ei,null,p.createElement(Oi,{override:!0,status:!0},o)),addonBefore:h&&p.createElement(Ei,null,p.createElement(Oi,{override:!0,status:!0},h)),classNames:{input:L,variant:se({[`${y}-${T}`]:M},Ir(y,j,z)),affixWrapper:se({[`${y}-affix-wrapper-sm`]:N==="small",[`${y}-affix-wrapper-lg`]:N==="large",[`${y}-affix-wrapper-rtl`]:r==="rtl"},x),wrapper:se({[`${R}-rtl`]:r==="rtl"},x),groupWrapper:se({[`${y}-group-wrapper-sm`]:N==="small",[`${y}-group-wrapper-lg`]:N==="large",[`${y}-group-wrapper-rtl`]:r==="rtl",[`${y}-group-wrapper-${T}`]:M},Ir(`${y}-group-wrapper`,j,z),x)}},b));return w(V)}),Vt=ih,Qy=e=>p.createElement(Ri,{theme:{components:{InputNumber:{handleVisible:!0}}}},p.createElement(ih,Object.assign({},e)));Vt._InternalPanelDoNotUseOrYouWillBeFired=Qy;const Or=e=>{let{prefixCls:t,min:n=0,max:r=100,value:s,onChange:v,className:C,formatter:c}=e;const i=`${t}-steppers`,[f,h]=p.useState(s);return p.useEffect(()=>{Number.isNaN(s)||h(s)},[s]),J.createElement(Vt,{className:se(i,C),min:n,max:r,value:f,formatter:c,size:"small",onChange:o=>{s||h(o||0),v==null||v(o)}})},Jy=e=>{let{prefixCls:t,value:n,onChange:r}=e;const s=`${t}-alpha-input`,[v,C]=p.useState(Gt(n||"#000"));p.useEffect(()=>{n&&C(n)},[n]);const c=i=>{const f=v.toHsb();f.a=(i||0)/100;const h=Gt(f);n||C(h),r==null||r(h)};return J.createElement(Or,{value:yo(v),prefixCls:t,formatter:i=>`${i}%`,className:s,onChange:c})},Zy=e=>{const{getPrefixCls:t,direction:n}=p.useContext(Ye),{prefixCls:r,className:s}=e,v=t("input-group",r),C=t("input"),[c,i]=Ks(C),f=se(v,{[`${v}-lg`]:e.size==="large",[`${v}-sm`]:e.size==="small",[`${v}-compact`]:e.compact,[`${v}-rtl`]:n==="rtl"},i,s),h=p.useContext(gn),o=p.useMemo(()=>Object.assign(Object.assign({},h),{isFormItemInput:!1}),[h]);return c(p.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},p.createElement(gn.Provider,{value:o},e.children)))},oh=e=>{let t;return typeof e=="object"&&(e!=null&&e.clearIcon)?t=e:e&&(t={clearIcon:J.createElement(Mi,null)}),t};function ah(e,t){const n=p.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var s,v,C,c;!((s=e.current)===null||s===void 0)&&s.input&&((v=e.current)===null||v===void 0?void 0:v.input.getAttribute("type"))==="password"&&(!((C=e.current)===null||C===void 0)&&C.input.hasAttribute("value"))&&((c=e.current)===null||c===void 0||c.input.removeAttribute("value"))}))};return p.useEffect(()=>(t&&r(),()=>n.current.forEach(s=>{s&&clearTimeout(s)})),[]),r}function e4(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var t4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function n4(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}const Vo=p.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:s=!0,status:v,size:C,disabled:c,onBlur:i,onFocus:f,suffix:h,allowClear:o,addonAfter:u,addonBefore:a,className:d,style:g,styles:l,rootClassName:m,onChange:b,classNames:y,variant:S}=e,w=t4(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:x,direction:E,input:_}=J.useContext(Ye),$=x("input",r),I=p.useRef(null),A=tn($),[F,z,D]=Ks($,A),{compactSize:H,compactItemClassnames:B}=Ni($,E),j=kn(X=>{var Z;return(Z=C??H)!==null&&Z!==void 0?Z:X}),N=J.useContext(Bn),O=c??N,{status:P,hasFeedback:T,feedbackIcon:M}=p.useContext(gn),k=Hi(P,v),L=e4(e)||!!T;p.useRef(L);const R=ah(I,!0),V=X=>{R(),i==null||i(X)},W=X=>{R(),f==null||f(X)},Y=X=>{R(),b==null||b(X)},Q=(T||h)&&J.createElement(J.Fragment,null,h,T&&M),G=X=>X&&J.createElement(Ei,null,J.createElement(Oi,{override:!0,status:!0},X)),K=oh(o??(_==null?void 0:_.allowClear)),[re,q]=Bo(S,s);return F(J.createElement(Ay,Object.assign({ref:Fn(t,I),prefixCls:$,autoComplete:_==null?void 0:_.autoComplete},w,{disabled:O,onBlur:V,onFocus:W,style:Object.assign(Object.assign({},_==null?void 0:_.style),g),styles:Object.assign(Object.assign({},_==null?void 0:_.styles),l),suffix:Q,allowClear:K,className:se(d,m,D,A,B,_==null?void 0:_.className),onChange:Y,addonBefore:G(a),addonAfter:G(u),classNames:Object.assign(Object.assign(Object.assign({},y),_==null?void 0:_.classNames),{input:se({[`${$}-sm`]:j==="small",[`${$}-lg`]:j==="large",[`${$}-rtl`]:E==="rtl"},y==null?void 0:y.input,(n=_==null?void 0:_.classNames)===null||n===void 0?void 0:n.input,z),variant:se({[`${$}-${re}`]:q},Ir($,k)),affixWrapper:se({[`${$}-affix-wrapper-sm`]:j==="small",[`${$}-affix-wrapper-lg`]:j==="large",[`${$}-affix-wrapper-rtl`]:E==="rtl"},z),wrapper:se({[`${$}-group-rtl`]:E==="rtl"},z),groupWrapper:se({[`${$}-group-wrapper-sm`]:j==="small",[`${$}-group-wrapper-lg`]:j==="large",[`${$}-group-wrapper-rtl`]:E==="rtl",[`${$}-group-wrapper-${re}`]:q},Ir(`${$}-group-wrapper`,k,T),z)})})))}),r4=e=>{const{componentCls:t,paddingXS:n}=e;return{[`${t}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},i4=Nt(["Input","OTP"],e=>{const t=gt(e,Gs(e));return[r4(t)]},Ys);var o4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const a4=p.forwardRef((e,t)=>{const{value:n,onChange:r,onActiveChange:s,index:v,mask:C}=e,c=o4(e,["value","onChange","onActiveChange","index","mask"]),i=n&&typeof C=="string"?C:n,f=d=>{r(v,d.target.value)},h=p.useRef(null);p.useImperativeHandle(t,()=>h.current);const o=()=>{wt(()=>{var d;const g=(d=h.current)===null||d===void 0?void 0:d.input;document.activeElement===g&&g&&g.select()})},u=d=>{let{key:g}=d;g==="ArrowLeft"?s(v-1):g==="ArrowRight"&&s(v+1),o()},a=d=>{d.key==="Backspace"&&!n&&s(v-1),o()};return p.createElement(Vo,Object.assign({},c,{ref:h,value:i,onInput:f,onFocus:o,onKeyDown:u,onKeyUp:a,onMouseDown:o,onMouseUp:o,type:C===!0?"password":"text"}))});var s4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function Ki(e){return(e||"").split("")}const l4=p.forwardRef((e,t)=>{const{prefixCls:n,length:r=6,size:s,defaultValue:v,value:C,onChange:c,formatter:i,variant:f,disabled:h,status:o,autoFocus:u,mask:a}=e,d=s4(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:g,direction:l}=p.useContext(Ye),m=g("otp",n),b=On(d,{aria:!0,data:!0,attr:!0}),y=tn(m),[S,w,x]=i4(m,y),E=kn(T=>s??T),_=p.useContext(gn),$=Hi(_.status,o),I=p.useMemo(()=>Object.assign(Object.assign({},_),{status:$,hasFeedback:!1,feedbackIcon:null}),[_,$]),A=p.useRef(null),F=p.useRef({});p.useImperativeHandle(t,()=>({focus:()=>{var T;(T=F.current[0])===null||T===void 0||T.focus()},blur:()=>{var T;for(let M=0;M<r;M+=1)(T=F.current[M])===null||T===void 0||T.blur()},nativeElement:A.current}));const z=T=>i?i(T):T,[D,H]=p.useState(Ki(z(v||"")));p.useEffect(()=>{C!==void 0&&H(Ki(C))},[C]);const B=Ht(T=>{H(T),c&&T.length===r&&T.every(M=>M)&&T.some((M,k)=>D[k]!==M)&&c(T.join(""))}),j=Ht((T,M)=>{let k=Se(D);for(let R=0;R<T;R+=1)k[R]||(k[R]="");M.length<=1?k[T]=M:k=k.slice(0,T).concat(Ki(M)),k=k.slice(0,r);for(let R=k.length-1;R>=0&&!k[R];R-=1)k.pop();const L=z(k.map(R=>R||" ").join(""));return k=Ki(L).map((R,V)=>R===" "&&!k[V]?k[V]:R),k}),N=(T,M)=>{var k;const L=j(T,M),R=Math.min(T+M.length,r-1);R!==T&&((k=F.current[R])===null||k===void 0||k.focus()),B(L)},O=T=>{var M;(M=F.current[T])===null||M===void 0||M.focus()},P={variant:f,disabled:h,status:$,mask:a};return S(p.createElement("div",Object.assign({},b,{ref:A,className:se(m,{[`${m}-sm`]:E==="small",[`${m}-lg`]:E==="large",[`${m}-rtl`]:l==="rtl"},x,w)}),p.createElement(gn.Provider,{value:I},Array.from({length:r}).map((T,M)=>{const k=`otp-${M}`,L=D[M]||"";return p.createElement(a4,Object.assign({ref:R=>{F.current[M]=R},key:k,index:M,size:E,htmlSize:1,className:`${m}-input`,onChange:N,value:L,onActiveChange:O,autoFocus:M===0&&u},P))}))))});var c4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},u4=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:c4}))},d4=p.forwardRef(u4),f4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},h4=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:f4}))},rl=p.forwardRef(h4),g4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const m4=e=>e?p.createElement(rl,null):p.createElement(d4,null),v4={click:"onClick",hover:"onMouseOver"},p4=p.forwardRef((e,t)=>{const{disabled:n,action:r="click",visibilityToggle:s=!0,iconRender:v=m4}=e,C=typeof s=="object"&&s.visible!==void 0,[c,i]=p.useState(()=>C?s.visible:!1),f=p.useRef(null);p.useEffect(()=>{C&&i(s.visible)},[C,s]);const h=ah(f),o=()=>{n||(c&&h(),i(_=>{var $;const I=!_;return typeof s=="object"&&(($=s.onVisibleChange)===null||$===void 0||$.call(s,I)),I}))},u=_=>{const $=v4[r]||"",I=v(c),A={[$]:o,className:`${_}-icon`,key:"passwordIcon",onMouseDown:F=>{F.preventDefault()},onMouseUp:F=>{F.preventDefault()}};return p.cloneElement(p.isValidElement(I)?I:p.createElement("span",null,I),A)},{className:a,prefixCls:d,inputPrefixCls:g,size:l}=e,m=g4(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:b}=p.useContext(Ye),y=b("input",g),S=b("input-password",d),w=s&&u(S),x=se(S,a,{[`${S}-${l}`]:!!l}),E=Object.assign(Object.assign({},_n(m,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:x,prefixCls:y,suffix:w});return l&&(E.size=l),p.createElement(Vo,Object.assign({ref:Fn(t,f)},E))});var b4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const C4=p.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:s,size:v,suffix:C,enterButton:c=!1,addonAfter:i,loading:f,disabled:h,onSearch:o,onChange:u,onCompositionStart:a,onCompositionEnd:d}=e,g=b4(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:l,direction:m}=p.useContext(Ye),b=p.useRef(!1),y=l("input-search",n),S=l("input",r),{compactSize:w}=Ni(y,m),x=kn(P=>{var T;return(T=v??w)!==null&&T!==void 0?T:P}),E=p.useRef(null),_=P=>{P&&P.target&&P.type==="click"&&o&&o(P.target.value,P,{source:"clear"}),u&&u(P)},$=P=>{var T;document.activeElement===((T=E.current)===null||T===void 0?void 0:T.input)&&P.preventDefault()},I=P=>{var T,M;o&&o((M=(T=E.current)===null||T===void 0?void 0:T.input)===null||M===void 0?void 0:M.value,P,{source:"input"})},A=P=>{b.current||f||I(P)},F=typeof c=="boolean"?p.createElement(mf,null):null,z=`${y}-button`;let D;const H=c||{},B=H.type&&H.type.__ANT_BUTTON===!0;B||H.type==="button"?D=An(H,Object.assign({onMouseDown:$,onClick:P=>{var T,M;(M=(T=H==null?void 0:H.props)===null||T===void 0?void 0:T.onClick)===null||M===void 0||M.call(T,P),I(P)},key:"enterButton"},B?{className:z,size:x}:{})):D=p.createElement(yt,{className:z,type:c?"primary":void 0,size:x,disabled:h,key:"enterButton",onMouseDown:$,onClick:I,loading:f,icon:F},c),i&&(D=[D,An(i,{key:"addonAfter"})]);const j=se(y,{[`${y}-rtl`]:m==="rtl",[`${y}-${x}`]:!!x,[`${y}-with-button`]:!!c},s),N=P=>{b.current=!0,a==null||a(P)},O=P=>{b.current=!1,d==null||d(P)};return p.createElement(Vo,Object.assign({ref:Fn(E,t),onPressEnter:A},g,{size:x,onCompositionStart:N,onCompositionEnd:O,prefixCls:S,addonAfter:D,suffix:C,onChange:_,className:j,disabled:h}))});var y4=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,S4=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],wa={},xn;function w4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&wa[n])return wa[n];var r=window.getComputedStyle(e),s=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),v=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),C=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),c=S4.map(function(f){return"".concat(f,":").concat(r.getPropertyValue(f))}).join(";"),i={sizingStyle:c,paddingSize:v,borderSize:C,boxSizing:s};return t&&n&&(wa[n]=i),i}function x4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;xn||(xn=document.createElement("textarea"),xn.setAttribute("tab-index","-1"),xn.setAttribute("aria-hidden","true"),document.body.appendChild(xn)),e.getAttribute("wrap")?xn.setAttribute("wrap",e.getAttribute("wrap")):xn.removeAttribute("wrap");var s=w4(e,t),v=s.paddingSize,C=s.borderSize,c=s.boxSizing,i=s.sizingStyle;xn.setAttribute("style","".concat(i,";").concat(y4)),xn.value=e.value||e.placeholder||"";var f=void 0,h=void 0,o,u=xn.scrollHeight;if(c==="border-box"?u+=C:c==="content-box"&&(u-=v),n!==null||r!==null){xn.value=" ";var a=xn.scrollHeight-v;n!==null&&(f=a*n,c==="border-box"&&(f=f+v+C),u=Math.max(f,u)),r!==null&&(h=a*r,c==="border-box"&&(h=h+v+C),o=u>h?"":"hidden",u=Math.min(h,u))}var d={height:u,overflowY:o,resize:"none"};return f&&(d.minHeight=f),h&&(d.maxHeight=h),d}var E4=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],xa=0,Ea=1,_a=2,_4=p.forwardRef(function(e,t){var n=e,r=n.prefixCls;n.onPressEnter;var s=n.defaultValue,v=n.value,C=n.autoSize,c=n.onResize,i=n.className,f=n.style,h=n.disabled,o=n.onChange;n.onInternalAutoSize;var u=it(n,E4),a=Rt(s,{value:v,postState:function(L){return L??""}}),d=ge(a,2),g=d[0],l=d[1],m=function(L){l(L.target.value),o==null||o(L)},b=p.useRef();p.useImperativeHandle(t,function(){return{textArea:b.current}});var y=p.useMemo(function(){return C&&et(C)==="object"?[C.minRows,C.maxRows]:[]},[C]),S=ge(y,2),w=S[0],x=S[1],E=!!C,_=function(){try{if(document.activeElement===b.current){var L=b.current,R=L.selectionStart,V=L.selectionEnd,W=L.scrollTop;b.current.setSelectionRange(R,V),b.current.scrollTop=W}}catch{}},$=p.useState(_a),I=ge($,2),A=I[0],F=I[1],z=p.useState(),D=ge(z,2),H=D[0],B=D[1],j=function(){F(xa)};It(function(){E&&j()},[v,w,x,E]),It(function(){if(A===xa)F(Ea);else if(A===Ea){var k=x4(b.current,!1,w,x);F(_a),B(k)}else _()},[A]);var N=p.useRef(),O=function(){wt.cancel(N.current)},P=function(L){A===_a&&(c==null||c(L),C&&(O(),N.current=wt(function(){j()})))};p.useEffect(function(){return O},[]);var T=E?H:null,M=ae(ae({},f),T);return(A===xa||A===Ea)&&(M.overflowY="hidden",M.overflowX="hidden"),p.createElement(hr,{onResize:P,disabled:!(C||c)},p.createElement("textarea",ye({},u,{ref:b,style:M,className:se(r,i,ee({},"".concat(r,"-disabled"),h)),disabled:h,value:g,onChange:m})))}),O4=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","readOnly"],$4=J.forwardRef(function(e,t){var n,r=e.defaultValue,s=e.value,v=e.onFocus,C=e.onBlur,c=e.onChange,i=e.allowClear,f=e.maxLength,h=e.onCompositionStart,o=e.onCompositionEnd,u=e.suffix,a=e.prefixCls,d=a===void 0?"rc-textarea":a,g=e.showCount,l=e.count,m=e.className,b=e.style,y=e.disabled,S=e.hidden,w=e.classNames,x=e.styles,E=e.onResize,_=e.readOnly,$=it(e,O4),I=Rt(r,{value:s,defaultValue:r}),A=ge(I,2),F=A[0],z=A[1],D=F==null?"":String(F),H=J.useState(!1),B=ge(H,2),j=B[0],N=B[1],O=J.useRef(!1),P=J.useState(null),T=ge(P,2),M=T[0],k=T[1],L=p.useRef(null),R=p.useRef(null),V=function(){var Ce;return(Ce=R.current)===null||Ce===void 0?void 0:Ce.textArea},W=function(){V().focus()};p.useImperativeHandle(t,function(){var be;return{resizableTextArea:R.current,focus:W,blur:function(){V().blur()},nativeElement:((be=L.current)===null||be===void 0?void 0:be.nativeElement)||V()}}),p.useEffect(function(){N(function(be){return!y&&be})},[y]);var Y=J.useState(null),Q=ge(Y,2),G=Q[0],K=Q[1];J.useEffect(function(){if(G){var be;(be=V()).setSelectionRange.apply(be,Se(G))}},[G]);var re=rh(l,g),q=(n=re.max)!==null&&n!==void 0?n:f,X=Number(q)>0,Z=re.strategy(D),ne=!!q&&Z>q,te=function(Ce,He){var De=He;!O.current&&re.exceedFormatter&&re.max&&re.strategy(He)>re.max&&(De=re.exceedFormatter(He,{max:re.max}),He!==De&&K([V().selectionStart||0,V().selectionEnd||0])),z(De),So(Ce.currentTarget,Ce,c,De)},ie=function(Ce){O.current=!0,h==null||h(Ce)},le=function(Ce){O.current=!1,te(Ce,Ce.currentTarget.value),o==null||o(Ce)},fe=function(Ce){te(Ce,Ce.target.value)},ce=function(Ce){var He=$.onPressEnter,De=$.onKeyDown;Ce.key==="Enter"&&He&&He(Ce),De==null||De(Ce)},oe=function(Ce){N(!0),v==null||v(Ce)},ue=function(Ce){N(!1),C==null||C(Ce)},he=function(Ce){z(""),W(),So(V(),Ce,c)},pe=u,ve;re.show&&(re.showFormatter?ve=re.showFormatter({value:D,count:Z,maxLength:q}):ve="".concat(Z).concat(X?" / ".concat(q):""),pe=J.createElement(J.Fragment,null,pe,J.createElement("span",{className:se("".concat(d,"-data-count"),w==null?void 0:w.count),style:x==null?void 0:x.count},ve)));var xe=function(Ce){var He;E==null||E(Ce),(He=V())!==null&&He!==void 0&&He.style.height&&k(!0)},Te=!$.autoSize&&!g&&!i;return J.createElement(nl,{ref:L,value:D,allowClear:i,handleReset:he,suffix:pe,prefixCls:d,classNames:ae(ae({},w),{},{affixWrapper:se(w==null?void 0:w.affixWrapper,ee(ee({},"".concat(d,"-show-count"),g),"".concat(d,"-textarea-allow-clear"),i))}),disabled:y,focused:j,className:se(m,ne&&"".concat(d,"-out-of-range")),style:ae(ae({},b),M&&!Te?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ve=="string"?ve:void 0}},hidden:S,readOnly:_},J.createElement(_4,ye({},$,{maxLength:f,onKeyDown:ce,onChange:fe,onFocus:oe,onBlur:ue,onCompositionStart:ie,onCompositionEnd:le,className:se(w==null?void 0:w.textarea),style:ae(ae({},x==null?void 0:x.textarea),{},{resize:b==null?void 0:b.resize}),disabled:y,prefixCls:d,onResize:xe,ref:R,readOnly:_})))}),T4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const P4=p.forwardRef((e,t)=>{var n,r;const{prefixCls:s,bordered:v=!0,size:C,disabled:c,status:i,allowClear:f,classNames:h,rootClassName:o,className:u,style:a,styles:d,variant:g}=e,l=T4(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:m,direction:b,textArea:y}=p.useContext(Ye),S=kn(C),w=p.useContext(Bn),x=c??w,{status:E,hasFeedback:_,feedbackIcon:$}=p.useContext(gn),I=Hi(E,i),A=p.useRef(null);p.useImperativeHandle(t,()=>{var P;return{resizableTextArea:(P=A.current)===null||P===void 0?void 0:P.resizableTextArea,focus:T=>{var M,k;n4((k=(M=A.current)===null||M===void 0?void 0:M.resizableTextArea)===null||k===void 0?void 0:k.textArea,T)},blur:()=>{var T;return(T=A.current)===null||T===void 0?void 0:T.blur()}}});const F=m("input",s),z=tn(F),[D,H,B]=Ks(F,z),[j,N]=Bo(g,v),O=oh(f??(y==null?void 0:y.allowClear));return D(p.createElement($4,Object.assign({autoComplete:y==null?void 0:y.autoComplete},l,{style:Object.assign(Object.assign({},y==null?void 0:y.style),a),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),d),disabled:x,allowClear:O,className:se(B,z,u,o,y==null?void 0:y.className),classNames:Object.assign(Object.assign(Object.assign({},h),y==null?void 0:y.classNames),{textarea:se({[`${F}-sm`]:S==="small",[`${F}-lg`]:S==="large"},H,h==null?void 0:h.textarea,(n=y==null?void 0:y.classNames)===null||n===void 0?void 0:n.textarea),variant:se({[`${F}-${j}`]:N},Ir(F,I)),affixWrapper:se(`${F}-textarea-affix-wrapper`,{[`${F}-affix-wrapper-rtl`]:b==="rtl",[`${F}-affix-wrapper-sm`]:S==="small",[`${F}-affix-wrapper-lg`]:S==="large",[`${F}-textarea-show-count`]:e.showCount||((r=e.count)===null||r===void 0?void 0:r.show)},H)}),prefixCls:F,suffix:_&&p.createElement("span",{className:`${F}-textarea-suffix`},$),ref:A})))}),Mr=Vo;Mr.Group=Zy;Mr.Search=C4;Mr.TextArea=P4;Mr.Password=p4;Mr.OTP=l4;const I4=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Hc=e=>I4.test(`#${e}`),R4=e=>{let{prefixCls:t,value:n,onChange:r}=e;const s=`${t}-hex-input`,[v,C]=p.useState(n==null?void 0:n.toHex());p.useEffect(()=>{const i=n==null?void 0:n.toHex();Hc(i)&&n&&C(io(i))},[n]);const c=i=>{const f=i.target.value;C(io(f)),Hc(io(f,!0))&&(r==null||r(Gt(f)))};return J.createElement(Mr,{className:s,value:v,prefix:"#",onChange:c,size:"small"})},M4=e=>{let{prefixCls:t,value:n,onChange:r}=e;const s=`${t}-hsb-input`,[v,C]=p.useState(Gt(n||"#000"));p.useEffect(()=>{n&&C(n)},[n]);const c=(i,f)=>{const h=v.toHsb();h[f]=f==="h"?i:(i||0)/100;const o=Gt(h);n||C(o),r==null||r(o)};return J.createElement("div",{className:s},J.createElement(Or,{max:360,min:0,value:Number(v.toHsb().h),prefixCls:t,className:s,formatter:i=>oo(i||0).toString(),onChange:i=>c(Number(i),"h")}),J.createElement(Or,{max:100,min:0,value:Number(v.toHsb().s)*100,prefixCls:t,className:s,formatter:i=>`${oo(i||0)}%`,onChange:i=>c(Number(i),"s")}),J.createElement(Or,{max:100,min:0,value:Number(v.toHsb().b)*100,prefixCls:t,className:s,formatter:i=>`${oo(i||0)}%`,onChange:i=>c(Number(i),"b")}))},L4=e=>{let{prefixCls:t,value:n,onChange:r}=e;const s=`${t}-rgb-input`,[v,C]=p.useState(Gt(n||"#000"));p.useEffect(()=>{n&&C(n)},[n]);const c=(i,f)=>{const h=v.toRgb();h[f]=i||0;const o=Gt(h);n||C(o),r==null||r(o)};return J.createElement("div",{className:s},J.createElement(Or,{max:255,min:0,value:Number(v.toRgb().r),prefixCls:t,className:s,onChange:i=>c(Number(i),"r")}),J.createElement(Or,{max:255,min:0,value:Number(v.toRgb().g),prefixCls:t,className:s,onChange:i=>c(Number(i),"g")}),J.createElement(Or,{max:255,min:0,value:Number(v.toRgb().b),prefixCls:t,className:s,onChange:i=>c(Number(i),"b")}))},A4=[Qn.hex,Qn.hsb,Qn.rgb].map(e=>({value:e,label:e.toLocaleUpperCase()})),N4=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:s,onFormatChange:v,onChange:C}=e,[c,i]=Rt(Qn.hex,{value:n,onChange:v}),f=`${t}-input`,h=u=>{i(u)},o=p.useMemo(()=>{const u={value:r,prefixCls:t,onChange:C};switch(c){case Qn.hsb:return J.createElement(M4,Object.assign({},u));case Qn.rgb:return J.createElement(L4,Object.assign({},u));case Qn.hex:default:return J.createElement(R4,Object.assign({},u))}},[c,t,r,C]);return J.createElement("div",{className:`${f}-container`},J.createElement(Zn,{value:c,variant:"borderless",getPopupContainer:u=>u,popupMatchSelectWidth:68,placement:"bottomRight",onChange:h,className:`${t}-format-select`,size:"small",options:A4}),J.createElement("div",{className:f},o),!s&&J.createElement(Jy,{prefixCls:t,value:r,onChange:C}))};var D4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Vc=()=>{const e=p.useContext(Jf),{prefixCls:t,allowClear:n,value:r,disabledAlpha:s,onChange:v,onClear:C,onChangeComplete:c}=e,i=D4(e,["prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete"]);return J.createElement(J.Fragment,null,n&&J.createElement(eh,Object.assign({prefixCls:t,value:r,onChange:f=>{v==null||v(f),C==null||C()}},i)),J.createElement(Sy,{prefixCls:t,value:r==null?void 0:r.toHsb(),disabledAlpha:s,onChange:(f,h)=>{v==null||v(Gt(f),h,!0)},onChangeComplete:f=>{c==null||c(Gt(f))}}),J.createElement(N4,Object.assign({value:r,onChange:v,prefixCls:t,disabledAlpha:s},i)))},Oa=e=>e.map(t=>(t.colors=t.colors.map(Gt),t)),j4=(e,t)=>{const{r:n,g:r,b:s,a:v}=e.toRgb(),C=new Co(e.toRgbString()).onBackground(t).toHsv();return v<=.5?C.v>.5:n*.299+r*.587+s*.114>192},Wc=e=>{let{label:t}=e;return`panel-${t}`},F4=e=>{let{prefixCls:t,presets:n,value:r,onChange:s}=e;const[v]=oi("ColorPicker"),[,C]=hn(),[c]=Rt(Oa(n),{value:Oa(n),postState:Oa}),i=`${t}-presets`,f=p.useMemo(()=>c.reduce((u,a)=>{const{defaultOpen:d=!0}=a;return d&&u.push(Wc(a)),u},[]),[c]),h=u=>{s==null||s(u)},o=c.map(u=>{var a;return{key:Wc(u),label:J.createElement("div",{className:`${i}-label`},u==null?void 0:u.label),children:J.createElement("div",{className:`${i}-items`},Array.isArray(u==null?void 0:u.colors)&&((a=u.colors)===null||a===void 0?void 0:a.length)>0?u.colors.map((d,g)=>J.createElement(Zs,{key:`preset-${g}-${d.toHexString()}`,color:Gt(d).toRgbString(),prefixCls:t,className:se(`${i}-color`,{[`${i}-color-checked`]:d.toHexString()===(r==null?void 0:r.toHexString()),[`${i}-color-bright`]:j4(d,C.colorBgElevated)}),onClick:()=>h(d)})):J.createElement("span",{className:`${i}-empty`},v.presetEmpty))}});return J.createElement("div",{className:i},J.createElement(Xf,{defaultActiveKey:f,ghost:!0,items:o}))},Xc=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=p.useContext(Zf);return Array.isArray(n)?J.createElement(F4,{value:t,presets:n,prefixCls:e,onChange:r}):null};var B4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const k4=e=>{const{prefixCls:t,presets:n,panelRender:r,color:s,onChange:v,onClear:C}=e,c=B4(e,["prefixCls","presets","panelRender","color","onChange","onClear"]),i=`${t}-inner`,f=Object.assign({prefixCls:t,value:s,onChange:v,onClear:C},c),h=J.useMemo(()=>({prefixCls:t,value:s,presets:n,onChange:v}),[t,s,n,v]),o=J.createElement("div",{className:`${i}-content`},J.createElement(Vc,null),Array.isArray(n)&&J.createElement(uy,null),J.createElement(Xc,null));return J.createElement(wy,{value:f},J.createElement(xy,{value:h},J.createElement("div",{className:i},typeof r=="function"?r(o,{components:{Picker:Vc,Presets:Xc}}):o)))};var z4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const H4=p.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:s,disabled:v,format:C,className:c,showText:i}=e,f=z4(e,["color","prefixCls","open","disabled","format","className","showText"]),h=`${r}-trigger`,o=p.useMemo(()=>n.cleared?J.createElement(eh,{prefixCls:r}):J.createElement(Zs,{prefixCls:r,color:n.toRgbString()}),[n,r]),u=()=>{const d=n.toHexString().toUpperCase(),g=yo(n);switch(C){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();case"hex":default:return g<100?`${d.slice(0,7)},${g}%`:d}},a=()=>{if(typeof i=="function")return i(n);if(i)return u()};return J.createElement("div",Object.assign({ref:t,className:se(h,c,{[`${h}-active`]:s,[`${h}-disabled`]:v})},f),o,i&&J.createElement("div",{className:`${h}-text`},a()))}),V4={};function $a(e){return e!==void 0}const W4=(e,t)=>{const{defaultValue:n,value:r}=t,s=p.useRef(Gt("")),[v,C]=p.useState(()=>{let f;$a(r)?f=r:$a(n)?f=n:f=e;const h=Gt(f||"");return s.current=h,h}),c=f=>{C(f),s.current=f},i=p.useRef(V4);return p.useEffect(()=>{if(i.current===r)return;i.current=r;const f=Gt($a(r)?r||"":s.current);s.current.cleared===!0&&(f.cleared="controlled"),c(f)},[r]),[v,c,s]},sh=(e,t)=>({backgroundImage:`conic-gradient(${t} 0 25%, transparent 0 50%, ${t} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`}),Uc=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:s,lineWidth:v,colorFillSecondary:C}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:s},sh("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",border:`${de(v)} solid ${C}`,borderRadius:"inherit"}})}},X4=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:s,colorPickerAlphaInputWidth:v,marginXXS:C,paddingXXS:c,controlHeightSM:i,marginXS:f,fontSizeIcon:h,paddingXS:o,colorTextPlaceholder:u,colorPickerInputNumberHandleWidth:a,lineWidth:d}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:s,[`${n}-input-number-input`]:{paddingInlineStart:c,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:a}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${de(v)}`,marginInlineStart:C},[`${t}-format-select${n}-select`]:{marginInlineEnd:f,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(h).add(C).equal(),fontSize:r,lineHeight:`${de(i)}`},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:s},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:C,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:C,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${de(o)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:de(e.calc(i).sub(e.calc(d).mul(2)).equal())},[`${n}-input-prefix`]:{color:u}}}}}},U4=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:s,marginSM:v,colorBgElevated:C,colorFillSecondary:c,lineWidthBold:i,colorPickerHandlerSize:f,colorPickerHandlerSizeSM:h,colorPickerSliderHeight:o}=e;return{[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:s,inset:0},marginBottom:v},[`${t}-handler`]:{width:f,height:f,border:`${de(i)} solid ${C}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${s}, 0 0 0 1px ${c}`,"&-sm":{width:h,height:h}},[`${t}-slider`]:{borderRadius:e.calc(o).div(2).equal(),[`${t}-palette`]:{height:o},[`${t}-gradient`]:{borderRadius:e.calc(o).div(2).equal(),boxShadow:s},"&-alpha":sh(`${de(o)}`,e.colorFillSecondary),"&-hue":{marginBottom:v}},[`${t}-slider-container`]:{display:"flex",gap:v,marginBottom:v,[`${t}-slider-group`]:{flex:1,"&-disabled-alpha":{display:"flex",alignItems:"center",[`${t}-slider`]:{flex:1,marginBottom:0}}}}}},G4=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:s,colorPickerPresetColorSize:v,fontSizeSM:C,colorText:c,lineHeightSM:i,lineWidth:f,borderRadius:h,colorFill:o,colorWhite:u,marginXXS:a,paddingXS:d,fontHeightSM:g}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:g,color:r,paddingInlineEnd:s}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:a},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${de(d)} 0`},"&-label":{fontSize:C,color:c,lineHeight:i},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(a).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:v,height:v,"&::before":{content:'""',pointerEvents:"none",width:e.calc(v).add(e.calc(f).mul(4)).equal(),height:e.calc(v).add(e.calc(f).mul(4)).equal(),position:"absolute",top:e.calc(f).mul(-2).equal(),insetInlineStart:e.calc(f).mul(-2).equal(),borderRadius:h,border:`${de(f)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:o},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(v).div(13).mul(5).equal(),height:e.calc(v).div(13).mul(8).equal(),border:`${de(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:u,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:C,color:r}}}},Cs=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${de(e.controlOutlineWidth)} ${n}`,outline:0}),Y4=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Gc=(e,t,n)=>{const{componentCls:r,borderRadiusSM:s,lineWidth:v,colorSplit:C,colorBorder:c,red6:i}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:s,border:`${de(v)} solid ${C}`,position:"relative",overflow:"hidden",cursor:"pointer",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:v,top:0,display:"block",width:40,height:2,transformOrigin:"right",transform:"rotate(-45deg)",backgroundColor:i},"&:hover":{borderColor:c}})}},q4=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:s,colorWarningHover:v,colorErrorOutline:C,colorWarningOutline:c}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:s},[`&${t}-trigger-active`]:Object.assign({},Cs(e,n,C))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:v},[`&${t}-trigger-active`]:Object.assign({},Cs(e,r,c))}}},K4=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:s,controlHeightXS:v,borderRadius:C,borderRadiusSM:c,borderRadiusXS:i,borderRadiusLG:f,fontSizeLG:h}=e;return{[`&${t}-lg`]:{minWidth:n,height:n,borderRadius:f,[`${t}-color-block, ${t}-clear`]:{width:s,height:s,borderRadius:C},[`${t}-trigger-text`]:{fontSize:h}},[`&${t}-sm`]:{minWidth:r,height:r,borderRadius:c,[`${t}-color-block, ${t}-clear`]:{width:v,height:v,borderRadius:i}}}},Q4=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:s,motionDurationMid:v,colorBgElevated:C,colorTextDisabled:c,colorText:i,colorBgContainerDisabled:f,borderRadius:h,marginXS:o,marginSM:u,controlHeight:a,controlHeightSM:d,colorBgTextActive:g,colorPickerPresetColorSize:l,colorPickerPreviewSize:m,lineWidth:b,colorBorder:y,paddingXXS:S,fontSize:w,colorPrimaryHover:x,controlOutline:E}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${de(u)} 0 ${de(o)}`}},[`${n}-panel`]:Object.assign({},U4(e))},Uc(e,m)),X4(e)),G4(e)),Gc(e,l,{marginInlineStart:"auto",marginBottom:o})),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:a,height:a,borderRadius:h,border:`${de(b)} solid ${y}`,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:`all ${v}`,background:C,padding:e.calc(S).sub(b).equal(),[`${n}-trigger-text`]:{marginInlineStart:o,marginInlineEnd:e.calc(o).sub(e.calc(S).sub(b)).equal(),fontSize:w,color:i},"&:hover":{borderColor:x},[`&${n}-trigger-active`]:Object.assign({},Cs(e,s,E)),"&-disabled":{color:c,background:f,cursor:"not-allowed","&:hover":{borderColor:g},[`${n}-trigger-text`]:{color:c}}},Gc(e,d)),Uc(e,d)),q4(e)),K4(e))},Y4(e))}]},J4=Nt("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,s=gt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:18,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[Q4(s)]});var Z4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Dn=e=>{const{value:t,defaultValue:n,format:r,defaultFormat:s,allowClear:v=!1,presets:C,children:c,trigger:i="click",open:f,disabled:h,placement:o="bottomLeft",arrow:u=!0,panelRender:a,showText:d,style:g,className:l,size:m,rootClassName:b,prefixCls:y,styles:S,disabledAlpha:w=!1,onFormatChange:x,onChange:E,onClear:_,onOpenChange:$,onChangeComplete:I,getPopupContainer:A,autoAdjustOverflow:F=!0,destroyTooltipOnHide:z}=e,D=Z4(e,["value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide"]),{getPrefixCls:H,direction:B,colorPicker:j}=p.useContext(Ye),N=p.useContext(Bn),O=h??N,[P,T,M]=W4("",{value:t,defaultValue:n}),[k,L]=Rt(!1,{value:f,postState:ve=>!O&&ve,onChange:$}),[R,V]=Rt(r,{value:r,defaultValue:s,onChange:x}),W=H("color-picker",y),Y=p.useMemo(()=>yo(P)<100,[P]),{status:Q}=J.useContext(gn),G=kn(m),K=tn(W),[re,q,X]=J4(W,K),Z={[`${W}-rtl`]:B},ne=se(b,X,K,Z),te=se(Ir(W,Q),{[`${W}-sm`]:G==="small",[`${W}-lg`]:G==="large"},j==null?void 0:j.className,ne,l,q),ie=se(W,ne),le=p.useRef(!0),fe=(ve,xe,Te)=>{var be;let Ce=Gt(ve);const He=t===null||!t&&n===null;(!((be=M.current)===null||be===void 0)&&be.cleared||He)&&yo(P)===0&&xe!=="alpha"&&(Ce=Sa(Ce)),w&&Y&&(Ce=Sa(Ce)),Te?le.current=!1:I==null||I(Ce),T(Ce),E==null||E(Ce,Ce.toHexString())},ce=()=>{_==null||_()},oe=ve=>{le.current=!0;let xe=Gt(ve);w&&Y&&(xe=Sa(ve)),I==null||I(xe)},ue={open:k,trigger:i,placement:o,arrow:u,rootClassName:b,getPopupContainer:A,autoAdjustOverflow:F,destroyTooltipOnHide:z},he={prefixCls:W,color:P,allowClear:v,disabled:O,disabledAlpha:w,presets:C,panelRender:a,format:R,onFormatChange:V,onChangeComplete:oe},pe=Object.assign(Object.assign({},j==null?void 0:j.style),g);return re(J.createElement(xf,Object.assign({style:S==null?void 0:S.popup,overlayInnerStyle:S==null?void 0:S.popupOverlayInner,onOpenChange:ve=>{le.current&&!O&&L(ve)},content:J.createElement(Oi,{override:!0,status:!0},J.createElement(k4,Object.assign({},he,{onChange:fe,onChangeComplete:oe,onClear:ce}))),overlayClassName:ie},ue),c||J.createElement(H4,Object.assign({open:k,className:te,style:pe,prefixCls:W,disabled:O,showText:d,format:R},D,{color:P}))))},e5=Gd(Dn,"color-picker",e=>e,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}));Dn._InternalPanelDoNotUseOrYouWillBeFired=e5;function lh(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function t5(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function Xr(e,t,n,r){var s=ul.unstable_batchedUpdates?function(C){ul.unstable_batchedUpdates(n,C)}:n;return e!=null&&e.addEventListener&&e.addEventListener(t,s,r),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,s,r)}}}var Vi=p.createContext(null),n5=function(t){var n=t.visible,r=t.maskTransitionName,s=t.getContainer,v=t.prefixCls,C=t.rootClassName,c=t.icons,i=t.countRender,f=t.showSwitch,h=t.showProgress,o=t.current,u=t.transform,a=t.count,d=t.scale,g=t.minScale,l=t.maxScale,m=t.closeIcon,b=t.onSwitchLeft,y=t.onSwitchRight,S=t.onClose,w=t.onZoomIn,x=t.onZoomOut,E=t.onRotateRight,_=t.onRotateLeft,$=t.onFlipX,I=t.onFlipY,A=t.onReset,F=t.toolbarRender,z=t.zIndex,D=t.image,H=p.useContext(Vi),B=c.rotateLeft,j=c.rotateRight,N=c.zoomIn,O=c.zoomOut,P=c.close,T=c.left,M=c.right,k=c.flipX,L=c.flipY,R="".concat(v,"-operations-operation");p.useEffect(function(){var Q=function(K){K.keyCode===me.ESC&&S()};return n&&window.addEventListener("keydown",Q),function(){window.removeEventListener("keydown",Q)}},[n]);var V=[{icon:L,onClick:I,type:"flipY"},{icon:k,onClick:$,type:"flipX"},{icon:B,onClick:_,type:"rotateLeft"},{icon:j,onClick:E,type:"rotateRight"},{icon:O,onClick:x,type:"zoomOut",disabled:d<=g},{icon:N,onClick:w,type:"zoomIn",disabled:d===l}],W=V.map(function(Q){var G,K=Q.icon,re=Q.onClick,q=Q.type,X=Q.disabled;return p.createElement("div",{className:se(R,(G={},ee(G,"".concat(v,"-operations-operation-").concat(q),!0),ee(G,"".concat(v,"-operations-operation-disabled"),!!X),G)),onClick:re,key:q},K)}),Y=p.createElement("div",{className:"".concat(v,"-operations")},W);return p.createElement(Yn,{visible:n,motionName:r},function(Q){var G=Q.className,K=Q.style;return p.createElement(Lo,{open:!0,getContainer:s??document.body},p.createElement("div",{className:se("".concat(v,"-operations-wrapper"),G,C),style:ae(ae({},K),{},{zIndex:z})},m===null?null:p.createElement("button",{className:"".concat(v,"-close"),onClick:S},m||P),f&&p.createElement(p.Fragment,null,p.createElement("div",{className:se("".concat(v,"-switch-left"),ee({},"".concat(v,"-switch-left-disabled"),o===0)),onClick:b},T),p.createElement("div",{className:se("".concat(v,"-switch-right"),ee({},"".concat(v,"-switch-right-disabled"),o===a-1)),onClick:y},M)),p.createElement("div",{className:"".concat(v,"-footer")},h&&p.createElement("div",{className:"".concat(v,"-progress")},i?i(o+1,a):"".concat(o+1," / ").concat(a)),F?F(Y,ae(ae({icons:{flipYIcon:W[0],flipXIcon:W[1],rotateLeftIcon:W[2],rotateRightIcon:W[3],zoomOutIcon:W[4],zoomInIcon:W[5]},actions:{onFlipY:I,onFlipX:$,onRotateLeft:_,onRotateRight:E,onZoomOut:x,onZoomIn:w,onReset:A,onClose:S},transform:u},H?{current:o,total:a}:{}),{},{image:D})):Y)))})},Qi={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function r5(e,t,n,r){var s=p.useRef(null),v=p.useRef([]),C=p.useState(Qi),c=ge(C,2),i=c[0],f=c[1],h=function(d){f(Qi),lo(Qi,i)||r==null||r({transform:Qi,action:d})},o=function(d,g){s.current===null&&(v.current=[],s.current=wt(function(){f(function(l){var m=l;return v.current.forEach(function(b){m=ae(ae({},m),b)}),s.current=null,r==null||r({transform:m,action:g}),m})})),v.current.push(ae(ae({},i),d))},u=function(d,g,l,m,b){var y=e.current,S=y.width,w=y.height,x=y.offsetWidth,E=y.offsetHeight,_=y.offsetLeft,$=y.offsetTop,I=d,A=i.scale*d;A>n?(A=n,I=n/i.scale):A<t&&(A=b?A:t,I=A/i.scale);var F=l??innerWidth/2,z=m??innerHeight/2,D=I-1,H=D*S*.5,B=D*w*.5,j=D*(F-i.x-_),N=D*(z-i.y-$),O=i.x-(j-H),P=i.y-(N-B);if(d<1&&A===1){var T=x*A,M=E*A,k=lh(),L=k.width,R=k.height;T<=L&&M<=R&&(O=0,P=0)}o({x:O,y:P,scale:A},g)};return{transform:i,resetTransform:h,updateTransform:o,dispatchZoomChange:u}}function Yc(e,t,n,r){var s=t+n,v=(n-r)/2;if(n>r){if(t>0)return ee({},e,v);if(t<0&&s<r)return ee({},e,-v)}else if(t<0||s>r)return ee({},e,t<0?v:-v);return{}}function ch(e,t,n,r){var s=lh(),v=s.width,C=s.height,c=null;return e<=v&&t<=C?c={x:0,y:0}:(e>v||t>C)&&(c=ae(ae({},Yc("x",n,e,v)),Yc("y",r,t,C))),c}var Ur=1,i5=1;function o5(e,t,n,r,s,v,C){var c=s.rotate,i=s.scale,f=s.x,h=s.y,o=p.useState(!1),u=ge(o,2),a=u[0],d=u[1],g=p.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),l=function(w){!t||w.button!==0||(w.preventDefault(),w.stopPropagation(),g.current={diffX:w.pageX-f,diffY:w.pageY-h,transformX:f,transformY:h},d(!0))},m=function(w){n&&a&&v({x:w.pageX-g.current.diffX,y:w.pageY-g.current.diffY},"move")},b=function(){if(n&&a){d(!1);var w=g.current,x=w.transformX,E=w.transformY,_=f!==x&&h!==E;if(!_)return;var $=e.current.offsetWidth*i,I=e.current.offsetHeight*i,A=e.current.getBoundingClientRect(),F=A.left,z=A.top,D=c%180!==0,H=ch(D?I:$,D?$:I,F,z);H&&v(ae({},H),"dragRebound")}},y=function(w){if(!(!n||w.deltaY==0)){var x=Math.abs(w.deltaY/100),E=Math.min(x,i5),_=Ur+E*r;w.deltaY>0&&(_=Ur/_),C(_,"wheel",w.clientX,w.clientY)}};return p.useEffect(function(){var S,w,x,E;if(t){x=Xr(window,"mouseup",b,!1),E=Xr(window,"mousemove",m,!1);try{window.top!==window.self&&(S=Xr(window.top,"mouseup",b,!1),w=Xr(window.top,"mousemove",m,!1))}catch{}}return function(){var _,$,I,A;(_=x)===null||_===void 0||_.remove(),($=E)===null||$===void 0||$.remove(),(I=S)===null||I===void 0||I.remove(),(A=w)===null||A===void 0||A.remove()}},[n,a,f,h,c,t]),{isMoving:a,onMouseDown:l,onMouseMove:m,onMouseUp:b,onWheel:y}}function a5(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function uh(e){var t=e.src,n=e.isCustomPlaceholder,r=e.fallback,s=p.useState(n?"loading":"normal"),v=ge(s,2),C=v[0],c=v[1],i=p.useRef(!1),f=C==="error";p.useEffect(function(){var a=!0;return a5(t).then(function(d){!d&&a&&c("error")}),function(){a=!1}},[t]),p.useEffect(function(){n&&!i.current?c("loading"):f&&c("normal")},[t]);var h=function(){c("normal")},o=function(d){i.current=!1,C==="loading"&&d!==null&&d!==void 0&&d.complete&&(d.naturalWidth||d.naturalHeight)&&(i.current=!0,h())},u=f&&r?{src:r}:{onLoad:h,src:t};return[o,u,C]}function wo(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.hypot(n,r)}function s5(e,t,n,r){var s=wo(e,n),v=wo(t,r);if(s===0&&v===0)return[e.x,e.y];var C=s/(s+v),c=e.x+C*(t.x-e.x),i=e.y+C*(t.y-e.y);return[c,i]}function l5(e,t,n,r,s,v,C){var c=s.rotate,i=s.scale,f=s.x,h=s.y,o=p.useState(!1),u=ge(o,2),a=u[0],d=u[1],g=p.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),l=function(w){g.current=ae(ae({},g.current),w)},m=function(w){if(t){w.stopPropagation(),d(!0);var x=w.touches,E=x===void 0?[]:x;E.length>1?l({point1:{x:E[0].clientX,y:E[0].clientY},point2:{x:E[1].clientX,y:E[1].clientY},eventType:"touchZoom"}):l({point1:{x:E[0].clientX-f,y:E[0].clientY-h},eventType:"move"})}},b=function(w){var x=w.touches,E=x===void 0?[]:x,_=g.current,$=_.point1,I=_.point2,A=_.eventType;if(E.length>1&&A==="touchZoom"){var F={x:E[0].clientX,y:E[0].clientY},z={x:E[1].clientX,y:E[1].clientY},D=s5($,I,F,z),H=ge(D,2),B=H[0],j=H[1],N=wo(F,z)/wo($,I);C(N,"touchZoom",B,j,!0),l({point1:F,point2:z,eventType:"touchZoom"})}else A==="move"&&(v({x:E[0].clientX-$.x,y:E[0].clientY-$.y},"move"),l({eventType:"move"}))},y=function(){if(n){if(a&&d(!1),l({eventType:"none"}),r>i)return v({x:0,y:0,scale:r},"touchZoom");var w=e.current.offsetWidth*i,x=e.current.offsetHeight*i,E=e.current.getBoundingClientRect(),_=E.left,$=E.top,I=c%180!==0,A=ch(I?x:w,I?w:x,_,$);A&&v(ae({},A),"dragRebound")}};return p.useEffect(function(){var S;return n&&t&&(S=Xr(window,"touchmove",function(w){return w.preventDefault()},{passive:!1})),function(){var w;(w=S)===null||w===void 0||w.remove()}},[n,t]),{isTouching:a,onTouchStart:m,onTouchMove:b,onTouchEnd:y}}var c5=["fallback","src","imgRef"],u5=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],d5=function(t){var n=t.fallback,r=t.src,s=t.imgRef,v=it(t,c5),C=uh({src:r,fallback:n}),c=ge(C,2),i=c[0],f=c[1];return J.createElement("img",ye({ref:function(o){s.current=o,i(o)}},v,f))},dh=function(t){var n=t.prefixCls,r=t.src,s=t.alt,v=t.imageInfo,C=t.fallback,c=t.movable,i=c===void 0?!0:c,f=t.onClose,h=t.visible,o=t.icons,u=o===void 0?{}:o,a=t.rootClassName,d=t.closeIcon,g=t.getContainer,l=t.current,m=l===void 0?0:l,b=t.count,y=b===void 0?1:b,S=t.countRender,w=t.scaleStep,x=w===void 0?.5:w,E=t.minScale,_=E===void 0?1:E,$=t.maxScale,I=$===void 0?50:$,A=t.transitionName,F=A===void 0?"zoom":A,z=t.maskTransitionName,D=z===void 0?"fade":z,H=t.imageRender,B=t.imgCommonProps,j=t.toolbarRender,N=t.onTransform,O=t.onChange,P=it(t,u5),T=p.useRef(),M=p.useContext(Vi),k=M&&y>1,L=M&&y>=1,R=p.useState(!0),V=ge(R,2),W=V[0],Y=V[1],Q=r5(T,_,I,N),G=Q.transform,K=Q.resetTransform,re=Q.updateTransform,q=Q.dispatchZoomChange,X=o5(T,i,h,x,G,re,q),Z=X.isMoving,ne=X.onMouseDown,te=X.onWheel,ie=l5(T,i,h,_,G,re,q),le=ie.isTouching,fe=ie.onTouchStart,ce=ie.onTouchMove,oe=ie.onTouchEnd,ue=G.rotate,he=G.scale,pe=se(ee({},"".concat(n,"-moving"),Z));p.useEffect(function(){W||Y(!0)},[W]);var ve=function(){K("close")},xe=function(){q(Ur+x,"zoomIn")},Te=function(){q(Ur/(Ur+x),"zoomOut")},be=function(){re({rotate:ue+90},"rotateRight")},Ce=function(){re({rotate:ue-90},"rotateLeft")},He=function(){re({flipX:!G.flipX},"flipX")},De=function(){re({flipY:!G.flipY},"flipY")},we=function(){K("reset")},Ae=function(Ke){Ke==null||Ke.preventDefault(),Ke==null||Ke.stopPropagation(),m>0&&(Y(!1),K("prev"),O==null||O(m-1,m))},Qe=function(Ke){Ke==null||Ke.preventDefault(),Ke==null||Ke.stopPropagation(),m<y-1&&(Y(!1),K("next"),O==null||O(m+1,m))},$e=function(Ke){!h||!k||(Ke.keyCode===me.LEFT?Ae():Ke.keyCode===me.RIGHT&&Qe())},je=function(Ke){h&&(he!==1?re({x:0,y:0,scale:1},"doubleClick"):q(Ur+x,"doubleClick",Ke.clientX,Ke.clientY))};p.useEffect(function(){var qe=Xr(window,"keydown",$e,!1);return function(){qe.remove()}},[h,k,m]);var Ue=J.createElement(d5,ye({},B,{width:t.width,height:t.height,imgRef:T,className:"".concat(n,"-img"),alt:s,style:{transform:"translate3d(".concat(G.x,"px, ").concat(G.y,"px, 0) scale3d(").concat(G.flipX?"-":"").concat(he,", ").concat(G.flipY?"-":"").concat(he,", 1) rotate(").concat(ue,"deg)"),transitionDuration:(!W||le)&&"0s"},fallback:C,src:r,onWheel:te,onMouseDown:ne,onDoubleClick:je,onTouchStart:fe,onTouchMove:ce,onTouchEnd:oe,onTouchCancel:oe})),ft=ae({url:r,alt:s},v);return J.createElement(J.Fragment,null,J.createElement(js,ye({transitionName:F,maskTransitionName:D,closable:!1,keyboard:!0,prefixCls:n,onClose:f,visible:h,classNames:{wrapper:pe},rootClassName:a,getContainer:g},P,{afterClose:ve}),J.createElement("div",{className:"".concat(n,"-img-wrapper")},H?H(Ue,ae({transform:G,image:ft},M?{current:m}:{})):Ue)),J.createElement(n5,{visible:h,transform:G,maskTransitionName:D,closeIcon:d,getContainer:g,prefixCls:n,rootClassName:a,icons:u,countRender:S,showSwitch:k,showProgress:L,current:m,count:y,scale:he,minScale:_,maxScale:I,toolbarRender:j,onSwitchLeft:Ae,onSwitchRight:Qe,onZoomIn:xe,onZoomOut:Te,onRotateRight:be,onRotateLeft:Ce,onFlipX:He,onFlipY:De,onClose:f,onReset:we,zIndex:P.zIndex!==void 0?P.zIndex+1:void 0,image:ft}))},ys=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function f5(e){var t=p.useState({}),n=ge(t,2),r=n[0],s=n[1],v=p.useCallback(function(c,i){return s(function(f){return ae(ae({},f),{},ee({},c,i))}),function(){s(function(f){var h=ae({},f);return delete h[c],h})}},[]),C=p.useMemo(function(){return e?e.map(function(c){if(typeof c=="string")return{data:{src:c}};var i={};return Object.keys(c).forEach(function(f){["src"].concat(Se(ys)).includes(f)&&(i[f]=c[f])}),{data:i}}):Object.keys(r).reduce(function(c,i){var f=r[i],h=f.canPreview,o=f.data;return h&&c.push({data:o,id:i}),c},[])},[e,r]);return[C,v,!!e]}var h5=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],g5=["src"],m5=function(t){var n,r=t.previewPrefixCls,s=r===void 0?"rc-image-preview":r,v=t.children,C=t.icons,c=C===void 0?{}:C,i=t.items,f=t.preview,h=t.fallback,o=et(f)==="object"?f:{},u=o.visible,a=o.onVisibleChange,d=o.getContainer,g=o.current,l=o.movable,m=o.minScale,b=o.maxScale,y=o.countRender,S=o.closeIcon,w=o.onChange,x=o.onTransform,E=o.toolbarRender,_=o.imageRender,$=it(o,h5),I=f5(i),A=ge(I,3),F=A[0],z=A[1],D=A[2],H=Rt(0,{value:g}),B=ge(H,2),j=B[0],N=B[1],O=p.useState(!1),P=ge(O,2),T=P[0],M=P[1],k=((n=F[j])===null||n===void 0?void 0:n.data)||{},L=k.src,R=it(k,g5),V=Rt(!!u,{value:u,onChange:function(le,fe){a==null||a(le,fe,j)}}),W=ge(V,2),Y=W[0],Q=W[1],G=p.useState(null),K=ge(G,2),re=K[0],q=K[1],X=p.useCallback(function(ie,le,fe,ce){var oe=D?F.findIndex(function(ue){return ue.data.src===le}):F.findIndex(function(ue){return ue.id===ie});N(oe<0?0:oe),Q(!0),q({x:fe,y:ce}),M(!0)},[F,D]);p.useEffect(function(){Y?T||N(0):M(!1)},[Y]);var Z=function(le,fe){N(le),w==null||w(le,fe)},ne=function(){Q(!1),q(null)},te=p.useMemo(function(){return{register:z,onPreview:X}},[z,X]);return p.createElement(Vi.Provider,{value:te},v,p.createElement(dh,ye({"aria-hidden":!Y,movable:l,visible:Y,prefixCls:s,closeIcon:S,onClose:ne,mousePosition:re,imgCommonProps:R,src:L,fallback:h,icons:c,minScale:m,maxScale:b,getContainer:d,current:j,count:F.length,countRender:y,onTransform:x,toolbarRender:E,imageRender:_,onChange:Z},$)))},qc=0;function v5(e,t){var n=p.useState(function(){return qc+=1,String(qc)}),r=ge(n,1),s=r[0],v=p.useContext(Vi),C={data:t,canPreview:e};return p.useEffect(function(){if(v)return v.register(s,C)},[]),p.useEffect(function(){v&&v.register(s,C)},[e,t]),s}var p5=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],b5=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],il=function(t){var n=t.src,r=t.alt,s=t.onPreviewClose,v=t.prefixCls,C=v===void 0?"rc-image":v,c=t.previewPrefixCls,i=c===void 0?"".concat(C,"-preview"):c,f=t.placeholder,h=t.fallback,o=t.width,u=t.height,a=t.style,d=t.preview,g=d===void 0?!0:d,l=t.className,m=t.onClick,b=t.onError,y=t.wrapperClassName,S=t.wrapperStyle,w=t.rootClassName,x=it(t,p5),E=f&&f!==!0,_=et(g)==="object"?g:{},$=_.src,I=_.visible,A=I===void 0?void 0:I,F=_.onVisibleChange,z=F===void 0?s:F,D=_.getContainer,H=D===void 0?void 0:D,B=_.mask,j=_.maskClassName,N=_.movable,O=_.icons,P=_.scaleStep,T=_.minScale,M=_.maxScale,k=_.imageRender,L=_.toolbarRender,R=it(_,b5),V=$??n,W=Rt(!!A,{value:A,onChange:z}),Y=ge(W,2),Q=Y[0],G=Y[1],K=uh({src:n,isCustomPlaceholder:E,fallback:h}),re=ge(K,3),q=re[0],X=re[1],Z=re[2],ne=p.useState(null),te=ge(ne,2),ie=te[0],le=te[1],fe=p.useContext(Vi),ce=!!g,oe=function(){G(!1),le(null)},ue=se(C,y,w,ee({},"".concat(C,"-error"),Z==="error")),he=p.useMemo(function(){var Te={};return ys.forEach(function(be){t[be]!==void 0&&(Te[be]=t[be])}),Te},ys.map(function(Te){return t[Te]})),pe=p.useMemo(function(){return ae(ae({},he),{},{src:V})},[V,he]),ve=v5(ce,pe),xe=function(be){var Ce=t5(be.target),He=Ce.left,De=Ce.top;fe?fe.onPreview(ve,V,He,De):(le({x:He,y:De}),G(!0)),m==null||m(be)};return p.createElement(p.Fragment,null,p.createElement("div",ye({},x,{className:ue,onClick:ce?xe:m,style:ae({width:o,height:u},S)}),p.createElement("img",ye({},he,{className:se("".concat(C,"-img"),ee({},"".concat(C,"-img-placeholder"),f===!0),l),style:ae({height:u},a),ref:q},X,{width:o,height:u,onError:b})),Z==="loading"&&p.createElement("div",{"aria-hidden":"true",className:"".concat(C,"-placeholder")},f),B&&ce&&p.createElement("div",{className:se("".concat(C,"-mask"),j),style:{display:(a==null?void 0:a.display)==="none"?"none":void 0}},B)),!fe&&ce&&p.createElement(dh,ye({"aria-hidden":!Q,visible:Q,prefixCls:i,onClose:oe,mousePosition:ie,src:V,alt:r,imageInfo:{width:o,height:u},fallback:h,getContainer:H,icons:O,movable:N,scaleStep:P,minScale:T,maxScale:M,rootClassName:w,imageRender:k,imgCommonProps:he,toolbarRender:L},R)))};il.PreviewGroup=m5;var C5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},y5=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:C5}))},S5=p.forwardRef(y5),w5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},x5=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:w5}))},E5=p.forwardRef(x5),_5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},O5=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:_5}))},Kc=p.forwardRef(O5),$5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},T5=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:$5}))},P5=p.forwardRef(T5),I5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},R5=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:I5}))},M5=p.forwardRef(R5);const Ss=e=>({position:e||"absolute",inset:0}),L5=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:s,prefixCls:v,colorTextLightSolid:C}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:C,background:new en("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${v}-mask-info`]:Object.assign(Object.assign({},Zr),{padding:`0 ${de(r)}`,[t]:{marginInlineEnd:s,svg:{verticalAlign:"baseline"}}})}},A5=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,marginXL:s,margin:v,paddingLG:C,previewOperationColorDisabled:c,previewOperationHoverColor:i,motionDurationSlow:f,iconCls:h,colorTextLightSolid:o}=e,u=new en(n).setAlpha(.1),a=u.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:s,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:v},[`${t}-close`]:{position:"fixed",top:s,right:{_skip_check_:!0,value:s},display:"flex",color:o,backgroundColor:u.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${f}`,"&:hover":{backgroundColor:a.toRgbString()},[`& > ${h}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${de(C)}`,backgroundColor:u.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${f}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${h}`]:{color:i},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${h}`]:{fontSize:e.previewOperationSize}}}}},N5=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:r,previewCls:s,zIndexPopup:v,motionDurationSlow:C}=e,c=new en(t).setAlpha(.1),i=c.clone().setAlpha(.2);return{[`${s}-switch-left, ${s}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(v).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${C}`,userSelect:"none","&:hover":{background:i.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${s}-switch-left`]:{insetInlineStart:e.marginSM},[`${s}-switch-right`]:{insetInlineEnd:e.marginSM}}},D5=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:s}=e;return[{[`${s}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Ss()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Ss()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${s}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${s}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal({unit:!1})},"&":[A5(e),N5(e)]}]},j5=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},L5(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Ss())}}},F5=e=>{const{previewCls:t}=e;return{[`${t}-root`]:jo(e,"zoom"),"&":Bs(e,!0)}},B5=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new en(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new en(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new en(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),fh=Nt("Image",e=>{const t=`${e.componentCls}-preview`,n=gt(e,{previewCls:t,modalMaskBg:new en("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[j5(n),D5(n),Md(gt(n,{componentCls:t})),F5(n)]},B5);var k5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const hh={rotateLeft:p.createElement(S5,null),rotateRight:p.createElement(E5,null),zoomIn:p.createElement(P5,null),zoomOut:p.createElement(M5,null),close:p.createElement(Rr,null),left:p.createElement(gC,null),right:p.createElement(Ef,null),flipX:p.createElement(Kc,null),flipY:p.createElement(Kc,{rotate:90})},z5=e=>{var{previewPrefixCls:t,preview:n}=e,r=k5(e,["previewPrefixCls","preview"]);const{getPrefixCls:s}=p.useContext(Ye),v=s("image",t),C=`${v}-preview`,c=s(),i=tn(v),[f,h,o]=fh(v,i),[u]=Li("ImagePreview",typeof n=="object"?n.zIndex:void 0),a=p.useMemo(()=>{var d;if(n===!1)return n;const g=typeof n=="object"?n:{},l=se(h,o,i,(d=g.rootClassName)!==null&&d!==void 0?d:"");return Object.assign(Object.assign({},g),{transitionName:Nn(c,"zoom",g.transitionName),maskTransitionName:Nn(c,"fade",g.maskTransitionName),rootClassName:l,zIndex:u})},[n]);return f(p.createElement(il.PreviewGroup,Object.assign({preview:a,previewPrefixCls:C,icons:hh},r)))},H5=z5;var Qc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const gh=e=>{var t;const{prefixCls:n,preview:r,className:s,rootClassName:v,style:C}=e,c=Qc(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:i,locale:f=Jr,getPopupContainer:h,image:o}=p.useContext(Ye),u=i("image",n),a=i(),d=f.Image||Jr.Image,g=tn(u),[l,m,b]=fh(u,g),y=se(v,m,b,g),S=se(s,m,o==null?void 0:o.className),[w]=Li("ImagePreview",typeof r=="object"?r.zIndex:void 0),x=p.useMemo(()=>{var _;if(r===!1)return r;const $=typeof r=="object"?r:{},{getContainer:I,closeIcon:A}=$,F=Qc($,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:p.createElement("div",{className:`${u}-mask-info`},p.createElement(rl,null),d==null?void 0:d.preview),icons:hh},F),{getContainer:I??h,transitionName:Nn(a,"zoom",$.transitionName),maskTransitionName:Nn(a,"fade",$.maskTransitionName),zIndex:w,closeIcon:A??((_=o==null?void 0:o.preview)===null||_===void 0?void 0:_.closeIcon)})},[r,d,(t=o==null?void 0:o.preview)===null||t===void 0?void 0:t.closeIcon]),E=Object.assign(Object.assign({},o==null?void 0:o.style),C);return l(p.createElement(il,Object.assign({prefixCls:u,preview:x,rootClassName:y,className:S,style:E},c)))};gh.PreviewGroup=H5;function V5(e){let{percent:t,prefixCls:n}=e;const r=`${n}-dot`,s=`${r}-holder`,v=`${s}-hidden`,[C,c]=p.useState(!1);It(()=>{t!==0&&c(!0)},[t!==0]);const i=Math.max(Math.min(t,100),0),f=100,h=f/5,o=f/2-h/2,u=o*2*Math.PI,a=(d,g)=>p.createElement("circle",{className:se(d,`${r}-circle`),r:o,cx:"50",cy:"50",strokeWidth:h,style:g});return C?p.createElement("span",{className:se(s,`${r}-progress`,i<=0&&v)},p.createElement("svg",{viewBox:`0 0 ${f} ${f}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i},a(`${r}-circle-bg`),a("",{strokeDasharray:`${u*i/100} ${u*(100-i)/100}`,strokeDashoffset:`${u/4}`}))):null}function W5(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,s=`${r}-holder`,v=`${s}-hidden`;return p.createElement(p.Fragment,null,p.createElement("span",{className:se(s,n>0&&v)},p.createElement("span",{className:se(r,`${t}-dot-spin`)},[1,2,3,4].map(C=>p.createElement("i",{className:`${t}-dot-item`,key:C})))),p.createElement(V5,{prefixCls:t,percent:n}))}function X5(e){const{prefixCls:t,indicator:n,percent:r}=e,s=`${t}-dot`;return n&&p.isValidElement(n)?An(n,{className:se(n.props.className,s)}):p.createElement(W5,{prefixCls:t,percent:r})}const U5=new ct("antSpinMove",{to:{opacity:1}}),G5=new ct("antRotate",{to:{transform:"rotate(405deg)"}}),Y5=e=>{const{componentCls:t,calc:n}=e;return{[`${t}`]:Object.assign(Object.assign({},Tt(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${t}-dot`]:{position:"relative",display:"inline-block",width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:U5,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:G5,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot-holder`]:{fontSize:e.dotSizeSM,i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot-holder`]:{fontSize:e.dotSizeLG,i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},q5=e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:n}},K5=Nt("Spin",e=>{const t=gt(e,{spinDotDefault:e.colorTextDescription});return[Y5(t)]},q5),Q5=200,Jc=[[30,.05],[70,.03],[96,.01]];function J5(e,t){const[n,r]=p.useState(0),s=p.useRef(),v=t==="auto";return p.useEffect(()=>(v&&e&&(r(0),s.current=setInterval(()=>{r(C=>{const c=100-C;for(let i=0;i<Jc.length;i+=1){const[f,h]=Jc[i];if(C<=f)return C+c*h}return C})},Q5)),()=>{clearInterval(s.current)}),[v,e]),v?n:t}var Z5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};let mh;function eS(e,t){return!!e&&!!t&&!isNaN(Number(t))}const vh=e=>{const{prefixCls:t,spinning:n=!0,delay:r=0,className:s,rootClassName:v,size:C="default",tip:c,wrapperClassName:i,style:f,children:h,fullscreen:o=!1,indicator:u,percent:a}=e,d=Z5(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:g}=p.useContext(Ye),l=g("spin",t),[m,b,y]=K5(l),[S,w]=p.useState(()=>n&&!eS(n,r)),x=J5(S,a);p.useEffect(()=>{if(n){const D=FC(r,()=>{w(!0)});return D(),()=>{var H;(H=D==null?void 0:D.cancel)===null||H===void 0||H.call(D)}}w(!1)},[r,n]);const E=p.useMemo(()=>typeof h<"u"&&!o,[h,o]),{direction:_,spin:$}=p.useContext(Ye),I=se(l,$==null?void 0:$.className,{[`${l}-sm`]:C==="small",[`${l}-lg`]:C==="large",[`${l}-spinning`]:S,[`${l}-show-text`]:!!c,[`${l}-rtl`]:_==="rtl"},s,!o&&v,b,y),A=se(`${l}-container`,{[`${l}-blur`]:S}),F=Object.assign(Object.assign({},$==null?void 0:$.style),f),z=p.createElement("div",Object.assign({},d,{style:F,className:I,"aria-live":"polite","aria-busy":S}),p.createElement(X5,{prefixCls:l,indicator:u??mh,percent:x}),c&&(E||o)?p.createElement("div",{className:`${l}-text`},c):null);return m(E?p.createElement("div",Object.assign({},d,{className:se(`${l}-nested-loading`,i,b,y)}),S&&p.createElement("div",{key:"loading"},z),p.createElement("div",{className:A,key:"container"},h)):o?p.createElement("div",{className:se(`${l}-fullscreen`,{[`${l}-fullscreen-show`]:S},v,b,y)},z):z)};vh.setDefaultIndicator=e=>{mh=e};let En=null,Er=e=>e(),Ti=[],Pi={};function Zc(){const{getContainer:e,duration:t,rtl:n,maxCount:r,top:s}=Pi,v=(e==null?void 0:e())||document.body;return{getContainer:()=>v,duration:t,rtl:n,maxCount:r,top:s}}const tS=J.forwardRef((e,t)=>{const{messageConfig:n,sync:r}=e,{getPrefixCls:s}=p.useContext(Ye),v=Pi.prefixCls||s("message"),C=p.useContext(E1),[c,i]=ed(Object.assign(Object.assign(Object.assign({},n),{prefixCls:v}),C.message));return J.useImperativeHandle(t,()=>{const f=Object.assign({},c);return Object.keys(f).forEach(h=>{f[h]=function(){return r(),c[h].apply(c,arguments)}}),{instance:f,sync:r}}),i}),nS=J.forwardRef((e,t)=>{const[n,r]=J.useState(Zc),s=()=>{r(Zc)};J.useEffect(s,[]);const v=Tu(),C=v.getRootPrefixCls(),c=v.getIconPrefixCls(),i=v.getTheme(),f=J.createElement(tS,{ref:t,sync:s,messageConfig:n});return J.createElement(Ri,{prefixCls:C,iconPrefixCls:c,theme:i},v.holderRender?v.holderRender(f):f)});function Wo(){if(!En){const e=document.createDocumentFragment(),t={fragment:e};En=t,Er(()=>{As(J.createElement(nS,{ref:n=>{const{instance:r,sync:s}=n||{};Promise.resolve().then(()=>{!t.instance&&r&&(t.instance=r,t.sync=s,Wo())})}}),e)});return}En.instance&&(Ti.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":{Er(()=>{const r=En.instance.open(Object.assign(Object.assign({},Pi),e.config));r==null||r.then(e.resolve),e.setCloseFn(r)});break}case"destroy":Er(()=>{En==null||En.instance.destroy(e.key)});break;default:Er(()=>{var r;const s=(r=En.instance)[t].apply(r,Se(e.args));s==null||s.then(e.resolve),e.setCloseFn(s)})}}),Ti=[])}function rS(e){Pi=Object.assign(Object.assign({},Pi),e),Er(()=>{var t;(t=En==null?void 0:En.sync)===null||t===void 0||t.call(En)})}function iS(e){const t=Ls(n=>{let r;const s={type:"open",config:e,resolve:n,setCloseFn:v=>{r=v}};return Ti.push(s),()=>{r?Er(()=>{r()}):s.skipped=!0}});return Wo(),t}function oS(e,t){const n=Ls(r=>{let s;const v={type:e,args:t,resolve:r,setCloseFn:C=>{s=C}};return Ti.push(v),()=>{s?Er(()=>{s()}):v.skipped=!0}});return Wo(),n}const aS=e=>{Ti.push({type:"destroy",key:e}),Wo()},sS=["success","info","warning","error","loading"],lS={open:iS,destroy:aS,config:rS,useMessage:rm,_InternalPanelDoNotUseOrYouWillBeFired:qg},Xo=lS;sS.forEach(e=>{Xo[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oS(e,n)}});var cS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const uS=e=>{const{prefixCls:t,className:n,closeIcon:r,closable:s,type:v,title:C,children:c,footer:i}=e,f=cS(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:h}=p.useContext(Ye),o=h(),u=t||h("modal"),a=tn(o),[d,g,l]=Nd(u,a),m=`${u}-confirm`;let b={};return v?b={closable:s??!1,title:"",footer:"",children:p.createElement(jd,Object.assign({},e,{prefixCls:u,confirmPrefixCls:m,rootPrefixCls:o,content:c}))}:b={closable:s??!0,title:C,footer:i!==null&&p.createElement(Od,Object.assign({},e)),children:c},d(p.createElement(pd,Object.assign({prefixCls:u,className:se(g,`${u}-pure-panel`,v&&m,v&&`${m}-${v}`,n,l,a)},f,{closeIcon:_d(u,r),closable:s},b)))},dS=Ud(uS);function ph(e){return Bi(zd(e))}const mn=Dd;mn.useModal=x1;mn.info=function(t){return Bi(Hd(t))};mn.success=function(t){return Bi(Vd(t))};mn.error=function(t){return Bi(Wd(t))};mn.warning=ph;mn.warn=ph;mn.confirm=function(t){return Bi(Xd(t))};mn.destroyAll=function(){for(;wr.length;){const t=wr.pop();t&&t()}};mn.config=b1;mn._InternalPanelDoNotUseOrYouWillBeFired=dS;var fS={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},hS=function(){var t=p.useRef([]),n=p.useRef(null);return p.useEffect(function(){var r=Date.now(),s=!1;t.current.forEach(function(v){if(v){s=!0;var C=v.style;C.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(C.transitionDuration="0s, 0s")}}),s&&(n.current=Date.now())}),t.current},eu=0,gS=Tr();function mS(){var e;return gS?(e=eu,eu+=1):e="TEST_OR_SSR",e}const vS=function(e){var t=p.useState(),n=ge(t,2),r=n[0],s=n[1];return p.useEffect(function(){s("rc_progress_".concat(mS()))},[]),e||r};var tu=function(t){var n=t.bg,r=t.children;return p.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function nu(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),s="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(s)})}var pS=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,s=e.gradientId,v=e.radius,C=e.style,c=e.ptg,i=e.strokeLinecap,f=e.strokeWidth,h=e.size,o=e.gapDegree,u=r&&et(r)==="object",a=u?"#FFF":void 0,d=h/2,g=p.createElement("circle",{className:"".concat(n,"-circle-path"),r:v,cx:d,cy:d,stroke:a,strokeLinecap:i,strokeWidth:f,opacity:c===0?0:1,style:C,ref:t});if(!u)return g;var l="".concat(s,"-conic"),m=o?"".concat(180+o/2,"deg"):"0deg",b=nu(r,(360-o)/360),y=nu(r,1),S="conic-gradient(from ".concat(m,", ").concat(b.join(", "),")"),w="linear-gradient(to ".concat(o?"bottom":"top",", ").concat(y.join(", "),")");return p.createElement(p.Fragment,null,p.createElement("mask",{id:l},g),p.createElement("foreignObject",{x:0,y:0,width:h,height:h,mask:"url(#".concat(l,")")},p.createElement(tu,{bg:w},p.createElement(tu,{bg:S}))))}),pi=100,Ta=function(t,n,r,s,v,C,c,i,f,h){var o=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,u=r/100*360*((360-C)/360),a=C===0?0:{bottom:0,top:180,left:90,right:-90}[c],d=(100-s)/100*n;f==="round"&&s!==100&&(d+=h/2,d>=n&&(d=n-.01));var g=pi/2;return{stroke:typeof i=="string"?i:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:d+o,transform:"rotate(".concat(v+u+a,"deg)"),transformOrigin:"".concat(g,"px ").concat(g,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},bS=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function ru(e){var t=e??[];return Array.isArray(t)?t:[t]}var CS=function(t){var n=ae(ae({},fS),t),r=n.id,s=n.prefixCls,v=n.steps,C=n.strokeWidth,c=n.trailWidth,i=n.gapDegree,f=i===void 0?0:i,h=n.gapPosition,o=n.trailColor,u=n.strokeLinecap,a=n.style,d=n.className,g=n.strokeColor,l=n.percent,m=it(n,bS),b=pi/2,y=vS(r),S="".concat(y,"-gradient"),w=b-C/2,x=Math.PI*2*w,E=f>0?90+f/2:-90,_=x*((360-f)/360),$=et(v)==="object"?v:{count:v,gap:2},I=$.count,A=$.gap,F=ru(l),z=ru(g),D=z.find(function(T){return T&&et(T)==="object"}),H=D&&et(D)==="object",B=H?"butt":u,j=Ta(x,_,0,100,E,f,h,o,B,C),N=hS(),O=function(){var M=0;return F.map(function(k,L){var R=z[L]||z[z.length-1],V=Ta(x,_,M,k,E,f,h,R,B,C);return M+=k,p.createElement(pS,{key:L,color:R,ptg:k,radius:w,prefixCls:s,gradientId:S,style:V,strokeLinecap:B,strokeWidth:C,gapDegree:f,ref:function(Y){N[L]=Y},size:pi})}).reverse()},P=function(){var M=Math.round(I*(F[0]/100)),k=100/I,L=0;return new Array(I).fill(null).map(function(R,V){var W=V<=M-1?z[0]:o,Y=W&&et(W)==="object"?"url(#".concat(S,")"):void 0,Q=Ta(x,_,L,k,E,f,h,W,"butt",C,A);return L+=(_-Q.strokeDashoffset+A)*100/_,p.createElement("circle",{key:V,className:"".concat(s,"-circle-path"),r:w,cx:b,cy:b,stroke:Y,strokeWidth:C,opacity:1,style:Q,ref:function(K){N[V]=K}})})};return p.createElement("svg",ye({className:se("".concat(s,"-circle"),d),viewBox:"0 0 ".concat(pi," ").concat(pi),style:a,id:r,role:"presentation"},m),!I&&p.createElement("circle",{className:"".concat(s,"-circle-trail"),r:w,cx:b,cy:b,stroke:o,strokeLinecap:B,strokeWidth:c||C,style:j}),I?P():O())};function dr(e){return!e||e<0?0:e>100?100:e}function xo(e){let{success:t,successPercent:n}=e,r=n;return t&&"progress"in t&&(r=t.progress),t&&"percent"in t&&(r=t.percent),r}const yS=e=>{let{percent:t,success:n,successPercent:r}=e;const s=dr(xo({success:n,successPercent:r}));return[s,dr(dr(t)-s)]},SS=e=>{let{success:t={},strokeColor:n}=e;const{strokeColor:r}=t;return[r||qa.green,n||null]},Uo=(e,t,n)=>{var r,s,v,C;let c=-1,i=-1;if(t==="step"){const f=n.steps,h=n.strokeWidth;typeof e=="string"||typeof e>"u"?(c=e==="small"?2:14,i=h??8):typeof e=="number"?[c,i]=[e,e]:[c=14,i=8]=Array.isArray(e)?e:[e.width,e.height],c*=f}else if(t==="line"){const f=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?i=f||(e==="small"?6:8):typeof e=="number"?[c,i]=[e,e]:[c=-1,i=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[c,i]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[c,i]=[e,e]:Array.isArray(e)&&(c=(s=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&s!==void 0?s:120,i=(C=(v=e[0])!==null&&v!==void 0?v:e[1])!==null&&C!==void 0?C:120));return[c,i]},wS=3,xS=e=>wS/e*100,ES=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:s,gapDegree:v,width:C=120,type:c,children:i,success:f,size:h=C,steps:o}=e,[u,a]=Uo(h,"circle");let{strokeWidth:d}=e;d===void 0&&(d=Math.max(xS(u),6));const g={width:u,height:a,fontSize:u*.15+6},l=p.useMemo(()=>{if(v||v===0)return v;if(c==="dashboard")return 75},[v,c]),m=yS(e),b=s||c==="dashboard"&&"bottom"||void 0,y=Object.prototype.toString.call(e.strokeColor)==="[object Object]",S=SS({success:f,strokeColor:e.strokeColor}),w=se(`${t}-inner`,{[`${t}-circle-gradient`]:y}),x=p.createElement(CS,{steps:o,percent:o?m[1]:m,strokeWidth:d,trailWidth:d,strokeColor:o?S[1]:S,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:l,gapPosition:b}),E=u<=20,_=p.createElement("div",{className:w,style:g},x,!E&&i);return E?p.createElement(dt,{title:i},_):_},Eo="--progress-line-stroke-color",bh="--progress-percent",iu=e=>{const t=e?"100%":"-100%";return new ct(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},_S=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Tt(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Eo})`]},height:"100%",width:`calc(1 / var(${bh}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${e.paddingXXS}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:iu(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:iu(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},OS=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},$S=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},TS=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},PS=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),IS=Nt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=gt(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[_S(n),OS(n),$S(n),TS(n)]},PS);var RS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const MS=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(n=>{let{key:r,value:s}=n;return`${s} ${r}%`}).join(", ")},LS=(e,t)=>{const{from:n=qa.blue,to:r=qa.blue,direction:s=t==="rtl"?"to left":"to right"}=e,v=RS(e,["from","to","direction"]);if(Object.keys(v).length!==0){const c=MS(v),i=`linear-gradient(${s}, ${c})`;return{background:i,[Eo]:i}}const C=`linear-gradient(${s}, ${n}, ${r})`;return{background:C,[Eo]:C}},AS=e=>{const{prefixCls:t,direction:n,percent:r,size:s,strokeWidth:v,strokeColor:C,strokeLinecap:c="round",children:i,trailColor:f=null,percentPosition:h,success:o}=e,{align:u,type:a}=h,d=C&&typeof C!="string"?LS(C,n):{[Eo]:C,background:C},g=c==="square"||c==="butt"?0:void 0,l=s??[-1,v||(s==="small"?6:8)],[m,b]=Uo(l,"line",{strokeWidth:v}),y={backgroundColor:f||void 0,borderRadius:g},S=Object.assign(Object.assign({width:`${dr(r)}%`,height:b,borderRadius:g},d),{[bh]:dr(r)/100}),w=xo(e),x={width:`${dr(w)}%`,height:b,borderRadius:g,backgroundColor:o==null?void 0:o.strokeColor},E={width:m<0?"100%":m},_=p.createElement("div",{className:`${t}-inner`,style:y},p.createElement("div",{className:se(`${t}-bg`,`${t}-bg-${a}`),style:S},a==="inner"&&i),w!==void 0&&p.createElement("div",{className:`${t}-success-bg`,style:x})),$=a==="outer"&&u==="start",I=a==="outer"&&u==="end";return a==="outer"&&u==="center"?p.createElement("div",{className:`${t}-layout-bottom`},_,i):p.createElement("div",{className:`${t}-outer`,style:E},$&&i,_,I&&i)},NS=e=>{const{size:t,steps:n,percent:r=0,strokeWidth:s=8,strokeColor:v,trailColor:C=null,prefixCls:c,children:i}=e,f=Math.round(n*(r/100)),o=t??[t==="small"?2:14,s],[u,a]=Uo(o,"step",{steps:n,strokeWidth:s}),d=u/n,g=new Array(n);for(let l=0;l<n;l++){const m=Array.isArray(v)?v[l]:v;g[l]=p.createElement("div",{key:l,className:se(`${c}-steps-item`,{[`${c}-steps-item-active`]:l<=f-1}),style:{backgroundColor:l<=f-1?m:C,width:d,height:a}})}return p.createElement("div",{className:`${c}-steps-outer`},g,i)};var DS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const jS=["normal","exception","active","success"],FS=p.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:s,steps:v,strokeColor:C,percent:c=0,size:i="default",showInfo:f=!0,type:h="line",status:o,format:u,style:a,percentPosition:d={}}=e,g=DS(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:l="end",type:m="outer"}=d,b=Array.isArray(C)?C[0]:C,y=typeof C=="string"||Array.isArray(C)?C:void 0,S=p.useMemo(()=>{if(b){const O=typeof b=="string"?b:Object.values(b)[0];return new en(O).isLight()}return!1},[C]),w=p.useMemo(()=>{var O,P;const T=xo(e);return parseInt(T!==void 0?(O=T??0)===null||O===void 0?void 0:O.toString():(P=c??0)===null||P===void 0?void 0:P.toString(),10)},[c,e.success,e.successPercent]),x=p.useMemo(()=>!jS.includes(o)&&w>=100?"success":o||"normal",[o,w]),{getPrefixCls:E,direction:_,progress:$}=p.useContext(Ye),I=E("progress",n),[A,F,z]=IS(I),D=h==="line",H=D&&!v,B=p.useMemo(()=>{if(!f)return null;const O=xo(e);let P;const T=u||(k=>`${k}%`),M=D&&S&&m==="inner";return m==="inner"||u||x!=="exception"&&x!=="success"?P=T(dr(c),dr(O)):x==="exception"?P=D?p.createElement(Mi,null):p.createElement(Rr,null):x==="success"&&(P=D?p.createElement(Is,null):p.createElement(hf,null)),p.createElement("span",{className:se(`${I}-text`,{[`${I}-text-bright`]:M,[`${I}-text-${l}`]:H,[`${I}-text-${m}`]:H}),title:typeof P=="string"?P:void 0},P)},[f,c,w,x,h,I,u]);let j;h==="line"?j=v?p.createElement(NS,Object.assign({},e,{strokeColor:y,prefixCls:I,steps:typeof v=="object"?v.count:v}),B):p.createElement(AS,Object.assign({},e,{strokeColor:b,prefixCls:I,direction:_,percentPosition:{align:l,type:m}}),B):(h==="circle"||h==="dashboard")&&(j=p.createElement(ES,Object.assign({},e,{strokeColor:b,prefixCls:I,progressStatus:x}),B));const N=se(I,`${I}-status-${x}`,{[`${I}-${h==="dashboard"&&"circle"||h}`]:h!=="line",[`${I}-inline-circle`]:h==="circle"&&Uo(i,"circle")[0]<=20,[`${I}-line`]:H,[`${I}-line-align-${l}`]:H,[`${I}-line-position-${m}`]:H,[`${I}-steps`]:v,[`${I}-show-info`]:f,[`${I}-${i}`]:typeof i=="string",[`${I}-rtl`]:_==="rtl"},$==null?void 0:$.className,r,s,F,z);return A(p.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},$==null?void 0:$.style),a),className:N,role:"progressbar","aria-valuenow":w},_n(g,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),j))});function ws(e,t,n){return(e-t)/(n-t)}function ol(e,t,n,r){var s=ws(t,n,r),v={};switch(e){case"rtl":v.right="".concat(s*100,"%"),v.transform="translateX(50%)";break;case"btt":v.bottom="".concat(s*100,"%"),v.transform="translateY(50%)";break;case"ttb":v.top="".concat(s*100,"%"),v.transform="translateY(-50%)";break;default:v.left="".concat(s*100,"%"),v.transform="translateX(-50%)";break}return v}function Gr(e,t){return Array.isArray(e)?e[t]:e}var Lr=p.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),BS=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],ou=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,s=e.valueIndex,v=e.onStartMove,C=e.style,c=e.render,i=e.dragging,f=e.onOffsetChange,h=e.onChangeComplete,o=e.onFocus,u=e.onMouseEnter,a=it(e,BS),d=p.useContext(Lr),g=d.min,l=d.max,m=d.direction,b=d.disabled,y=d.keyboard,S=d.range,w=d.tabIndex,x=d.ariaLabelForHandle,E=d.ariaLabelledByForHandle,_=d.ariaValueTextFormatterForHandle,$=d.styles,I=d.classNames,A="".concat(n,"-handle"),F=function(M){b||v(M,s)},z=function(M){o==null||o(M,s)},D=function(M){u(M,s)},H=function(M){if(!b&&y){var k=null;switch(M.which||M.keyCode){case me.LEFT:k=m==="ltr"||m==="btt"?-1:1;break;case me.RIGHT:k=m==="ltr"||m==="btt"?1:-1;break;case me.UP:k=m!=="ttb"?1:-1;break;case me.DOWN:k=m!=="ttb"?-1:1;break;case me.HOME:k="min";break;case me.END:k="max";break;case me.PAGE_UP:k=2;break;case me.PAGE_DOWN:k=-2;break}k!==null&&(M.preventDefault(),f(k,s))}},B=function(M){switch(M.which||M.keyCode){case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:case me.HOME:case me.END:case me.PAGE_UP:case me.PAGE_DOWN:h==null||h();break}},j=ol(m,r,g,l),N={};if(s!==null){var O;N={tabIndex:b?null:Gr(w,s),role:"slider","aria-valuemin":g,"aria-valuemax":l,"aria-valuenow":r,"aria-disabled":b,"aria-label":Gr(x,s),"aria-labelledby":Gr(E,s),"aria-valuetext":(O=Gr(_,s))===null||O===void 0?void 0:O(r),"aria-orientation":m==="ltr"||m==="rtl"?"horizontal":"vertical",onMouseDown:F,onTouchStart:F,onFocus:z,onMouseEnter:D,onKeyDown:H,onKeyUp:B}}var P=p.createElement("div",ye({ref:t,className:se(A,ee(ee({},"".concat(A,"-").concat(s+1),s!==null&&S),"".concat(A,"-dragging"),i),I.handle),style:ae(ae(ae({},j),C),$.handle)},N,a));return c&&(P=c(P,{index:s,prefixCls:n,value:r,dragging:i})),P}),kS=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],zS=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,s=e.onStartMove,v=e.onOffsetChange,C=e.values,c=e.handleRender,i=e.activeHandleRender,f=e.draggingIndex,h=e.onFocus,o=it(e,kS),u=p.useRef({});p.useImperativeHandle(t,function(){return{focus:function(w){var x;(x=u.current[w])===null||x===void 0||x.focus()}}});var a=p.useState(-1),d=ge(a,2),g=d[0],l=d[1],m=function(w,x){l(x),h==null||h(w)},b=function(w,x){l(x)},y=ae({prefixCls:n,onStartMove:s,onOffsetChange:v,render:c,onFocus:m,onMouseEnter:b},o);return p.createElement(p.Fragment,null,C.map(function(S,w){return p.createElement(ou,ye({ref:function(E){E?u.current[w]=E:delete u.current[w]},dragging:f===w,style:Gr(r,w),key:w,value:S,valueIndex:w},y))}),i&&p.createElement(ou,ye({key:"a11y"},y,{value:C[g],valueIndex:null,dragging:f!==-1,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),HS=function(t){var n=t.prefixCls,r=t.style,s=t.children,v=t.value,C=t.onClick,c=p.useContext(Lr),i=c.min,f=c.max,h=c.direction,o=c.includedStart,u=c.includedEnd,a=c.included,d="".concat(n,"-text"),g=ol(h,v,i,f);return p.createElement("span",{className:se(d,ee({},"".concat(d,"-active"),a&&o<=v&&v<=u)),style:ae(ae({},g),r),onMouseDown:function(m){m.stopPropagation()},onClick:function(){C(v)}},s)},VS=function(t){var n=t.prefixCls,r=t.marks,s=t.onClick,v="".concat(n,"-mark");return r.length?p.createElement("div",{className:v},r.map(function(C){var c=C.value,i=C.style,f=C.label;return p.createElement(HS,{key:c,prefixCls:v,style:i,value:c,onClick:s},f)})):null},WS=function(t){var n=t.prefixCls,r=t.value,s=t.style,v=t.activeStyle,C=p.useContext(Lr),c=C.min,i=C.max,f=C.direction,h=C.included,o=C.includedStart,u=C.includedEnd,a="".concat(n,"-dot"),d=h&&o<=r&&r<=u,g=ae(ae({},ol(f,r,c,i)),typeof s=="function"?s(r):s);return d&&(g=ae(ae({},g),typeof v=="function"?v(r):v)),p.createElement("span",{className:se(a,ee({},"".concat(a,"-active"),d)),style:g})},XS=function(t){var n=t.prefixCls,r=t.marks,s=t.dots,v=t.style,C=t.activeStyle,c=p.useContext(Lr),i=c.min,f=c.max,h=c.step,o=p.useMemo(function(){var u=new Set;if(r.forEach(function(d){u.add(d.value)}),s&&h!==null)for(var a=i;a<=f;)u.add(a),a+=h;return Array.from(u)},[i,f,h,s,r]);return p.createElement("div",{className:"".concat(n,"-step")},o.map(function(u){return p.createElement(WS,{prefixCls:n,key:u,value:u,style:v,activeStyle:C})}))},au=function(t){var n=t.prefixCls,r=t.style,s=t.start,v=t.end,C=t.index,c=t.onStartMove,i=t.replaceCls,f=p.useContext(Lr),h=f.direction,o=f.min,u=f.max,a=f.disabled,d=f.range,g=f.classNames,l="".concat(n,"-track"),m=ws(s,o,u),b=ws(v,o,u),y=function(E){!a&&c&&c(E,-1)},S={};switch(h){case"rtl":S.right="".concat(m*100,"%"),S.width="".concat(b*100-m*100,"%");break;case"btt":S.bottom="".concat(m*100,"%"),S.height="".concat(b*100-m*100,"%");break;case"ttb":S.top="".concat(m*100,"%"),S.height="".concat(b*100-m*100,"%");break;default:S.left="".concat(m*100,"%"),S.width="".concat(b*100-m*100,"%")}var w=i||se(l,ee(ee({},"".concat(l,"-").concat(C+1),C!==null&&d),"".concat(n,"-track-draggable"),c),g.track);return p.createElement("div",{className:w,style:ae(ae({},S),r),onMouseDown:y,onTouchStart:y})},US=function(t){var n=t.prefixCls,r=t.style,s=t.values,v=t.startPoint,C=t.onStartMove,c=p.useContext(Lr),i=c.included,f=c.range,h=c.min,o=c.styles,u=c.classNames,a=p.useMemo(function(){if(!f){if(s.length===0)return[];var g=v??h,l=s[0];return[{start:Math.min(g,l),end:Math.max(g,l)}]}for(var m=[],b=0;b<s.length-1;b+=1)m.push({start:s[b],end:s[b+1]});return m},[s,f,v,h]);if(!i)return null;var d=u.tracks||o.tracks?p.createElement(au,{index:null,prefixCls:n,start:a[0].start,end:a[a.length-1].end,replaceCls:se(u.tracks,"".concat(n,"-tracks")),style:o.tracks}):null;return p.createElement(p.Fragment,null,d,a.map(function(g,l){var m=g.start,b=g.end;return p.createElement(au,{index:l,prefixCls:n,style:ae(ae({},Gr(r,l)),o.track),start:m,end:b,key:l,onStartMove:C})}))};function su(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function GS(e,t,n,r,s,v,C,c,i){var f=p.useState(null),h=ge(f,2),o=h[0],u=h[1],a=p.useState(-1),d=ge(a,2),g=d[0],l=d[1],m=p.useState(n),b=ge(m,2),y=b[0],S=b[1],w=p.useState(n),x=ge(w,2),E=x[0],_=x[1],$=p.useRef(null),I=p.useRef(null);p.useLayoutEffect(function(){g===-1&&S(n)},[n,g]),p.useEffect(function(){return function(){document.removeEventListener("mousemove",$.current),document.removeEventListener("mouseup",I.current),document.removeEventListener("touchmove",$.current),document.removeEventListener("touchend",I.current)}},[]);var A=function(B,j){y.some(function(N,O){return N!==B[O]})&&(j!==void 0&&u(j),S(B),C(B))},F=Ht(function(H,B){if(H===-1){var j=E[0],N=E[E.length-1],O=r-j,P=s-N,T=B*(s-r);T=Math.max(T,O),T=Math.min(T,P);var M=v(j+T);T=M-j;var k=E.map(function(W){return W+T});A(k)}else{var L=(s-r)*B,R=Se(y);R[H]=E[H];var V=i(R,L,H,"dist");A(V.values,V.value)}}),z=function(B,j,N){B.stopPropagation();var O=N||n,P=O[j];l(j),u(P),_(O);var T=su(B),M=T.pageX,k=T.pageY,L=function(W){W.preventDefault();var Y=su(W),Q=Y.pageX,G=Y.pageY,K=Q-M,re=G-k,q=e.current.getBoundingClientRect(),X=q.width,Z=q.height,ne;switch(t){case"btt":ne=-re/Z;break;case"ttb":ne=re/Z;break;case"rtl":ne=-K/X;break;default:ne=K/X}F(j,ne)},R=function V(W){W.preventDefault(),document.removeEventListener("mouseup",V),document.removeEventListener("mousemove",L),document.removeEventListener("touchend",V),document.removeEventListener("touchmove",L),$.current=null,I.current=null,l(-1),c()};document.addEventListener("mouseup",R),document.addEventListener("mousemove",L),document.addEventListener("touchend",R),document.addEventListener("touchmove",L),$.current=L,I.current=R},D=p.useMemo(function(){var H=Se(n).sort(function(j,N){return j-N}),B=Se(y).sort(function(j,N){return j-N});return H.every(function(j,N){return j===B[N]})?y:n},[n,y]);return[g,o,D,z]}function YS(e,t,n,r,s,v){var C=p.useCallback(function(a){return Math.max(e,Math.min(t,a))},[e,t]),c=p.useCallback(function(a){if(n!==null){var d=e+Math.round((C(a)-e)/n)*n,g=function(y){return(String(y).split(".")[1]||"").length},l=Math.max(g(n),g(t),g(e)),m=Number(d.toFixed(l));return e<=m&&m<=t?m:null}return null},[n,e,t,C]),i=p.useCallback(function(a){var d=C(a),g=r.map(function(b){return b.value});n!==null&&g.push(c(a)),g.push(e,t);var l=g[0],m=t-e;return g.forEach(function(b){var y=Math.abs(d-b);y<=m&&(l=b,m=y)}),l},[e,t,r,n,C,c]),f=function a(d,g,l){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var b,y=d[l],S=y+g,w=[];r.forEach(function(I){w.push(I.value)}),w.push(e,t),w.push(c(y));var x=g>0?1:-1;m==="unit"?w.push(c(y+x*n)):w.push(c(S)),w=w.filter(function(I){return I!==null}).filter(function(I){return g<0?I<=y:I>=y}),m==="unit"&&(w=w.filter(function(I){return I!==y}));var E=m==="unit"?y:S;b=w[0];var _=Math.abs(b-E);if(w.forEach(function(I){var A=Math.abs(I-E);A<_&&(b=I,_=A)}),b===void 0)return g<0?e:t;if(m==="dist")return b;if(Math.abs(g)>1){var $=Se(d);return $[l]=b,a($,g-x,l,m)}return b}else{if(g==="min")return e;if(g==="max")return t}},h=function(d,g,l){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",b=d[l],y=f(d,g,l,m);return{value:y,changed:y!==b}},o=function(d){return v===null&&d===0||typeof v=="number"&&d<v},u=function(d,g,l){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",b=d.map(i),y=b[l],S=f(b,g,l,m);if(b[l]=S,s===!1){var w=v||0;l>0&&b[l-1]!==y&&(b[l]=Math.max(b[l],b[l-1]+w)),l<b.length-1&&b[l+1]!==y&&(b[l]=Math.min(b[l],b[l+1]-w))}else if(typeof v=="number"||v===null){for(var x=l+1;x<b.length;x+=1)for(var E=!0;o(b[x]-b[x-1])&&E;){var _=h(b,1,x);b[x]=_.value,E=_.changed}for(var $=l;$>0;$-=1)for(var I=!0;o(b[$]-b[$-1])&&I;){var A=h(b,-1,$-1);b[$-1]=A.value,I=A.changed}for(var F=b.length-1;F>0;F-=1)for(var z=!0;o(b[F]-b[F-1])&&z;){var D=h(b,-1,F-1);b[F-1]=D.value,z=D.changed}for(var H=0;H<b.length-1;H+=1)for(var B=!0;o(b[H+1]-b[H])&&B;){var j=h(b,1,H+1);b[H+1]=j.value,B=j.changed}}return{value:b[l],values:b}};return[i,u]}var qS=p.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,s=e.className,v=e.style,C=e.classNames,c=e.styles,i=e.disabled,f=i===void 0?!1:i,h=e.keyboard,o=h===void 0?!0:h,u=e.autoFocus,a=e.onFocus,d=e.onBlur,g=e.min,l=g===void 0?0:g,m=e.max,b=m===void 0?100:m,y=e.step,S=y===void 0?1:y,w=e.value,x=e.defaultValue,E=e.range,_=e.count,$=e.onChange,I=e.onBeforeChange,A=e.onAfterChange,F=e.onChangeComplete,z=e.allowCross,D=z===void 0?!0:z,H=e.pushable,B=H===void 0?!1:H,j=e.draggableTrack,N=e.reverse,O=e.vertical,P=e.included,T=P===void 0?!0:P,M=e.startPoint,k=e.trackStyle,L=e.handleStyle,R=e.railStyle,V=e.dotStyle,W=e.activeDotStyle,Y=e.marks,Q=e.dots,G=e.handleRender,K=e.activeHandleRender,re=e.tabIndex,q=re===void 0?0:re,X=e.ariaLabelForHandle,Z=e.ariaLabelledByForHandle,ne=e.ariaValueTextFormatterForHandle,te=p.useRef(null),ie=p.useRef(null),le=p.useMemo(function(){return O?N?"ttb":"btt":N?"rtl":"ltr"},[N,O]),fe=p.useMemo(function(){return isFinite(l)?l:0},[l]),ce=p.useMemo(function(){return isFinite(b)?b:100},[b]),oe=p.useMemo(function(){return S!==null&&S<=0?1:S},[S]),ue=p.useMemo(function(){return typeof B=="boolean"?B?oe:!1:B>=0?B:!1},[B,oe]),he=p.useMemo(function(){return Object.keys(Y||{}).map(function(Xe){var ze=Y[Xe],lt={value:Number(Xe)};return ze&&et(ze)==="object"&&!p.isValidElement(ze)&&("label"in ze||"style"in ze)?(lt.style=ze.style,lt.label=ze.label):lt.label=ze,lt}).filter(function(Xe){var ze=Xe.label;return ze||typeof ze=="number"}).sort(function(Xe,ze){return Xe.value-ze.value})},[Y]),pe=YS(fe,ce,oe,he,D,ue),ve=ge(pe,2),xe=ve[0],Te=ve[1],be=Rt(x,{value:w}),Ce=ge(be,2),He=Ce[0],De=Ce[1],we=p.useMemo(function(){var Xe=He==null?[]:Array.isArray(He)?He:[He],ze=ge(Xe,1),lt=ze[0],pt=lt===void 0?fe:lt,ut=He===null?[]:[pt];if(E){if(ut=Se(Xe),_||He===void 0){var _t=_>=0?_+1:2;for(ut=ut.slice(0,_t);ut.length<_t;){var _e;ut.push((_e=ut[ut.length-1])!==null&&_e!==void 0?_e:fe)}}ut.sort(function(Oe,Be){return Oe-Be})}return ut.forEach(function(Oe,Be){ut[Be]=xe(Oe)}),ut},[He,E,fe,_,xe]),Ae=p.useRef(we);Ae.current=we;var Qe=function(ze){return E?ze:ze[0]},$e=function(ze){var lt=Se(ze).sort(function(pt,ut){return pt-ut});$&&!lo(lt,Ae.current,!0)&&$(Qe(lt)),De(lt)},je=function(){var ze=Qe(Ae.current);A==null||A(ze),sn(!A,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),F==null||F(ze)},Ue=GS(ie,le,we,fe,ce,xe,$e,je,Te),ft=ge(Ue,4),qe=ft[0],Ke=ft[1],Ve=ft[2],Pe=ft[3],Ne=function(ze,lt){if(!f){var pt=0,ut=ce-fe;we.forEach(function(Be,Ct){var jt=Math.abs(ze-Be);jt<=ut&&(ut=jt,pt=Ct)});var _t=Se(we);if(_t[pt]=ze,E&&!we.length&&_===void 0&&_t.push(ze),I==null||I(Qe(_t)),$e(_t),lt){var _e,Oe;(_e=document.activeElement)===null||_e===void 0||(Oe=_e.blur)===null||Oe===void 0||Oe.call(_e),te.current.focus(pt),Pe(lt,pt,_t)}}},Ee=function(ze){ze.preventDefault();var lt=ie.current.getBoundingClientRect(),pt=lt.width,ut=lt.height,_t=lt.left,_e=lt.top,Oe=lt.bottom,Be=lt.right,Ct=ze.clientX,jt=ze.clientY,rn;switch(le){case"btt":rn=(Oe-jt)/ut;break;case"ttb":rn=(jt-_e)/ut;break;case"rtl":rn=(Be-Ct)/pt;break;default:rn=(Ct-_t)/pt}var Yt=fe+rn*(ce-fe);Ne(xe(Yt),ze)},Je=p.useState(null),Fe=ge(Je,2),Re=Fe[0],at=Fe[1],bt=function(ze,lt){if(!f){var pt=Te(we,ze,lt);I==null||I(Qe(we)),$e(pt.values),at(pt.value)}};p.useEffect(function(){if(Re!==null){var Xe=we.indexOf(Re);Xe>=0&&te.current.focus(Xe)}at(null)},[Re]);var Ie=p.useMemo(function(){return j&&oe===null?!1:j},[j,oe]),We=function(ze,lt){Pe(ze,lt),I==null||I(Qe(Ae.current))},Me=qe!==-1;p.useEffect(function(){if(!Me){var Xe=we.lastIndexOf(Ke);te.current.focus(Xe)}},[Me]);var Ge=p.useMemo(function(){return Se(Ve).sort(function(Xe,ze){return Xe-ze})},[Ve]),ot=p.useMemo(function(){return E?[Ge[0],Ge[Ge.length-1]]:[fe,Ge[0]]},[Ge,E,fe]),st=ge(ot,2),Mt=st[0],Pt=st[1];p.useImperativeHandle(t,function(){return{focus:function(){te.current.focus(0)},blur:function(){var ze,lt=document,pt=lt.activeElement;(ze=ie.current)!==null&&ze!==void 0&&ze.contains(pt)&&(pt==null||pt.blur())}}}),p.useEffect(function(){u&&te.current.focus(0)},[]);var Dt=p.useMemo(function(){return{min:fe,max:ce,direction:le,disabled:f,keyboard:o,step:oe,included:T,includedStart:Mt,includedEnd:Pt,range:E,tabIndex:q,ariaLabelForHandle:X,ariaLabelledByForHandle:Z,ariaValueTextFormatterForHandle:ne,styles:c||{},classNames:C||{}}},[fe,ce,le,f,o,oe,T,Mt,Pt,E,q,X,Z,ne,c,C]);return p.createElement(Lr.Provider,{value:Dt},p.createElement("div",{ref:ie,className:se(r,s,ee(ee(ee(ee({},"".concat(r,"-disabled"),f),"".concat(r,"-vertical"),O),"".concat(r,"-horizontal"),!O),"".concat(r,"-with-marks"),he.length)),style:v,onMouseDown:Ee},p.createElement("div",{className:se("".concat(r,"-rail"),C==null?void 0:C.rail),style:ae(ae({},R),c==null?void 0:c.rail)}),p.createElement(US,{prefixCls:r,style:k,values:Ge,startPoint:M,onStartMove:Ie?We:void 0}),p.createElement(XS,{prefixCls:r,marks:he,dots:Q,style:V,activeStyle:W}),p.createElement(zS,{ref:te,prefixCls:r,style:L,values:Ve,draggingIndex:qe,onStartMove:We,onOffsetChange:bt,onFocus:a,onBlur:d,handleRender:G,activeHandleRender:K,onChangeComplete:je}),p.createElement(VS,{prefixCls:r,marks:he,onClick:Ne})))});const lu=p.forwardRef((e,t)=>{const{open:n}=e,r=p.useRef(null),s=p.useRef(null);function v(){wt.cancel(s.current),s.current=null}function C(){s.current=wt(()=>{var c;(c=r.current)===null||c===void 0||c.forceAlign(),s.current=null})}return p.useEffect(()=>(n?C():v(),v),[n,e.title]),p.createElement(dt,Object.assign({ref:Fn(r,t)},e))}),KS=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:s,marginFull:v,marginPart:C,colorFillContentHover:c,handleColorDisabled:i,calc:f}=e;return{[t]:Object.assign(Object.assign({},Tt(e)),{position:"relative",height:r,margin:`${de(C)} ${de(v)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${de(v)} ${de(C)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${e.motionDurationMid}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:c},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${de(e.handleLineWidth)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none","&::before":{content:'""',position:"absolute",insetInlineStart:f(e.handleLineWidth).mul(-1).equal(),insetBlockStart:f(e.handleLineWidth).mul(-1).equal(),width:f(e.handleSize).add(f(e.handleLineWidth).mul(2)).equal(),height:f(e.handleSize).add(f(e.handleLineWidth).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${de(e.handleLineWidth)} ${e.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${e.motionDurationMid},
            inset-block-start ${e.motionDurationMid},
            width ${e.motionDurationMid},
            height ${e.motionDurationMid},
            box-shadow ${e.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:f(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),insetBlockStart:f(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),width:f(e.handleSizeHover).add(f(e.handleLineWidthHover).mul(2)).equal(),height:f(e.handleSizeHover).add(f(e.handleLineWidthHover).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${de(e.handleLineWidthHover)} ${e.handleActiveColor}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal(),insetBlockStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:s,height:s,backgroundColor:e.colorBgElevated,border:`${de(e.handleLineWidth)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${de(e.handleLineWidth)} ${i}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},Ch=(e,t)=>{const{componentCls:n,railSize:r,handleSize:s,dotSize:v,marginFull:C,calc:c}=e,i=t?"paddingBlock":"paddingInline",f=t?"width":"height",h=t?"height":"width",o=t?"insetBlockStart":"insetInlineStart",u=t?"top":"insetInlineStart",a=c(r).mul(3).sub(s).div(2).equal(),d=c(s).sub(r).div(2).equal(),g=t?{borderWidth:`${de(d)} 0`,transform:`translateY(${de(c(d).mul(-1).equal())})`}:{borderWidth:`0 ${de(d)}`,transform:`translateX(${de(e.calc(d).mul(-1).equal())})`};return{[i]:r,[h]:c(r).mul(3).equal(),[`${n}-rail`]:{[f]:"100%",[h]:r},[`${n}-track,${n}-tracks`]:{[h]:r},[`${n}-track-draggable`]:Object.assign({},g),[`${n}-handle`]:{[o]:a},[`${n}-mark`]:{insetInlineStart:0,top:0,[u]:c(r).mul(3).add(t?0:C).equal(),[f]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[u]:r,[f]:"100%",[h]:r},[`${n}-dot`]:{position:"absolute",[o]:c(r).sub(v).div(2).equal()}}},QS=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},Ch(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},JS=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},Ch(e,!1)),{height:"100%"})}},ZS=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,s=e.lineWidth+1,v=e.lineWidth+1*3;return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:s,handleLineWidthHover:v,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:e.colorPrimary,handleColorDisabled:new en(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},ew=Nt("Slider",e=>{const t=gt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[KS(t),QS(t),JS(t)]},ZS);function Pa(){const[e,t]=p.useState(!1),n=p.useRef(),r=()=>{wt.cancel(n.current)},s=v=>{r(),v?t(v):n.current=wt(()=>{t(v)})};return p.useEffect(()=>r,[]),[e,s]}var tw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function nw(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const yh=J.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:s,rootClassName:v,style:C,disabled:c,tooltipPrefixCls:i,tipFormatter:f,tooltipVisible:h,getTooltipPopupContainer:o,tooltipPlacement:u,tooltip:a={},onChangeComplete:d}=e,g=tw(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:l}=e,{direction:m,slider:b,getPrefixCls:y,getPopupContainer:S}=J.useContext(Ye),w=J.useContext(Bn),x=c??w,[E,_]=Pa(),[$,I]=Pa(),A=Object.assign({},a),{open:F,placement:z,getPopupContainer:D,prefixCls:H,formatter:B}=A,j=F??h,N=(E||$)&&j!==!1,O=nw(B,f),[P,T]=Pa(),M=Z=>{d==null||d(Z),T(!1)},k=(Z,ne)=>Z||(ne?m==="rtl"?"left":"right":"top"),L=y("slider",n),[R,V,W]=ew(L),Y=se(s,b==null?void 0:b.className,v,{[`${L}-rtl`]:m==="rtl",[`${L}-lock`]:P},V,W);m==="rtl"&&!g.vertical&&(g.reverse=!g.reverse);const[Q,G]=J.useMemo(()=>r?typeof r=="object"?[!0,r.draggableTrack]:[!0,!1]:[!1],[r]);J.useEffect(()=>{const Z=()=>{wt(()=>{I(!1)},1)};return document.addEventListener("mouseup",Z),()=>{document.removeEventListener("mouseup",Z)}},[]);const K=Q&&!j,re=(Z,ne)=>{const{index:te}=ne,ie=Z.props,le=Object.assign(Object.assign({},ie),{onMouseEnter:oe=>{var ue;_(!0),(ue=ie.onMouseEnter)===null||ue===void 0||ue.call(ie,oe)},onMouseLeave:oe=>{var ue;_(!1),(ue=ie.onMouseLeave)===null||ue===void 0||ue.call(ie,oe)},onMouseDown:oe=>{var ue;I(!0),T(!0),(ue=ie.onMouseDown)===null||ue===void 0||ue.call(ie,oe)},onFocus:oe=>{var ue,he;I(!0),(ue=g.onFocus)===null||ue===void 0||ue.call(g,oe),(he=ie.onFocus)===null||he===void 0||he.call(ie,oe)},onBlur:oe=>{var ue,he;I(!1),(ue=g.onBlur)===null||ue===void 0||ue.call(g,oe),(he=ie.onBlur)===null||he===void 0||he.call(ie,oe)}}),fe=J.cloneElement(Z,le),ce=(!!j||N)&&O!==null;return K?fe:J.createElement(lu,Object.assign({},A,{prefixCls:y("tooltip",H??i),title:O?O(ne.value):"",open:ce,placement:k(z??u,l),key:te,overlayClassName:`${L}-tooltip`,getPopupContainer:D||o||S}),fe)},q=K?(Z,ne)=>{const te=J.cloneElement(Z,{style:Object.assign(Object.assign({},Z.props.style),{visibility:"hidden"})});return J.createElement(lu,Object.assign({},A,{prefixCls:y("tooltip",H??i),title:O?O(ne.value):"",open:O!==null&&N,placement:k(z??u,l),key:"tooltip",overlayClassName:`${L}-tooltip`,getPopupContainer:D||o||S}),te)}:void 0,X=Object.assign(Object.assign({},b==null?void 0:b.style),C);return R(J.createElement(qS,Object.assign({},g,{step:g.step,range:Q,draggableTrack:G,className:Y,style:X,disabled:x,ref:t,prefixCls:L,handleRender:re,activeHandleRender:q,onChangeComplete:M})))});var rw=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Sh=p.forwardRef(function(e,t){var n,r=e.prefixCls,s=r===void 0?"rc-switch":r,v=e.className,C=e.checked,c=e.defaultChecked,i=e.disabled,f=e.loadingIcon,h=e.checkedChildren,o=e.unCheckedChildren,u=e.onClick,a=e.onChange,d=e.onKeyDown,g=it(e,rw),l=Rt(!1,{value:C,defaultValue:c}),m=ge(l,2),b=m[0],y=m[1];function S(_,$){var I=b;return i||(I=_,y(I),a==null||a(I,$)),I}function w(_){_.which===me.LEFT?S(!1,_):_.which===me.RIGHT&&S(!0,_),d==null||d(_)}function x(_){var $=S(!b,_);u==null||u($,_)}var E=se(s,v,(n={},ee(n,"".concat(s,"-checked"),b),ee(n,"".concat(s,"-disabled"),i),n));return p.createElement("button",ye({},g,{type:"button",role:"switch","aria-checked":b,disabled:i,className:E,ref:t,onKeyDown:w,onClick:x}),f,p.createElement("span",{className:"".concat(s,"-inner")},p.createElement("span",{className:"".concat(s,"-inner-checked")},h),p.createElement("span",{className:"".concat(s,"-inner-unchecked")},o)))});Sh.displayName="Switch";const iw=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:s,innerMinMarginSM:v,innerMaxMarginSM:C,handleSizeSM:c,calc:i}=e,f=`${t}-inner`,h=de(i(c).add(i(r).mul(2)).equal()),o=de(i(C).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:s,height:n,lineHeight:de(n),[`${t}-inner`]:{paddingInlineStart:C,paddingInlineEnd:v,[`${f}-checked, ${f}-unchecked`]:{minHeight:n},[`${f}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${o})`,marginInlineEnd:`calc(100% - ${h} + ${o})`},[`${f}-unchecked`]:{marginTop:i(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:c,height:c},[`${t}-loading-icon`]:{top:i(i(c).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:v,paddingInlineEnd:C,[`${f}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${f}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${o})`,marginInlineEnd:`calc(-100% + ${h} - ${o})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${de(i(c).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${f}`]:{[`${f}-unchecked`]:{marginInlineStart:i(e.marginXXS).div(2).equal(),marginInlineEnd:i(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${f}`]:{[`${f}-checked`]:{marginInlineStart:i(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:i(e.marginXXS).div(2).equal()}}}}}}},ow=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},aw=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:s,handleSize:v,calc:C}=e,c=`${t}-handle`;return{[t]:{[c]:{position:"absolute",top:n,insetInlineStart:n,width:v,height:v,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:C(v).div(2).equal(),boxShadow:s,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${c}`]:{insetInlineStart:`calc(100% - ${de(C(v).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${c}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${c}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},sw=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:s,innerMaxMargin:v,handleSize:C,calc:c}=e,i=`${t}-inner`,f=de(c(C).add(c(r).mul(2)).equal()),h=de(c(v).mul(2).equal());return{[t]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:v,paddingInlineEnd:s,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${f} - ${h})`,marginInlineEnd:`calc(100% - ${f} + ${h})`},[`${i}-unchecked`]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${i}`]:{paddingInlineStart:s,paddingInlineEnd:v,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${f} + ${h})`,marginInlineEnd:`calc(-100% + ${f} - ${h})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:c(r).mul(2).equal(),marginInlineEnd:c(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:c(r).mul(-1).mul(2).equal(),marginInlineEnd:c(r).mul(2).equal()}}}}}},lw=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Tt(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:`${de(n)}`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),$s(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},cw=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:s}=e,v=t*n,C=r/2,c=2,i=v-c*2,f=C-c*2;return{trackHeight:v,trackHeightSM:C,trackMinWidth:i*2+c*4,trackMinWidthSM:f*2+c*2,trackPadding:c,handleBg:s,handleSize:i,handleSizeSM:f,handleShadow:`0 2px 4px 0 ${new en("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:i/2,innerMaxMargin:i+c+c*2,innerMinMarginSM:f/2,innerMaxMarginSM:f+c+c*2}},uw=Nt("Switch",e=>{const t=gt(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[lw(t),sw(t),aw(t),ow(t),iw(t)]},cw);var dw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const fw=p.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:s,loading:v,className:C,rootClassName:c,style:i,checked:f,value:h,defaultChecked:o,defaultValue:u,onChange:a}=e,d=dw(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[g,l]=Rt(!1,{value:f??h,defaultValue:o??u}),{getPrefixCls:m,direction:b,switch:y}=p.useContext(Ye),S=p.useContext(Bn),w=(s??S)||v,x=m("switch",n),E=p.createElement("div",{className:`${x}-handle`},v&&p.createElement(ti,{className:`${x}-loading-icon`})),[_,$,I]=uw(x),A=kn(r),F=se(y==null?void 0:y.className,{[`${x}-small`]:A==="small",[`${x}-loading`]:v,[`${x}-rtl`]:b==="rtl"},C,c,$,I),z=Object.assign(Object.assign({},y==null?void 0:y.style),i),D=function(){l(arguments.length<=0?void 0:arguments[0]),a==null||a.apply(void 0,arguments)};return _(p.createElement(Ro,{component:"Switch"},p.createElement(Sh,Object.assign({},d,{checked:g,onChange:D,prefixCls:x,className:F,style:z,disabled:w,ref:t,loadingIcon:E}))))}),ri=fw;ri.__ANT_SWITCH=!0;var hw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},gw=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:hw}))},mw=p.forwardRef(gw);const Ia=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=e.type||"",v=s.replace(/\/.*$/,"");return n.some(function(C){var c=C.trim();if(/^\*(\/\*)?$/.test(C))return!0;if(c.charAt(0)==="."){var i=r.toLowerCase(),f=c.toLowerCase(),h=[f];return(f===".jpg"||f===".jpeg")&&(h=[".jpg",".jpeg"]),h.some(function(o){return i.endsWith(o)})}return/\/\*$/.test(c)?v===c.replace(/\/.*$/,""):s===c?!0:/^\w+$/.test(c)?(sn(!1,"Upload takes an invalidate 'accept' type '".concat(c,"'.Skip for check.")),!0):!1})}return!0};function vw(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}function cu(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function pw(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(v){v.total>0&&(v.percent=v.loaded/v.total*100),e.onProgress(v)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(s){var v=e.data[s];if(Array.isArray(v)){v.forEach(function(C){n.append("".concat(s,"[]"),C)});return}n.append(s,v)}),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(v){e.onError(v)},t.onload=function(){return t.status<200||t.status>=300?e.onError(vw(e,t),cu(t)):e.onSuccess(cu(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return r["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(s){r[s]!==null&&t.setRequestHeader(s,r[s])}),t.send(n),{abort:function(){t.abort()}}}function bw(e,t){var n=e.createReader(),r=[];function s(){n.readEntries(function(v){var C=Array.prototype.slice.apply(v);r=r.concat(C);var c=!C.length;c?t(r):s()})}s()}var Cw=function(t,n,r){var s=function v(C,c){C&&(C.path=c||"",C.isFile?C.file(function(i){r(i)&&(C.fullPath&&!i.webkitRelativePath&&(Object.defineProperties(i,{webkitRelativePath:{writable:!0}}),i.webkitRelativePath=C.fullPath.replace(/^\//,""),Object.defineProperties(i,{webkitRelativePath:{writable:!1}})),n([i]))}):C.isDirectory&&bw(C,function(i){i.forEach(function(f){v(f,"".concat(c).concat(C.name,"/"))})}))};t.forEach(function(v){s(v.webkitGetAsEntry())})},yw=+new Date,Sw=0;function Ra(){return"rc-upload-".concat(yw,"-").concat(++Sw)}var ww=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],xw=function(e){fr(n,e);var t=ii(n);function n(){var r;Jt(this,n);for(var s=arguments.length,v=new Array(s),C=0;C<s;C++)v[C]=arguments[C];return r=t.call.apply(t,[this].concat(v)),ee(tt(r),"state",{uid:Ra()}),ee(tt(r),"reqs",{}),ee(tt(r),"fileInput",void 0),ee(tt(r),"_isMounted",void 0),ee(tt(r),"onChange",function(c){var i=r.props,f=i.accept,h=i.directory,o=c.target.files,u=Se(o).filter(function(a){return!h||Ia(a,f)});r.uploadFiles(u),r.reset()}),ee(tt(r),"onClick",function(c){var i=r.fileInput;if(i){var f=c.target,h=r.props.onClick;if(f&&f.tagName==="BUTTON"){var o=i.parentNode;o.focus(),f.blur()}i.click(),h&&h(c)}}),ee(tt(r),"onKeyDown",function(c){c.key==="Enter"&&r.onClick(c)}),ee(tt(r),"onFileDrop",function(c){var i=r.props.multiple;if(c.preventDefault(),c.type!=="dragover")if(r.props.directory)Cw(Array.prototype.slice.call(c.dataTransfer.items),r.uploadFiles,function(h){return Ia(h,r.props.accept)});else{var f=Se(c.dataTransfer.files).filter(function(h){return Ia(h,r.props.accept)});i===!1&&(f=f.slice(0,1)),r.uploadFiles(f)}}),ee(tt(r),"uploadFiles",function(c){var i=Se(c),f=i.map(function(h){return h.uid=Ra(),r.processFile(h,i)});Promise.all(f).then(function(h){var o=r.props.onBatchStart;o==null||o(h.map(function(u){var a=u.origin,d=u.parsedFile;return{file:a,parsedFile:d}})),h.filter(function(u){return u.parsedFile!==null}).forEach(function(u){r.post(u)})})}),ee(tt(r),"processFile",function(){var c=gr(Qt().mark(function i(f,h){var o,u,a,d,g,l,m,b,y;return Qt().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=r.props.beforeUpload,u=f,!o){w.next=14;break}return w.prev=3,w.next=6,o(f,h);case 6:u=w.sent,w.next=12;break;case 9:w.prev=9,w.t0=w.catch(3),u=!1;case 12:if(u!==!1){w.next=14;break}return w.abrupt("return",{origin:f,parsedFile:null,action:null,data:null});case 14:if(a=r.props.action,typeof a!="function"){w.next=21;break}return w.next=18,a(f);case 18:d=w.sent,w.next=22;break;case 21:d=a;case 22:if(g=r.props.data,typeof g!="function"){w.next=29;break}return w.next=26,g(f);case 26:l=w.sent,w.next=30;break;case 29:l=g;case 30:return m=(et(u)==="object"||typeof u=="string")&&u?u:f,m instanceof File?b=m:b=new File([m],f.name,{type:f.type}),y=b,y.uid=f.uid,w.abrupt("return",{origin:f,data:l,parsedFile:y,action:d});case 35:case"end":return w.stop()}},i,null,[[3,9]])}));return function(i,f){return c.apply(this,arguments)}}()),ee(tt(r),"saveFileInput",function(c){r.fileInput=c}),r}return Zt(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(s){var v=this,C=s.data,c=s.origin,i=s.action,f=s.parsedFile;if(this._isMounted){var h=this.props,o=h.onStart,u=h.customRequest,a=h.name,d=h.headers,g=h.withCredentials,l=h.method,m=c.uid,b=u||pw,y={action:i,filename:a,data:C,file:f,headers:d,withCredentials:g,method:l||"post",onProgress:function(w){var x=v.props.onProgress;x==null||x(w,f)},onSuccess:function(w,x){var E=v.props.onSuccess;E==null||E(w,f,x),delete v.reqs[m]},onError:function(w,x){var E=v.props.onError;E==null||E(w,x,f),delete v.reqs[m]}};o(c),this.reqs[m]=b(y)}}},{key:"reset",value:function(){this.setState({uid:Ra()})}},{key:"abort",value:function(s){var v=this.reqs;if(s){var C=s.uid?s.uid:s;v[C]&&v[C].abort&&v[C].abort(),delete v[C]}else Object.keys(v).forEach(function(c){v[c]&&v[c].abort&&v[c].abort(),delete v[c]})}},{key:"render",value:function(){var s,v=this.props,C=v.component,c=v.prefixCls,i=v.className,f=v.classNames,h=f===void 0?{}:f,o=v.disabled,u=v.id,a=v.style,d=v.styles,g=d===void 0?{}:d,l=v.multiple,m=v.accept,b=v.capture,y=v.children,S=v.directory,w=v.openFileDialogOnClick,x=v.onMouseEnter,E=v.onMouseLeave,_=v.hasControlInside,$=it(v,ww),I=se((s={},ee(s,c,!0),ee(s,"".concat(c,"-disabled"),o),ee(s,i,i),s)),A=S?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},F=o?{}:{onClick:w?this.onClick:function(){},onKeyDown:w?this.onKeyDown:function(){},onMouseEnter:x,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:_?void 0:"0"};return J.createElement(C,ye({},F,{className:I,role:_?void 0:"button",style:a}),J.createElement("input",ye({},On($,{aria:!0,data:!0}),{id:u,disabled:o,type:"file",ref:this.saveFileInput,onClick:function(D){return D.stopPropagation()},key:this.state.uid,style:ae({display:"none"},g.input),className:h.input,accept:m},A,{multiple:l,onChange:this.onChange},b!=null?{capture:b}:{})),y)}}]),n}(p.Component);function Ma(){}var xs=function(e){fr(n,e);var t=ii(n);function n(){var r;Jt(this,n);for(var s=arguments.length,v=new Array(s),C=0;C<s;C++)v[C]=arguments[C];return r=t.call.apply(t,[this].concat(v)),ee(tt(r),"uploader",void 0),ee(tt(r),"saveUploader",function(c){r.uploader=c}),r}return Zt(n,[{key:"abort",value:function(s){this.uploader.abort(s)}},{key:"render",value:function(){return J.createElement(xw,ye({},this.props,{ref:this.saveUploader}))}}]),n}(p.Component);ee(xs,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Ma,onError:Ma,onSuccess:Ma,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Ew=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${de(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${de(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${de(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},_w=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSize:s,lineHeight:v,calc:C}=e,c=`${t}-list-item`,i=`${c}-actions`,f=`${c}-action`,h=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Oo()),{lineHeight:e.lineHeight,[c]:{position:"relative",height:C(e.lineHeight).mul(s).equal(),marginTop:e.marginXS,fontSize:s,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${c}-name`]:Object.assign(Object.assign({},Zr),{padding:`0 ${de(e.paddingXS)}`,lineHeight:v,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[i]:{whiteSpace:"nowrap",[f]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${f}:focus-visible,
              &.picture ${f}
            `]:{opacity:1},[`${f}${n}-btn`]:{height:h,border:0,lineHeight:1}},[`${t}-icon ${r}`]:{color:e.colorTextDescription,fontSize:s},[`${c}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:C(s).add(e.paddingXS).equal(),fontSize:s,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${c}:hover ${f}`]:{opacity:1},[`${c}-error`]:{color:e.colorError,[`${c}-name, ${t}-icon ${r}`]:{color:e.colorError},[i]:{[`${r}, ${r}:hover`]:{color:e.colorError},[f]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Ow=e=>{const{componentCls:t}=e,n=new ct("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),r=new ct("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),s=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${s}-appear, ${s}-enter, ${s}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${s}-appear, ${s}-enter`]:{animationName:n},[`${s}-leave`]:{animationName:r}}},{[`${t}-wrapper`]:Bs(e)},n,r]},$w=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:s,calc:v}=e,C=`${t}-list`,c=`${C}-item`;return{[`${t}-wrapper`]:{[`
        ${C}${C}-picture,
        ${C}${C}-picture-card,
        ${C}${C}-picture-circle
      `]:{[c]:{position:"relative",height:v(r).add(v(e.lineWidth).mul(2)).add(v(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${de(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${c}-thumbnail`]:Object.assign(Object.assign({},Zr),{width:r,height:r,lineHeight:de(v(r).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${c}-progress`]:{bottom:s,width:`calc(100% - ${de(v(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:v(r).add(e.paddingXS).equal()}},[`${c}-error`]:{borderColor:e.colorError,[`${c}-thumbnail ${n}`]:{[`svg path[fill='${Ua[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Ua.primary}']`]:{fill:e.colorError}}},[`${c}-uploading`]:{borderStyle:"dashed",[`${c}-name`]:{marginBottom:s}}},[`${C}${C}-picture-circle ${c}`]:{[`&, &::before, ${c}-thumbnail`]:{borderRadius:"50%"}}}}},Tw=e=>{const{componentCls:t,iconCls:n,fontSizeLG:r,colorTextLightSolid:s,calc:v}=e,C=`${t}-list`,c=`${C}-item`,i=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Oo()),{display:"block",[`${t}${t}-select`]:{width:i,height:i,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${de(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${C}${C}-picture-card, ${C}${C}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${C}-item-container`]:{display:"inline-block",width:i,height:i,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[c]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${de(v(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${de(v(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${c}:hover`]:{[`&::before, ${c}-actions`]:{opacity:1}},[`${c}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:r,margin:`0 ${de(e.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:s,"&:hover":{color:s},svg:{verticalAlign:"baseline"}}},[`${c}-thumbnail, ${c}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${c}-name`]:{display:"none",textAlign:"center"},[`${c}-file + ${c}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${de(v(e.paddingXS).mul(2).equal())})`},[`${c}-uploading`]:{[`&${c}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${c}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${de(v(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},Pw=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Iw=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Tt(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},Rw=e=>({actionsColor:e.colorTextDescription}),Mw=Nt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:r,controlHeightLG:s,calc:v}=e,C=gt(e,{uploadThumbnailSize:v(t).mul(2).equal(),uploadProgressOffset:v(v(n).div(2)).add(r).equal(),uploadPicCardSize:v(s).mul(2.55).equal()});return[Iw(C),Ew(C),$w(C),Tw(C),_w(C),Ow(C),Pw(C),$d(C)]},Rw);var Lw={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},Aw=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Lw}))},Nw=p.forwardRef(Aw),Dw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},jw=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Dw}))},Fw=p.forwardRef(jw),Bw={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},kw=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Bw}))},zw=p.forwardRef(kw);function Ji(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Zi(e,t){const n=Se(t),r=n.findIndex(s=>{let{uid:v}=s;return v===e.uid});return r===-1?n.push(e):n[r]=e,n}function La(e,t){const n=e.uid!==void 0?"uid":"name";return t.filter(r=>r[n]===e[n])[0]}function Hw(e,t){const n=e.uid!==void 0?"uid":"name",r=t.filter(s=>s[n]!==e[n]);return r.length===t.length?null:r}const Vw=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},wh=e=>e.indexOf("image/")===0,Ww=e=>{if(e.type&&!e.thumbUrl)return wh(e.type);const t=e.thumbUrl||e.url||"",n=Vw(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(t)||n)},ir=200;function Xw(e){return new Promise(t=>{if(!e.type||!wh(e.type)){t("");return}const n=document.createElement("canvas");n.width=ir,n.height=ir,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${ir}px; height: ${ir}px; z-index: 9999; display: none;`,document.body.appendChild(n);const r=n.getContext("2d"),s=new Image;if(s.onload=()=>{const{width:v,height:C}=s;let c=ir,i=ir,f=0,h=0;v>C?(i=C*(ir/v),h=-(i-c)/2):(c=v*(ir/C),f=-(c-i)/2),r.drawImage(s,f,h,c,i);const o=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(s.src),t(o)},s.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const v=new FileReader;v.onload=()=>{v.result&&typeof v.result=="string"&&(s.src=v.result)},v.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const v=new FileReader;v.onload=()=>{v.result&&t(v.result)},v.readAsDataURL(e)}else s.src=window.URL.createObjectURL(e)})}var Uw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Gw=function(t,n){return p.createElement(Et,ye({},t,{ref:n,icon:Uw}))},Yw=p.forwardRef(Gw);const qw=p.forwardRef((e,t)=>{let{prefixCls:n,className:r,style:s,locale:v,listType:C,file:c,items:i,progress:f,iconRender:h,actionIconRender:o,itemRender:u,isImgUrl:a,showPreviewIcon:d,showRemoveIcon:g,showDownloadIcon:l,previewIcon:m,removeIcon:b,downloadIcon:y,onPreview:S,onDownload:w,onClose:x}=e;var E,_;const{status:$}=c,[I,A]=p.useState($);p.useEffect(()=>{$!=="removed"&&A($)},[$]);const[F,z]=p.useState(!1);p.useEffect(()=>{const G=setTimeout(()=>{z(!0)},300);return()=>{clearTimeout(G)}},[]);const D=h(c);let H=p.createElement("div",{className:`${n}-icon`},D);if(C==="picture"||C==="picture-card"||C==="picture-circle")if(I==="uploading"||!c.thumbUrl&&!c.url){const G=se(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:I!=="uploading"});H=p.createElement("div",{className:G},D)}else{const G=a!=null&&a(c)?p.createElement("img",{src:c.thumbUrl||c.url,alt:c.name,className:`${n}-list-item-image`,crossOrigin:c.crossOrigin}):D,K=se(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:a&&!a(c)});H=p.createElement("a",{className:K,onClick:re=>S(c,re),href:c.url||c.thumbUrl,target:"_blank",rel:"noopener noreferrer"},G)}const B=se(`${n}-list-item`,`${n}-list-item-${I}`),j=typeof c.linkProps=="string"?JSON.parse(c.linkProps):c.linkProps,N=g?o((typeof b=="function"?b(c):b)||p.createElement(mw,null),()=>x(c),n,v.removeFile,!0):null,O=l&&I==="done"?o((typeof y=="function"?y(c):y)||p.createElement(Yw,null),()=>w(c),n,v.downloadFile):null,P=C!=="picture-card"&&C!=="picture-circle"&&p.createElement("span",{key:"download-delete",className:se(`${n}-list-item-actions`,{picture:C==="picture"})},O,N),T=se(`${n}-list-item-name`),M=c.url?[p.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:T,title:c.name},j,{href:c.url,onClick:G=>S(c,G)}),c.name),P]:[p.createElement("span",{key:"view",className:T,onClick:G=>S(c,G),title:c.name},c.name),P],k=d&&(c.url||c.thumbUrl)?p.createElement("a",{href:c.url||c.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:G=>S(c,G),title:v.previewFile},typeof m=="function"?m(c):m||p.createElement(rl,null)):null,L=(C==="picture-card"||C==="picture-circle")&&I!=="uploading"&&p.createElement("span",{className:`${n}-list-item-actions`},k,I==="done"&&O,N),{getPrefixCls:R}=p.useContext(Ye),V=R(),W=p.createElement("div",{className:B},H,M,L,F&&p.createElement(Yn,{motionName:`${V}-fade`,visible:I==="uploading",motionDeadline:2e3},G=>{let{className:K}=G;const re="percent"in c?p.createElement(FS,Object.assign({},f,{type:"line",percent:c.percent,"aria-label":c["aria-label"],"aria-labelledby":c["aria-labelledby"]})):null;return p.createElement("div",{className:se(`${n}-list-item-progress`,K)},re)})),Y=c.response&&typeof c.response=="string"?c.response:((E=c.error)===null||E===void 0?void 0:E.statusText)||((_=c.error)===null||_===void 0?void 0:_.message)||v.uploadError,Q=I==="error"?p.createElement(dt,{title:Y,getPopupContainer:G=>G.parentNode},W):W;return p.createElement("div",{className:se(`${n}-list-item-container`,r),style:s,ref:t},u?u(Q,c,i,{download:w.bind(null,c),preview:S.bind(null,c),remove:x.bind(null,c)}):Q)}),Kw=(e,t)=>{const{listType:n="text",previewFile:r=Xw,onPreview:s,onDownload:v,onRemove:C,locale:c,iconRender:i,isImageUrl:f=Ww,prefixCls:h,items:o=[],showPreviewIcon:u=!0,showRemoveIcon:a=!0,showDownloadIcon:d=!1,removeIcon:g,previewIcon:l,downloadIcon:m,progress:b={size:[-1,2],showInfo:!1},appendAction:y,appendActionVisible:S=!0,itemRender:w,disabled:x}=e,E=jb(),[_,$]=p.useState(!1);p.useEffect(()=>{n!=="picture"&&n!=="picture-card"&&n!=="picture-circle"||(o||[]).forEach(k=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(k.originFileObj instanceof File||k.originFileObj)||k.thumbUrl!==void 0||r&&r(k.originFileObj).then(L=>{k.thumbUrl=L||"",E()})})},[n,o,r]),p.useEffect(()=>{$(!0)},[]);const I=(k,L)=>{if(s)return L==null||L.preventDefault(),s(k)},A=k=>{typeof v=="function"?v(k):k.url&&window.open(k.url)},F=k=>{C==null||C(k)},z=k=>{if(i)return i(k,n);const L=k.status==="uploading",R=f&&f(k)?p.createElement(zw,null):p.createElement(Nw,null);let V=L?p.createElement(ti,null):p.createElement(Fw,null);return n==="picture"?V=L?p.createElement(ti,null):R:(n==="picture-card"||n==="picture-circle")&&(V=L?c.uploading:R),V},D=(k,L,R,V,W)=>{const Y={type:"text",size:"small",title:V,onClick:Q=>{var G,K;L(),p.isValidElement(k)&&((K=(G=k.props).onClick)===null||K===void 0||K.call(G,Q))},className:`${R}-list-item-action`};if(W&&(Y.disabled=x),p.isValidElement(k)){const Q=An(k,Object.assign(Object.assign({},k.props),{onClick:()=>{}}));return p.createElement(yt,Object.assign({},Y,{icon:Q}))}return p.createElement(yt,Object.assign({},Y),p.createElement("span",null,k))};p.useImperativeHandle(t,()=>({handlePreview:I,handleDownload:A}));const{getPrefixCls:H}=p.useContext(Ye),B=H("upload",h),j=H(),N=se(`${B}-list`,`${B}-list-${n}`),O=Se(o.map(k=>({key:k.uid,file:k})));let T={motionDeadline:2e3,motionName:`${B}-${n==="picture-card"||n==="picture-circle"?"animate-inline":"animate"}`,keys:O,motionAppear:_};const M=p.useMemo(()=>{const k=Object.assign({},nd(j));return delete k.onAppearEnd,delete k.onEnterEnd,delete k.onLeaveEnd,k},[j]);return n!=="picture-card"&&n!=="picture-circle"&&(T=Object.assign(Object.assign({},M),T)),p.createElement("div",{className:N},p.createElement(Eu,Object.assign({},T,{component:!1}),k=>{let{key:L,file:R,className:V,style:W}=k;return p.createElement(qw,{key:L,locale:c,prefixCls:B,className:V,style:W,file:R,items:o,progress:b,listType:n,isImgUrl:f,showPreviewIcon:u,showRemoveIcon:a,showDownloadIcon:d,removeIcon:g,previewIcon:l,downloadIcon:m,iconRender:z,actionIconRender:D,itemRender:w,onPreview:I,onDownload:A,onClose:F})}),y&&p.createElement(Yn,Object.assign({},T,{visible:S,forceRender:!0}),k=>{let{className:L,style:R}=k;return An(y,V=>({className:se(V.className,L),style:Object.assign(Object.assign(Object.assign({},R),{pointerEvents:L?"none":void 0}),V.style)}))}))},Qw=p.forwardRef(Kw);var Jw=function(e,t,n,r){function s(v){return v instanceof n?v:new n(function(C){C(v)})}return new(n||(n=Promise))(function(v,C){function c(h){try{f(r.next(h))}catch(o){C(o)}}function i(h){try{f(r.throw(h))}catch(o){C(o)}}function f(h){h.done?v(h.value):s(h.value).then(c,i)}f((r=r.apply(e,[])).next())})};const eo=`__LIST_IGNORE_${Date.now()}__`,Zw=(e,t)=>{const{fileList:n,defaultFileList:r,onRemove:s,showUploadList:v=!0,listType:C="text",onPreview:c,onDownload:i,onChange:f,onDrop:h,previewFile:o,disabled:u,locale:a,iconRender:d,isImageUrl:g,progress:l,prefixCls:m,className:b,type:y="select",children:S,style:w,itemRender:x,maxCount:E,data:_={},multiple:$=!1,hasControlInside:I=!0,action:A="",accept:F="",supportServerRender:z=!0,rootClassName:D}=e,H=p.useContext(Bn),B=u??H,[j,N]=Rt(r||[],{value:n,postState:we=>we??[]}),[O,P]=p.useState("drop"),T=p.useRef(null),M=p.useRef(null);p.useMemo(()=>{const we=Date.now();(n||[]).forEach((Ae,Qe)=>{!Ae.uid&&!Object.isFrozen(Ae)&&(Ae.uid=`__AUTO__${we}_${Qe}__`)})},[n]);const k=(we,Ae,Qe)=>{let $e=Se(Ae),je=!1;E===1?$e=$e.slice(-1):E&&(je=$e.length>E,$e=$e.slice(0,E)),$r.flushSync(()=>{N($e)});const Ue={file:we,fileList:$e};Qe&&(Ue.event=Qe),(!je||we.status==="removed"||$e.some(ft=>ft.uid===we.uid))&&$r.flushSync(()=>{f==null||f(Ue)})},L=(we,Ae)=>Jw(void 0,void 0,void 0,function*(){const{beforeUpload:Qe,transformFile:$e}=e;let je=we;if(Qe){const Ue=yield Qe(we,Ae);if(Ue===!1)return!1;if(delete we[eo],Ue===eo)return Object.defineProperty(we,eo,{value:!0,configurable:!0}),!1;typeof Ue=="object"&&Ue&&(je=Ue)}return $e&&(je=yield $e(je)),je}),R=we=>{const Ae=we.filter(je=>!je.file[eo]);if(!Ae.length)return;const Qe=Ae.map(je=>Ji(je.file));let $e=Se(j);Qe.forEach(je=>{$e=Zi(je,$e)}),Qe.forEach((je,Ue)=>{let ft=je;if(Ae[Ue].parsedFile)je.status="uploading";else{const{originFileObj:qe}=je;let Ke;try{Ke=new File([qe],qe.name,{type:qe.type})}catch{Ke=new Blob([qe],{type:qe.type}),Ke.name=qe.name,Ke.lastModifiedDate=new Date,Ke.lastModified=new Date().getTime()}Ke.uid=je.uid,ft=Ke}k(ft,$e)})},V=(we,Ae,Qe)=>{try{typeof we=="string"&&(we=JSON.parse(we))}catch{}if(!La(Ae,j))return;const $e=Ji(Ae);$e.status="done",$e.percent=100,$e.response=we,$e.xhr=Qe;const je=Zi($e,j);k($e,je)},W=(we,Ae)=>{if(!La(Ae,j))return;const Qe=Ji(Ae);Qe.status="uploading",Qe.percent=we.percent;const $e=Zi(Qe,j);k(Qe,$e,we)},Y=(we,Ae,Qe)=>{if(!La(Qe,j))return;const $e=Ji(Qe);$e.error=we,$e.response=Ae,$e.status="error";const je=Zi($e,j);k($e,je)},Q=we=>{let Ae;Promise.resolve(typeof s=="function"?s(we):s).then(Qe=>{var $e;if(Qe===!1)return;const je=Hw(we,j);je&&(Ae=Object.assign(Object.assign({},we),{status:"removed"}),j==null||j.forEach(Ue=>{const ft=Ae.uid!==void 0?"uid":"name";Ue[ft]===Ae[ft]&&!Object.isFrozen(Ue)&&(Ue.status="removed")}),($e=T.current)===null||$e===void 0||$e.abort(Ae),k(Ae,je))})},G=we=>{P(we.type),we.type==="drop"&&(h==null||h(we))};p.useImperativeHandle(t,()=>({onBatchStart:R,onSuccess:V,onProgress:W,onError:Y,fileList:j,upload:T.current,nativeElement:M.current}));const{getPrefixCls:K,direction:re,upload:q}=p.useContext(Ye),X=K("upload",m),Z=Object.assign(Object.assign({onBatchStart:R,onError:Y,onProgress:W,onSuccess:V},e),{data:_,multiple:$,action:A,accept:F,supportServerRender:z,prefixCls:X,disabled:B,beforeUpload:L,onChange:void 0,hasControlInside:I});delete Z.className,delete Z.style,(!S||B)&&delete Z.id;const ne=`${X}-wrapper`,[te,ie,le]=Mw(X,ne),[fe]=oi("Upload",Jr.Upload),{showRemoveIcon:ce,showPreviewIcon:oe,showDownloadIcon:ue,removeIcon:he,previewIcon:pe,downloadIcon:ve}=typeof v=="boolean"?{}:v,xe=typeof ce>"u"?!B:!!ce,Te=(we,Ae)=>v?p.createElement(Qw,{prefixCls:X,listType:C,items:j,previewFile:o,onPreview:c,onDownload:i,onRemove:Q,showRemoveIcon:xe,showPreviewIcon:oe,showDownloadIcon:ue,removeIcon:he,previewIcon:pe,downloadIcon:ve,iconRender:d,locale:Object.assign(Object.assign({},fe),a),isImageUrl:g,progress:l,appendAction:we,appendActionVisible:Ae,itemRender:x,disabled:B}):we,be=se(ne,b,D,ie,le,q==null?void 0:q.className,{[`${X}-rtl`]:re==="rtl",[`${X}-picture-card-wrapper`]:C==="picture-card",[`${X}-picture-circle-wrapper`]:C==="picture-circle"}),Ce=Object.assign(Object.assign({},q==null?void 0:q.style),w);if(y==="drag"){const we=se(ie,X,`${X}-drag`,{[`${X}-drag-uploading`]:j.some(Ae=>Ae.status==="uploading"),[`${X}-drag-hover`]:O==="dragover",[`${X}-disabled`]:B,[`${X}-rtl`]:re==="rtl"});return te(p.createElement("span",{className:be,ref:M},p.createElement("div",{className:we,style:Ce,onDrop:G,onDragOver:G,onDragLeave:G},p.createElement(xs,Object.assign({},Z,{ref:T,className:`${X}-btn`}),p.createElement("div",{className:`${X}-drag-container`},S))),Te()))}const He=se(X,`${X}-select`,{[`${X}-disabled`]:B}),De=p.createElement("div",{className:He,style:S?void 0:{display:"none"}},p.createElement(xs,Object.assign({},Z,{ref:T})));return te(C==="picture-card"||C==="picture-circle"?p.createElement("span",{className:be,ref:M},Te(De,!!S)):p.createElement("span",{className:be,ref:M},De,Te()))},e3=p.forwardRef(Zw);var t3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const n3=p.forwardRef((e,t)=>{var{style:n,height:r,hasControlInside:s=!1}=e,v=t3(e,["style","height","hasControlInside"]);return p.createElement(e3,Object.assign({ref:t,hasControlInside:s},v,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))});var mt={};const r3={},i3=Object.freeze(Object.defineProperty({__proto__:null,default:r3},Symbol.toStringTag,{value:"Module"})),Aa=a0(i3);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Aa,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=Aa.implForWrapper,t.nodeCanvas=Aa.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(a,d){if(this.__eventListeners[a]){var g=this.__eventListeners[a];d?g[g.indexOf(d)]=!1:t.util.array.fill(g,!1)}}function i(a,d){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(d);return this}function f(a,d){var g=(function(){d.apply(this,arguments),this.off(a,g)}).bind(this);this.on(a,g)}function h(a,d){if(arguments.length===1)for(var g in a)f.call(this,g,a[g]);else f.call(this,a,d);return this}function o(a,d){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)c.call(this,g,a[g]);else c.call(this,a,d);return this}function u(a,d){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var l=0,m=g.length;l<m;l++)g[l]&&g[l].call(this,d||{});return this.__eventListeners[a]=g.filter(function(b){return b!==!1}),this}t.Observable={fire:u,on:i,once:h,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,f){var h=this._objects;return f?h[i]=c:h.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,f=!1,h=0,o=arguments.length;h<o;h++)i=c.indexOf(arguments[h]),i!==-1&&(f=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&f&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var f=this.getObjects(),h=0,o=f.length;h<o;h++)c.call(i,f[h],h,f);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(f){return typeof f.contains=="function"&&f.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(i,new t.Gradient(c))},_initPattern:function(c,i,f){c&&c.source&&!(c instanceof t.Pattern)?this.set(i,new t.Pattern(c,f)):f&&f()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,f=Math.atan2,h=Math.pow,o=Math.PI/180,u=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var d=a/u;switch(d){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var d=a/u,g=1;switch(a<0&&(g=-1),d){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,d){var g=a.indexOf(d);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,d){return Math.floor(Math.random()*(d-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,d,g){var l=new t.Point(a.x-d.x,a.y-d.y),m=t.util.rotateVector(l,g);return new t.Point(m.x,m.y).addEquals(d)},rotateVector:function(a,d){var g=t.util.sin(d),l=t.util.cos(d),m=a.x*l-a.y*g,b=a.x*g+a.y*l;return{x:m,y:b}},createVector:function(a,d){return new t.Point(d.x-a.x,d.y-a.y)},calcAngleBetweenVectors:function(a,d){return Math.acos((a.x*d.x+a.y*d.y)/(Math.hypot(a.x,a.y)*Math.hypot(d.x,d.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,d,g){var l=t.util.createVector(a,d),m=t.util.createVector(a,g),b=t.util.calcAngleBetweenVectors(l,m),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(l,b),m),S=b*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(l,S)),angle:b}},projectStrokeOnPoints:function(a,d,g){var l=[],m=d.strokeWidth/2,b=d.strokeUniform?new t.Point(1/d.scaleX,1/d.scaleY):new t.Point(1,1),y=function(S){var w=m/Math.hypot(S.x,S.y);return new t.Point(S.x*w*b.x,S.y*w*b.y)};return a.length<=1||a.forEach(function(S,w){var x=new t.Point(S.x,S.y),E,_;w===0?(_=a[w+1],E=g?y(t.util.createVector(_,x)).addEquals(x):a[a.length-1]):w===a.length-1?(E=a[w-1],_=g?y(t.util.createVector(E,x)).addEquals(x):a[0]):(E=a[w-1],_=a[w+1]);var $=t.util.getBisector(x,E,_),I=$.vector,A=$.angle,F,z;if(d.strokeLineJoin==="miter"&&(F=-m/Math.sin(A/2),z=new t.Point(I.x*F*b.x,I.y*F*b.y),Math.hypot(z.x,z.y)/m<=d.strokeMiterLimit)){l.push(x.add(z)),l.push(x.subtract(z));return}F=-m*Math.SQRT2,z=new t.Point(I.x*F*b.x,I.y*F*b.y),l.push(x.add(z)),l.push(x.subtract(z))}),l},transformPoint:function(a,d,g){return g?new t.Point(d[0]*a.x+d[2]*a.y,d[1]*a.x+d[3]*a.y):new t.Point(d[0]*a.x+d[2]*a.y+d[4],d[1]*a.x+d[3]*a.y+d[5])},makeBoundingBoxFromPoints:function(a,d){if(d)for(var g=0;g<a.length;g++)a[g]=t.util.transformPoint(a[g],d);var l=[a[0].x,a[1].x,a[2].x,a[3].x],m=t.util.array.min(l),b=t.util.array.max(l),y=b-m,S=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(S),x=t.util.array.max(S),E=x-w;return{left:m,top:w,width:y,height:E}},invertTransform:function(a){var d=1/(a[0]*a[3]-a[1]*a[2]),g=[d*a[3],-d*a[1],-d*a[2],d*a[0]],l=t.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-l.x,g[5]=-l.y,g},toFixed:function(a,d){return parseFloat(Number(a).toFixed(d))},parseUnit:function(a,d){var g=/\D{0,2}$/.exec(a),l=parseFloat(a);switch(d||(d=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return l*t.DPI/25.4;case"cm":return l*t.DPI/2.54;case"in":return l*t.DPI;case"pt":return l*t.DPI/72;case"pc":return l*t.DPI/72*12;case"em":return l*d;default:return l}},falseFunction:function(){return!1},getKlass:function(a,d){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(d)[a]},getSvgAttributes:function(a){var d=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":d=d.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":d=d.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":d=d.concat(["offset","stop-color","stop-opacity"]);break}return d},resolveNamespace:function(a){if(!a)return t;var d=a.split("."),g=d.length,l,m=c||t.window;for(l=0;l<g;++l)m=m[d[l]];return m},loadImage:function(a,d,g,l){if(!a){d&&d.call(g,a);return}var m=t.util.createImage(),b=function(){d&&d.call(g,m,!1),m=m.onload=m.onerror=null};m.onload=b,m.onerror=function(){t.log("Error loading "+m.src),d&&d.call(g,null,!0),m=m.onload=m.onerror=null},a.indexOf("data")!==0&&l!==void 0&&l!==null&&(m.crossOrigin=l),a.substring(0,14)==="data:image/svg"&&(m.onload=null,t.util.loadImageInDom(m,b)),m.src=a},loadImageInDom:function(a,d){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),t.document.querySelector("body").appendChild(g),a.onload=function(){d(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,d,g,l){a=a||[];var m=[],b=0,y=a.length;function S(){++b===y&&d&&d(m.filter(function(w){return w}))}if(!y){d&&d(m);return}a.forEach(function(w,x){if(!w||!w.type){S();return}var E=t.util.getKlass(w.type,g);E.fromObject(w,function(_,$){$||(m[x]=_),l&&l(w,_,$),S()})})},enlivenObjectEnlivables:function(a,d,g){var l=t.Object.ENLIVEN_PROPS.filter(function(m){return!!a[m]});t.util.enlivenObjects(l.map(function(m){return a[m]}),function(m){var b={};l.forEach(function(y,S){b[y]=m[S],d&&(d[y]=m[S])}),g&&g(b)})},enlivenPatterns:function(a,d){a=a||[];function g(){++m===b&&d&&d(l)}var l=[],m=0,b=a.length;if(!b){d&&d(l);return}a.forEach(function(y,S){y&&y.source?new t.Pattern(y,function(w){l[S]=w,g()}):(l[S]=y,g())})},groupSVGElements:function(a,d,g){var l;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(d&&(d.width&&d.height?d.centerPoint={x:d.width/2,y:d.height/2}:(delete d.width,delete d.height)),l=new t.Group(a,d),typeof g<"u"&&(l.sourcePath=g),l)},populateWithProperties:function(a,d,g){if(g&&Array.isArray(g))for(var l=0,m=g.length;l<m;l++)g[l]in a&&(d[g[l]]=a[g[l]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var d=t.util.createCanvasElement();return d.width=a.width,d.height=a.height,d.getContext("2d").drawImage(a,0,0),d},toDataURL:function(a,d,g){return a.toDataURL("image/"+d,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,d,g){return[a[0]*d[0]+a[2]*d[1],a[1]*d[0]+a[3]*d[1],a[0]*d[2]+a[2]*d[3],a[1]*d[2]+a[3]*d[3],g?0:a[0]*d[4]+a[2]*d[5]+a[4],g?0:a[1]*d[4]+a[3]*d[5]+a[5]]},qrDecompose:function(a){var d=f(a[1],a[0]),g=h(a[0],2)+h(a[1],2),l=i(g),m=(a[0]*a[3]-a[2]*a[1])/l,b=f(a[0]*a[2]+a[1]*a[3],g);return{angle:d/o,scaleX:l,scaleY:m,skewX:b/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var d=t.util.degreesToRadians(a.angle),g=t.util.cos(d),l=t.util.sin(d);return[g,l,-l,g,0,0]},calcDimensionsMatrix:function(a){var d=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,l=[a.flipX?-d:d,0,0,a.flipY?-g:g,0,0],m=t.util.multiplyTransformMatrices,b=t.util.degreesToRadians;return a.skewX&&(l=m(l,[1,0,Math.tan(b(a.skewX)),1],!0)),a.skewY&&(l=m(l,[1,Math.tan(b(a.skewY)),0,1],!0)),l},composeMatrix:function(a){var d=[1,0,0,1,a.translateX||0,a.translateY||0],g=t.util.multiplyTransformMatrices;return a.angle&&(d=g(d,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(d=g(d,t.util.calcDimensionsMatrix(a))),d},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,d,g,l){l>0&&(d>l?d-=l:d=0,g>l?g-=l:g=0);var m=!0,b,y,S=a.getImageData(d,g,l*2||1,l*2||1),w=S.data.length;for(b=3;b<w&&(y=S.data[b],m=y<=0,m!==!1);b+=4);return S=null,m},parsePreserveAspectRatioAttribute:function(a){var d="meet",g="Mid",l="Mid",m=a.split(" "),b;return m&&m.length&&(d=m.pop(),d!=="meet"&&d!=="slice"?(b=d,d="meet"):m.length&&(b=m.pop())),g=b!=="none"?b.slice(1,4):"none",l=b!=="none"?b.slice(5,8):"none",{meetOrSlice:d,alignX:g,alignY:l}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,d){var g=Math.sqrt(d*a),l=Math.floor(d/g);return{x:Math.floor(g),y:l}},capValue:function(a,d,g){return Math.max(a,Math.min(d,g))},findScaleToFit:function(a,d){return Math.min(d.width/a.width,d.height/a.height)},findScaleToCover:function(a,d){return Math.max(d.width/a.width,d.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(d){return t.util.toFixed(d,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,d){var g=t.util.invertTransform(d),l=t.util.multiplyTransformMatrices(g,a.calcOwnMatrix());t.util.applyTransformToObject(a,l)},addTransformToObject:function(a,d){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(d,a.calcOwnMatrix()))},applyTransformToObject:function(a,d){var g=t.util.qrDecompose(d),l=new t.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(a,d,g){var l=a/2,m=d/2,b=[{x:-l,y:-m},{x:l,y:-m},{x:-l,y:m},{x:l,y:m}],y=t.util.calcDimensionsMatrix(g),S=t.util.makeBoundingBoxFromPoints(b,y);return{x:S.width,y:S.height}},mergeClipPaths:function(a,d){var g=a,l=d;g.inverted&&!l.inverted&&(g=d,l=a),t.util.applyTransformToObject(l,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),l.calcTransformMatrix()));var m=g.inverted&&l.inverted;return m&&(g.inverted=l.inverted=!1),new t.Group([g],{clipPath:l,inverted:m})},hasStyleChanged:function(a,d,g){return g=g||!1,a.fill!==d.fill||a.stroke!==d.stroke||a.strokeWidth!==d.strokeWidth||a.fontSize!==d.fontSize||a.fontFamily!==d.fontFamily||a.fontWeight!==d.fontWeight||a.fontStyle!==d.fontStyle||a.textBackgroundColor!==d.textBackgroundColor||a.deltaY!==d.deltaY||g&&(a.overline!==d.overline||a.underline!==d.underline||a.linethrough!==d.linethrough)},stylesToArray:function(g,d){for(var g=t.util.object.clone(g,!0),l=d.split(`
`),m=-1,b={},y=[],S=0;S<l.length;S++){if(!g[S]){m+=l[S].length;continue}for(var w=0;w<l[S].length;w++){m++;var x=g[S][w];if(x&&Object.keys(x).length>0){var E=t.util.hasStyleChanged(b,x,!0);E?y.push({start:m,end:m+1,style:x}):y[y.length-1].end++}b=x||{}}}return y},stylesFromArray:function(a,d){if(!Array.isArray(a))return a;for(var g=d.split(`
`),l=-1,m=0,b={},y=0;y<g.length;y++)for(var S=0;S<g[y].length;S++)l++,a[m]&&a[m].start<=l&&l<a[m].end&&(b[y]=b[y]||{},b[y][S]=Object.assign({},a[m].style),l===a[m].end-1&&m++);return b}}}(e),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function h(O,P,T,M,k,L,R,V,W,Y,Q){var G=t.util.cos(O),K=t.util.sin(O),re=t.util.cos(P),q=t.util.sin(P),X=T*k*re-M*L*q+R,Z=M*k*re+T*L*q+V,ne=Y+W*(-T*k*K-M*L*G),te=Q+W*(-M*k*K+T*L*G),ie=X+W*(T*k*q+M*L*re),le=Z+W*(M*k*q-T*L*re);return["C",ne,te,ie,le,X,Z]}function o(O,P,T,M,k,L,R){var V=Math.PI,W=R*V/180,Y=t.util.sin(W),Q=t.util.cos(W),G=0,K=0;T=Math.abs(T),M=Math.abs(M);var re=-Q*O*.5-Y*P*.5,q=-Q*P*.5+Y*O*.5,X=T*T,Z=M*M,ne=q*q,te=re*re,ie=X*Z-X*ne-Z*te,le=0;if(ie<0){var fe=Math.sqrt(1-ie/(X*Z));T*=fe,M*=fe}else le=(k===L?-1:1)*Math.sqrt(ie/(X*ne+Z*te));var ce=le*T*q/M,oe=-le*M*re/T,ue=Q*ce-Y*oe+O*.5,he=Y*ce+Q*oe+P*.5,pe=u(1,0,(re-ce)/T,(q-oe)/M),ve=u((re-ce)/T,(q-oe)/M,(-re-ce)/T,(-q-oe)/M);L===0&&ve>0?ve-=2*V:L===1&&ve<0&&(ve+=2*V);for(var xe=Math.ceil(Math.abs(ve/V*2)),Te=[],be=ve/xe,Ce=8/3*Math.sin(be/4)*Math.sin(be/4)/Math.sin(be/2),He=pe+be,De=0;De<xe;De++)Te[De]=h(pe,He,Q,Y,T,M,ue,he,Ce,G,K),G=Te[De][5],K=Te[De][6],pe=He,He+=be;return Te}function u(O,P,T,M){var k=Math.atan2(P,O),L=Math.atan2(M,T);return L>=k?L-k:2*Math.PI-(k-L)}function a(O,P,T,M,k,L,R,V){var W;if(t.cachesBoundsOfCurve&&(W=c.call(arguments),t.boundsOfCurveCache[W]))return t.boundsOfCurveCache[W];var Y=Math.sqrt,Q=Math.min,G=Math.max,K=Math.abs,re=[],q=[[],[]],X,Z,ne,te,ie,le,fe,ce;Z=6*O-12*T+6*k,X=-3*O+9*T-9*k+3*R,ne=3*T-3*O;for(var oe=0;oe<2;++oe){if(oe>0&&(Z=6*P-12*M+6*L,X=-3*P+9*M-9*L+3*V,ne=3*M-3*P),K(X)<1e-12){if(K(Z)<1e-12)continue;te=-ne/Z,0<te&&te<1&&re.push(te);continue}fe=Z*Z-4*ne*X,!(fe<0)&&(ce=Y(fe),ie=(-Z+ce)/(2*X),0<ie&&ie<1&&re.push(ie),le=(-Z-ce)/(2*X),0<le&&le<1&&re.push(le))}for(var ue,he,pe=re.length,ve=pe,xe;pe--;)te=re[pe],xe=1-te,ue=xe*xe*xe*O+3*xe*xe*te*T+3*xe*te*te*k+te*te*te*R,q[0][pe]=ue,he=xe*xe*xe*P+3*xe*xe*te*M+3*xe*te*te*L+te*te*te*V,q[1][pe]=he;q[0][ve]=O,q[1][ve]=P,q[0][ve+1]=R,q[1][ve+1]=V;var Te=[{x:Q.apply(null,q[0]),y:Q.apply(null,q[1])},{x:G.apply(null,q[0]),y:G.apply(null,q[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[W]=Te),Te}function d(O,P,T){for(var M=T[1],k=T[2],L=T[3],R=T[4],V=T[5],W=T[6],Y=T[7],Q=o(W-O,Y-P,M,k,R,V,L),G=0,K=Q.length;G<K;G++)Q[G][1]+=O,Q[G][2]+=P,Q[G][3]+=O,Q[G][4]+=P,Q[G][5]+=O,Q[G][6]+=P;return Q}function g(O){var P=0,T=0,M=O.length,k=0,L=0,R,V,W,Y=[],Q,G,K;for(V=0;V<M;++V){switch(W=!1,R=O[V].slice(0),R[0]){case"l":R[0]="L",R[1]+=P,R[2]+=T;case"L":P=R[1],T=R[2];break;case"h":R[1]+=P;case"H":R[0]="L",R[2]=T,P=R[1];break;case"v":R[1]+=T;case"V":R[0]="L",T=R[1],R[1]=P,R[2]=T;break;case"m":R[0]="M",R[1]+=P,R[2]+=T;case"M":P=R[1],T=R[2],k=R[1],L=R[2];break;case"c":R[0]="C",R[1]+=P,R[2]+=T,R[3]+=P,R[4]+=T,R[5]+=P,R[6]+=T;case"C":G=R[3],K=R[4],P=R[5],T=R[6];break;case"s":R[0]="S",R[1]+=P,R[2]+=T,R[3]+=P,R[4]+=T;case"S":Q==="C"?(G=2*P-G,K=2*T-K):(G=P,K=T),P=R[3],T=R[4],R[0]="C",R[5]=R[3],R[6]=R[4],R[3]=R[1],R[4]=R[2],R[1]=G,R[2]=K,G=R[3],K=R[4];break;case"q":R[0]="Q",R[1]+=P,R[2]+=T,R[3]+=P,R[4]+=T;case"Q":G=R[1],K=R[2],P=R[3],T=R[4];break;case"t":R[0]="T",R[1]+=P,R[2]+=T;case"T":Q==="Q"?(G=2*P-G,K=2*T-K):(G=P,K=T),R[0]="Q",P=R[1],T=R[2],R[1]=G,R[2]=K,R[3]=P,R[4]=T;break;case"a":R[0]="A",R[6]+=P,R[7]+=T;case"A":W=!0,Y=Y.concat(d(P,T,R)),P=R[6],T=R[7];break;case"z":case"Z":P=k,T=L;break}W||Y.push(R),Q=R[0]}return Y}function l(O,P,T,M){return Math.sqrt((T-O)*(T-O)+(M-P)*(M-P))}function m(O){return O*O*O}function b(O){return 3*O*O*(1-O)}function y(O){return 3*O*(1-O)*(1-O)}function S(O){return(1-O)*(1-O)*(1-O)}function w(O,P,T,M,k,L,R,V){return function(W){var Y=m(W),Q=b(W),G=y(W),K=S(W);return{x:R*Y+k*Q+T*G+O*K,y:V*Y+L*Q+M*G+P*K}}}function x(O,P,T,M,k,L,R,V){return function(W){var Y=1-W,Q=3*Y*Y*(T-O)+6*Y*W*(k-T)+3*W*W*(R-k),G=3*Y*Y*(M-P)+6*Y*W*(L-M)+3*W*W*(V-L);return Math.atan2(G,Q)}}function E(O){return O*O}function _(O){return 2*O*(1-O)}function $(O){return(1-O)*(1-O)}function I(O,P,T,M,k,L){return function(R){var V=E(R),W=_(R),Y=$(R);return{x:k*V+T*W+O*Y,y:L*V+M*W+P*Y}}}function A(O,P,T,M,k,L){return function(R){var V=1-R,W=2*V*(T-O)+2*R*(k-T),Y=2*V*(M-P)+2*R*(L-M);return Math.atan2(Y,W)}}function F(O,P,T){var M={x:P,y:T},k,L=0,R;for(R=1;R<=100;R+=1)k=O(R/100),L+=l(M.x,M.y,k.x,k.y),M=k;return L}function z(O,P){for(var T=0,M=0,k=O.iterator,L={x:O.x,y:O.y},R,V,W=.01,Y=O.angleFinder,Q;M<P&&W>1e-4;)R=k(T),Q=T,V=l(L.x,L.y,R.x,R.y),V+M>P?(T-=W,W/=2):(L=R,T+=W,M+=V);return R.angle=Y(Q),R}function D(O){for(var P=0,T=O.length,M,k=0,L=0,R=0,V=0,W=[],Y,Q,G,K=0;K<T;K++){switch(M=O[K],Q={x:k,y:L,command:M[0]},M[0]){case"M":Q.length=0,R=k=M[1],V=L=M[2];break;case"L":Q.length=l(k,L,M[1],M[2]),k=M[1],L=M[2];break;case"C":Y=w(k,L,M[1],M[2],M[3],M[4],M[5],M[6]),G=x(k,L,M[1],M[2],M[3],M[4],M[5],M[6]),Q.iterator=Y,Q.angleFinder=G,Q.length=F(Y,k,L),k=M[5],L=M[6];break;case"Q":Y=I(k,L,M[1],M[2],M[3],M[4]),G=A(k,L,M[1],M[2],M[3],M[4]),Q.iterator=Y,Q.angleFinder=G,Q.length=F(Y,k,L),k=M[3],L=M[4];break;case"Z":case"z":Q.destX=R,Q.destY=V,Q.length=l(k,L,R,V),k=R,L=V;break}P+=Q.length,W.push(Q)}return W.push({length:P,x:k,y:L}),W}function H(O,P,T){T||(T=D(O));for(var M=0;P-T[M].length>0&&M<T.length-2;)P-=T[M].length,M++;var k=T[M],L=P/k.length,R=k.command,V=O[M],W;switch(R){case"M":return{x:k.x,y:k.y,angle:0};case"Z":case"z":return W=new t.Point(k.x,k.y).lerp(new t.Point(k.destX,k.destY),L),W.angle=Math.atan2(k.destY-k.y,k.destX-k.x),W;case"L":return W=new t.Point(k.x,k.y).lerp(new t.Point(V[1],V[2]),L),W.angle=Math.atan2(V[2]-k.y,V[1]-k.x),W;case"C":return z(k,P);case"Q":return z(k,P)}}function B(O){var P=[],T=[],M,k,L=t.rePathCommand,R="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",V="("+R+")"+t.commaWsp,W="([01])"+t.commaWsp+"?",Y=V+"?"+V+"?"+V+W+W+V+"?("+R+")",Q=new RegExp(Y,"g"),G,K,re;if(!O||!O.match)return P;re=O.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var q=0,X,Z=re.length;q<Z;q++){M=re[q],K=M.slice(1).trim(),T.length=0;var ne=M.charAt(0);if(X=[ne],ne.toLowerCase()==="a")for(var te;te=Q.exec(K);)for(var ie=1;ie<te.length;ie++)T.push(te[ie]);else for(;G=L.exec(K);)T.push(G[0]);for(var ie=0,le=T.length;ie<le;ie++)k=parseFloat(T[ie]),isNaN(k)||X.push(k);var fe=i[ne.toLowerCase()],ce=f[ne]||ne;if(X.length-1>fe)for(var oe=1,ue=X.length;oe<ue;oe+=fe)P.push([ne].concat(X.slice(oe,oe+fe))),ne=ce;else P.push(X)}return P}function j(O,P){var T=[],M,k=new t.Point(O[0].x,O[0].y),L=new t.Point(O[1].x,O[1].y),R=O.length,V=1,W=0,Y=R>2;for(P=P||0,Y&&(V=O[2].x<L.x?-1:O[2].x===L.x?0:1,W=O[2].y<L.y?-1:O[2].y===L.y?0:1),T.push(["M",k.x-V*P,k.y-W*P]),M=1;M<R;M++){if(!k.eq(L)){var Q=k.midPointFrom(L);T.push(["Q",k.x,k.y,Q.x,Q.y])}k=O[M],M+1<O.length&&(L=O[M+1])}return Y&&(V=k.x>O[M-2].x?1:k.x===O[M-2].x?0:-1,W=k.y>O[M-2].y?1:k.y===O[M-2].y?0:-1),T.push(["L",k.x+V*P,k.y+W*P]),T}function N(O,P,T){return T&&(P=t.util.multiplyTransformMatrices(P,[1,0,0,1,-T.x,-T.y])),O.map(function(M){for(var k=M.slice(0),L={},R=1;R<M.length-1;R+=2)L.x=M[R],L.y=M[R+1],L=t.util.transformPoint(L,P),k[R]=L.x,k[R+1]=L.y;return k})}t.util.joinPath=function(O){return O.map(function(P){return P.join(" ")}).join(" ")},t.util.parsePath=B,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=j,t.util.getPathSegmentsInfo=D,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=H,t.util.transformPath=N}(),function(){var c=Array.prototype.slice;function i(a,d){for(var g=c.call(arguments,2),l=[],m=0,b=a.length;m<b;m++)l[m]=g.length?a[m][d].apply(a[m],g):a[m][d].call(a[m]);return l}function f(a,d){return u(a,d,function(g,l){return g>=l})}function h(a,d){return u(a,d,function(g,l){return g<l})}function o(a,d){for(var g=a.length;g--;)a[g]=d;return a}function u(a,d,g){if(!(!a||a.length===0)){var l=a.length-1,m=d?a[l][d]:a[l];if(d)for(;l--;)g(a[l][d],m)&&(m=a[l][d]);else for(;l--;)g(a[l],m)&&(m=a[l]);return m}}t.util.array={fill:o,invoke:i,min:h,max:f}}(),function(){function c(f,h,o){if(o)if(!t.isLikelyNode&&h instanceof Element)f=h;else if(h instanceof Array){f=[];for(var u=0,a=h.length;u<a;u++)f[u]=c({},h[u],o)}else if(h&&typeof h=="object")for(var d in h)d==="canvas"||d==="group"?f[d]=null:h.hasOwnProperty(d)&&(f[d]=c({},h[d],o));else f=h;else for(var d in h)f[d]=h[d];return f}function i(f,h){return c({},f,h)}t.util.object={extend:c,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function c(u){return u.replace(/-+(.)?/g,function(a,d){return d?d.toUpperCase():""})}function i(u,a){return u.charAt(0).toUpperCase()+(a?u.slice(1):u.slice(1).toLowerCase())}function f(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(u){var a=0,d,g=[];for(a=0,d;a<u.length;a++)(d=o(u,a))!==!1&&g.push(d);return g}function o(u,a){var d=u.charCodeAt(a);if(isNaN(d))return"";if(d<55296||d>57343)return u.charAt(a);if(55296<=d&&d<=56319){if(u.length<=a+1)throw"High surrogate without following low surrogate";var g=u.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return u.charAt(a)+u.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var l=u.charCodeAt(a-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:i,escapeXml:f,graphemeSplit:h}}(),function(){var c=Array.prototype.slice,i=function(){},f=function(){for(var d in{toString:1})if(d==="toString")return!1;return!0}(),h=function(d,g,l){for(var m in g)m in d.prototype&&typeof d.prototype[m]=="function"&&(g[m]+"").indexOf("callSuper")>-1?d.prototype[m]=function(b){return function(){var y=this.constructor.superclass;this.constructor.superclass=l;var S=g[b].apply(this,arguments);if(this.constructor.superclass=y,b!=="initialize")return S}}(m):d.prototype[m]=g[m],f&&(g.toString!==Object.prototype.toString&&(d.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(d.prototype.valueOf=g.valueOf))};function o(){}function u(d){for(var g=null,l=this;l.constructor.superclass;){var m=l.constructor.superclass.prototype[d];if(l[d]!==m){g=m;break}l=l.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this):console.log("tried to callSuper "+d+", method not found in prototype chain",this)}function a(){var d=null,g=c.call(arguments,0);typeof g[0]=="function"&&(d=g.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=d,l.subclasses=[],d&&(o.prototype=d.prototype,l.prototype=new o,d.subclasses.push(l));for(var m=0,b=g.length;m<b;m++)h(l,g[m],d);return l.prototype.initialize||(l.prototype.initialize=i),l.prototype.constructor=l,l.prototype.callSuper=u,l}t.util.createClass=a}(),function(){var c=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(h,o,u,a){h&&h.addEventListener(o,u,c?!1:a)},t.util.removeListener=function(h,o,u,a){h&&h.removeEventListener(o,u,c?!1:a)};function f(h){var o=h.changedTouches;return o&&o[0]?o[0]:h}t.util.getPointer=function(h){var o=h.target,u=t.util.getScrollLeftTop(o),a=f(h);return{x:a.clientX+u.left,y:a.clientY+u.top}},t.util.isTouchEvent=function(h){return i.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function c(a,d){var g=a.style;if(!g)return a;if(typeof d=="string")return a.style.cssText+=";"+d,d.indexOf("opacity")>-1?u(a,d.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var l in d)if(l==="opacity")u(a,d[l]);else{var m=l==="float"||l==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":l;g.setProperty(m,d[l])}return a}var i=t.document.createElement("div"),f=typeof i.style.opacity=="string",h=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(a){return a};f?u=function(a,d){return a.style.opacity=d,a}:h&&(u=function(a,d){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(d=d>=.9999?"":"alpha(opacity="+d*100+")",g.filter=g.filter.replace(o,d)):g.filter+=" alpha(opacity="+d*100+")",a}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(S){return typeof S=="string"?t.document.getElementById(S):S}var f,h=function(S){return c.call(S,0)};try{f=h(t.document.childNodes)instanceof Array}catch{}f||(h=function(S){for(var w=new Array(S.length),x=S.length;x--;)w[x]=S[x];return w});function o(S,w){var x=t.document.createElement(S);for(var E in w)E==="class"?x.className=w[E]:E==="for"?x.htmlFor=w[E]:x.setAttribute(E,w[E]);return x}function u(S,w){S&&(" "+S.className+" ").indexOf(" "+w+" ")===-1&&(S.className+=(S.className?" ":"")+w)}function a(S,w,x){return typeof w=="string"&&(w=o(w,x)),S.parentNode&&S.parentNode.replaceChild(w,S),w.appendChild(S),w}function d(S){for(var w=0,x=0,E=t.document.documentElement,_=t.document.body||{scrollLeft:0,scrollTop:0};S&&(S.parentNode||S.host)&&(S=S.parentNode||S.host,S===t.document?(w=_.scrollLeft||E.scrollLeft||0,x=_.scrollTop||E.scrollTop||0):(w+=S.scrollLeft||0,x+=S.scrollTop||0),!(S.nodeType===1&&S.style.position==="fixed")););return{left:w,top:x}}function g(S){var w,x=S&&S.ownerDocument,E={left:0,top:0},_={left:0,top:0},$,I={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!x)return _;for(var A in I)_[I[A]]+=parseInt(l(S,A),10)||0;return w=x.documentElement,typeof S.getBoundingClientRect<"u"&&(E=S.getBoundingClientRect()),$=d(S),{left:E.left+$.left-(w.clientLeft||0)+_.left,top:E.top+$.top-(w.clientTop||0)+_.top}}var l;t.document.defaultView&&t.document.defaultView.getComputedStyle?l=function(S,w){var x=t.document.defaultView.getComputedStyle(S,null);return x?x[w]:void 0}:l=function(S,w){var x=S.style[w];return!x&&S.currentStyle&&(x=S.currentStyle[w]),x},function(){var S=t.document.documentElement.style,w="userSelect"in S?"userSelect":"MozUserSelect"in S?"MozUserSelect":"WebkitUserSelect"in S?"WebkitUserSelect":"KhtmlUserSelect"in S?"KhtmlUserSelect":"";function x(_){return typeof _.onselectstart<"u"&&(_.onselectstart=t.util.falseFunction),w?_.style[w]="none":typeof _.unselectable=="string"&&(_.unselectable="on"),_}function E(_){return typeof _.onselectstart<"u"&&(_.onselectstart=null),w?_.style[w]="":typeof _.unselectable=="string"&&(_.unselectable=""),_}t.util.makeElementUnselectable=x,t.util.makeElementSelectable=E}();function m(S){var w=t.jsdomImplForWrapper(S);return w._canvas||w._image}function b(S){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(S);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function y(S,w){S.imageSmoothingEnabled=S.imageSmoothingEnabled||S.webkitImageSmoothingEnabled||S.mozImageSmoothingEnabled||S.msImageSmoothingEnabled||S.oImageSmoothingEnabled,S.imageSmoothingEnabled=w}t.util.setImageSmoothing=y,t.util.getById=i,t.util.toArray=h,t.util.addClass=u,t.util.makeElement=o,t.util.wrapElement=a,t.util.getScrollLeftTop=d,t.util.getElementOffset=g,t.util.getNodeCanvas=m,t.util.cleanUpJsdomNode=b}(),function(){function c(h,o){return h+(/\?/.test(h)?"&":"?")+o}function i(){}function f(h,o){o||(o={});var u=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},d=new t.window.XMLHttpRequest,g=o.body||o.parameters;return d.onreadystatechange=function(){d.readyState===4&&(a(d),d.onreadystatechange=i)},u==="GET"&&(g=null,typeof o.parameters=="string"&&(h=c(h,o.parameters))),d.open(u,h,!0),(u==="POST"||u==="PUT")&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(g),d}t.util.request=f}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,i=t.util.object.clone,f=[];t.util.object.extend(f,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(b){b.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var b=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===m});return b.forEach(function(y){y.cancel()}),b},cancelByTarget:function(m){var b=this.findAnimationsByTarget(m);return b.forEach(function(y){y.cancel()}),b},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(b){return b.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(b){return b.target===m}):[]}});function h(){return!1}function o(m,b,y,S){return-y*Math.cos(m/S*(Math.PI/2))+y+b}function u(m){m||(m={});var b=!1,y,S=function(){var w=t.runningAnimations.indexOf(y);return w>-1&&t.runningAnimations.splice(w,1)[0]};return y=c(i(m),{cancel:function(){return b=!0,S()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),g(function(w){var x=w||+new Date,E=m.duration||500,_=x+E,$,I=m.onChange||h,A=m.abort||h,F=m.onComplete||h,z=m.easing||o,D="startValue"in m?m.startValue.length>0:!1,H="startValue"in m?m.startValue:0,B="endValue"in m?m.endValue:100,j=m.byValue||(D?H.map(function(N,O){return B[O]-H[O]}):B-H);m.onStart&&m.onStart(),function N(O){$=O||+new Date;var P=$>_?E:$-x,T=P/E,M=D?H.map(function(L,R){return z(P,H[R],j[R],E)}):z(P,H,j,E),k=Math.abs(D?(M[0]-H[0])/j[0]:(M-H)/j);if(y.currentValue=D?M.slice():M,y.completionRate=k,y.durationRate=T,!b){if(A(M,k,T)){S();return}if($>_){y.currentValue=D?B.slice():B,y.completionRate=1,y.durationRate=1,I(D?B.slice():B,1,1),F(B,1,1),S();return}else I(M,k,T),g(N)}}(x)}),y.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(m){return t.window.setTimeout(m,1e3/60)},d=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return a.apply(t.window,arguments)}function l(){return d.apply(t.window,arguments)}t.util.animate=u,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=l,t.runningAnimations=f}(),function(){function c(f,h,o){var u="rgba("+parseInt(f[0]+o*(h[0]-f[0]),10)+","+parseInt(f[1]+o*(h[1]-f[1]),10)+","+parseInt(f[2]+o*(h[2]-f[2]),10);return u+=","+(f&&h?parseFloat(f[3]+o*(h[3]-f[3])):1),u+=")",u}function i(f,h,o,u){var a=new t.Color(f).getSource(),d=new t.Color(h).getSource(),g=u.onComplete,l=u.onChange;return u=u||{},t.util.animate(t.util.object.extend(u,{duration:o||500,startValue:a,endValue:d,byValue:d,easing:function(m,b,y,S){var w=u.colorEasing?u.colorEasing(m,S):1-Math.cos(m/S*(Math.PI/2));return c(b,y,w)},onComplete:function(m,b,y){if(g)return g(c(d,d,0),b,y)},onChange:function(m,b,y){if(l){if(Array.isArray(m))return l(c(m,m,0),b,y);l(m,b,y)}}}))}t.util.animateColor=i}(),function(){function c(O,P,T,M){return O<Math.abs(P)?(O=P,M=T/4):P===0&&O===0?M=T/(2*Math.PI)*Math.asin(1):M=T/(2*Math.PI)*Math.asin(P/O),{a:O,c:P,p:T,s:M}}function i(O,P,T){return O.a*Math.pow(2,10*(P-=1))*Math.sin((P*T-O.s)*(2*Math.PI)/O.p)}function f(O,P,T,M){return T*((O=O/M-1)*O*O+1)+P}function h(O,P,T,M){return O/=M/2,O<1?T/2*O*O*O+P:T/2*((O-=2)*O*O+2)+P}function o(O,P,T,M){return T*(O/=M)*O*O*O+P}function u(O,P,T,M){return-T*((O=O/M-1)*O*O*O-1)+P}function a(O,P,T,M){return O/=M/2,O<1?T/2*O*O*O*O+P:-T/2*((O-=2)*O*O*O-2)+P}function d(O,P,T,M){return T*(O/=M)*O*O*O*O+P}function g(O,P,T,M){return T*((O=O/M-1)*O*O*O*O+1)+P}function l(O,P,T,M){return O/=M/2,O<1?T/2*O*O*O*O*O+P:T/2*((O-=2)*O*O*O*O+2)+P}function m(O,P,T,M){return-T*Math.cos(O/M*(Math.PI/2))+T+P}function b(O,P,T,M){return T*Math.sin(O/M*(Math.PI/2))+P}function y(O,P,T,M){return-T/2*(Math.cos(Math.PI*O/M)-1)+P}function S(O,P,T,M){return O===0?P:T*Math.pow(2,10*(O/M-1))+P}function w(O,P,T,M){return O===M?P+T:T*(-Math.pow(2,-10*O/M)+1)+P}function x(O,P,T,M){return O===0?P:O===M?P+T:(O/=M/2,O<1?T/2*Math.pow(2,10*(O-1))+P:T/2*(-Math.pow(2,-10*--O)+2)+P)}function E(O,P,T,M){return-T*(Math.sqrt(1-(O/=M)*O)-1)+P}function _(O,P,T,M){return T*Math.sqrt(1-(O=O/M-1)*O)+P}function $(O,P,T,M){return O/=M/2,O<1?-T/2*(Math.sqrt(1-O*O)-1)+P:T/2*(Math.sqrt(1-(O-=2)*O)+1)+P}function I(O,P,T,M){var k=1.70158,L=0,R=T;if(O===0)return P;if(O/=M,O===1)return P+T;L||(L=M*.3);var V=c(R,T,L,k);return-i(V,O,M)+P}function A(O,P,T,M){var k=1.70158,L=0,R=T;if(O===0)return P;if(O/=M,O===1)return P+T;L||(L=M*.3);var V=c(R,T,L,k);return V.a*Math.pow(2,-10*O)*Math.sin((O*M-V.s)*(2*Math.PI)/V.p)+V.c+P}function F(O,P,T,M){var k=1.70158,L=0,R=T;if(O===0)return P;if(O/=M/2,O===2)return P+T;L||(L=M*(.3*1.5));var V=c(R,T,L,k);return O<1?-.5*i(V,O,M)+P:V.a*Math.pow(2,-10*(O-=1))*Math.sin((O*M-V.s)*(2*Math.PI)/V.p)*.5+V.c+P}function z(O,P,T,M,k){return k===void 0&&(k=1.70158),T*(O/=M)*O*((k+1)*O-k)+P}function D(O,P,T,M,k){return k===void 0&&(k=1.70158),T*((O=O/M-1)*O*((k+1)*O+k)+1)+P}function H(O,P,T,M,k){return k===void 0&&(k=1.70158),O/=M/2,O<1?T/2*(O*O*(((k*=1.525)+1)*O-k))+P:T/2*((O-=2)*O*(((k*=1.525)+1)*O+k)+2)+P}function B(O,P,T,M){return T-j(M-O,0,T,M)+P}function j(O,P,T,M){return(O/=M)<1/2.75?T*(7.5625*O*O)+P:O<2/2.75?T*(7.5625*(O-=1.5/2.75)*O+.75)+P:O<2.5/2.75?T*(7.5625*(O-=2.25/2.75)*O+.9375)+P:T*(7.5625*(O-=2.625/2.75)*O+.984375)+P}function N(O,P,T,M){return O<M/2?B(O*2,0,T,M)*.5+P:j(O*2-M,0,T,M)*.5+T*.5+P}t.util.ease={easeInQuad:function(O,P,T,M){return T*(O/=M)*O+P},easeOutQuad:function(O,P,T,M){return-T*(O/=M)*(O-2)+P},easeInOutQuad:function(O,P,T,M){return O/=M/2,O<1?T/2*O*O+P:-T/2*(--O*(O-2)-1)+P},easeInCubic:function(O,P,T,M){return T*(O/=M)*O*O+P},easeOutCubic:f,easeInOutCubic:h,easeInQuart:o,easeOutQuart:u,easeInOutQuart:a,easeInQuint:d,easeOutQuint:g,easeInOutQuint:l,easeInSine:m,easeOutSine:b,easeInOutSine:y,easeInExpo:S,easeOutExpo:w,easeInOutExpo:x,easeInCirc:E,easeOutCirc:_,easeInOutCirc:$,easeInElastic:I,easeOutElastic:A,easeInOutElastic:F,easeInBack:z,easeOutBack:D,easeInOutBack:H,easeInBounce:B,easeOutBounce:j,easeInOutBounce:N}}(),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.object.clone,o=i.util.toFixed,u=i.util.parseUnit,a=i.util.multiplyTransformMatrices,d=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},S="font-size",w="clip-path";i.svgValidTagNamesRegEx=_(d),i.svgViewBoxElementsRegEx=_(g),i.svgInvalidAncestorsRegEx=_(l),i.svgValidParentsRegEx=_(m),i.cssRules={},i.gradientDefs={},i.clipPaths={};function x(L){return L in b?b[L]:L}function E(L,R,V,W){var Y=Array.isArray(R),Q;if((L==="fill"||L==="stroke")&&R==="none")R="";else{if(L==="strokeUniform")return R==="non-scaling-stroke";if(L==="strokeDashArray")R==="none"?R=null:R=R.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(L==="transformMatrix")V&&V.transformMatrix?R=a(V.transformMatrix,i.parseTransformAttribute(R)):R=i.parseTransformAttribute(R);else if(L==="visible")R=R!=="none"&&R!=="hidden",V&&V.visible===!1&&(R=!1);else if(L==="opacity")R=parseFloat(R),V&&typeof V.opacity<"u"&&(R*=V.opacity);else if(L==="textAnchor")R=R==="start"?"left":R==="end"?"right":"center";else if(L==="charSpacing")Q=u(R,W)/W*1e3;else if(L==="paintFirst"){var G=R.indexOf("fill"),K=R.indexOf("stroke"),R="fill";(G>-1&&K>-1&&K<G||G===-1&&K>-1)&&(R="stroke")}else{if(L==="href"||L==="xlink:href"||L==="font")return R;if(L==="imageSmoothing")return R==="optimizeQuality";Q=Y?R.map(u):u(R,W)}}return!Y&&isNaN(Q)?R:Q}function _(L){return new RegExp("^("+L.join("|")+")\\b","i")}function $(L){for(var R in y)if(!(typeof L[y[R]]>"u"||L[R]==="")){if(typeof L[R]>"u"){if(!i.Object.prototype[R])continue;L[R]=i.Object.prototype[R]}if(L[R].indexOf("url(")!==0){var V=new i.Color(L[R]);L[R]=V.setAlpha(o(V.getAlpha()*L[y[R]],2)).toRgba()}}return L}function I(L,R){var V,W=[],Y,Q,G;for(Q=0,G=R.length;Q<G;Q++)V=R[Q],Y=L.getElementsByTagName(V),W=W.concat(Array.prototype.slice.call(Y));return W}i.parseTransformAttribute=function(){function L(oe,ue){var he=i.util.cos(ue[0]),pe=i.util.sin(ue[0]),ve=0,xe=0;ue.length===3&&(ve=ue[1],xe=ue[2]),oe[0]=he,oe[1]=pe,oe[2]=-pe,oe[3]=he,oe[4]=ve-(he*ve-pe*xe),oe[5]=xe-(pe*ve+he*xe)}function R(oe,ue){var he=ue[0],pe=ue.length===2?ue[1]:ue[0];oe[0]=he,oe[3]=pe}function V(oe,ue,he){oe[he]=Math.tan(i.util.degreesToRadians(ue[0]))}function W(oe,ue){oe[4]=ue[0],ue.length===2&&(oe[5]=ue[1])}var Y=i.iMatrix,Q=i.reNum,G=i.commaWsp,K="(?:(skewX)\\s*\\(\\s*("+Q+")\\s*\\))",re="(?:(skewY)\\s*\\(\\s*("+Q+")\\s*\\))",q="(?:(rotate)\\s*\\(\\s*("+Q+")(?:"+G+"("+Q+")"+G+"("+Q+"))?\\s*\\))",X="(?:(scale)\\s*\\(\\s*("+Q+")(?:"+G+"("+Q+"))?\\s*\\))",Z="(?:(translate)\\s*\\(\\s*("+Q+")(?:"+G+"("+Q+"))?\\s*\\))",ne="(?:(matrix)\\s*\\(\\s*("+Q+")"+G+"("+Q+")"+G+"("+Q+")"+G+"("+Q+")"+G+"("+Q+")"+G+"("+Q+")\\s*\\))",te="(?:"+ne+"|"+Z+"|"+X+"|"+q+"|"+K+"|"+re+")",ie="(?:"+te+"(?:"+G+"*"+te+")*)",le="^\\s*(?:"+ie+"?)\\s*$",fe=new RegExp(le),ce=new RegExp(te,"g");return function(oe){var ue=Y.concat(),he=[];if(!oe||oe&&!fe.test(oe))return ue;oe.replace(ce,function(ve){var xe=new RegExp(te).exec(ve).filter(function(Ce){return!!Ce}),Te=xe[1],be=xe.slice(2).map(parseFloat);switch(Te){case"translate":W(ue,be);break;case"rotate":be[0]=i.util.degreesToRadians(be[0]),L(ue,be);break;case"scale":R(ue,be);break;case"skewX":V(ue,be,2);break;case"skewY":V(ue,be,1);break;case"matrix":ue=be;break}he.push(ue.concat()),ue=Y.concat()});for(var pe=he[0];he.length>1;)he.shift(),pe=i.util.multiplyTransformMatrices(pe,he[0]);return pe}}();function A(L,R){var V,W;L.replace(/;\s*$/,"").split(";").forEach(function(Y){var Q=Y.split(":");V=Q[0].trim().toLowerCase(),W=Q[1].trim(),R[V]=W})}function F(L,R){var V,W;for(var Y in L)typeof L[Y]>"u"||(V=Y.toLowerCase(),W=L[Y],R[V]=W)}function z(L,R){var V={};for(var W in i.cssRules[R])if(D(L,W.split(" ")))for(var Y in i.cssRules[R][W])V[Y]=i.cssRules[R][W][Y];return V}function D(L,R){var V,W=!0;return V=B(L,R.pop()),V&&R.length&&(W=H(L,R)),V&&W&&R.length===0}function H(L,R){for(var V,W=!0;L.parentNode&&L.parentNode.nodeType===1&&R.length;)W&&(V=R.pop()),L=L.parentNode,W=B(L,V);return R.length===0}function B(L,R){var V=L.nodeName,W=L.getAttribute("class"),Y=L.getAttribute("id"),Q,G;if(Q=new RegExp("^"+V,"i"),R=R.replace(Q,""),Y&&R.length&&(Q=new RegExp("#"+Y+"(?![a-zA-Z\\-]+)","i"),R=R.replace(Q,"")),W&&R.length)for(W=W.split(" "),G=W.length;G--;)Q=new RegExp("\\."+W[G]+"(?![a-zA-Z\\-]+)","i"),R=R.replace(Q,"");return R.length===0}function j(L,R){var V;if(L.getElementById&&(V=L.getElementById(R)),V)return V;var W,Y,Q,G=L.getElementsByTagName("*");for(Y=0,Q=G.length;Y<Q;Y++)if(W=G[Y],R===W.getAttribute("id"))return W}function N(L){for(var R=I(L,["use","svg:use"]),V=0;R.length&&V<R.length;){var W=R[V],Y=W.getAttribute("xlink:href")||W.getAttribute("href");if(Y===null)return;var Q=Y.slice(1),G=W.getAttribute("x")||0,K=W.getAttribute("y")||0,re=j(L,Q).cloneNode(!0),q=(re.getAttribute("transform")||"")+" translate("+G+", "+K+")",X,Z=R.length,ne,te,ie,le,fe=i.svgNS;if(P(re),/^svg$/i.test(re.nodeName)){var ce=re.ownerDocument.createElementNS(fe,"g");for(te=0,ie=re.attributes,le=ie.length;te<le;te++)ne=ie.item(te),ce.setAttributeNS(fe,ne.nodeName,ne.nodeValue);for(;re.firstChild;)ce.appendChild(re.firstChild);re=ce}for(te=0,ie=W.attributes,le=ie.length;te<le;te++)ne=ie.item(te),!(ne.nodeName==="x"||ne.nodeName==="y"||ne.nodeName==="xlink:href"||ne.nodeName==="href")&&(ne.nodeName==="transform"?q=ne.nodeValue+" "+q:re.setAttribute(ne.nodeName,ne.nodeValue));re.setAttribute("transform",q),re.setAttribute("instantiated_by_use","1"),re.removeAttribute("id"),X=W.parentNode,X.replaceChild(re,W),R.length===Z&&V++}}var O=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function P(L){if(!i.svgViewBoxElementsRegEx.test(L.nodeName))return{};var R=L.getAttribute("viewBox"),V=1,W=1,Y=0,Q=0,G,K,re,q,X=L.getAttribute("width"),Z=L.getAttribute("height"),ne=L.getAttribute("x")||0,te=L.getAttribute("y")||0,ie=L.getAttribute("preserveAspectRatio")||"",le=!R||!(R=R.match(O)),fe=!X||!Z||X==="100%"||Z==="100%",ce=le&&fe,oe={},ue="",he=0,pe=0;if(oe.width=0,oe.height=0,oe.toBeParsed=ce,le&&(ne||te)&&L.parentNode&&L.parentNode.nodeName!=="#document"&&(ue=" translate("+u(ne)+" "+u(te)+") ",re=(L.getAttribute("transform")||"")+ue,L.setAttribute("transform",re),L.removeAttribute("x"),L.removeAttribute("y")),ce)return oe;if(le)return oe.width=u(X),oe.height=u(Z),oe;if(Y=-parseFloat(R[1]),Q=-parseFloat(R[2]),G=parseFloat(R[3]),K=parseFloat(R[4]),oe.minX=Y,oe.minY=Q,oe.viewBoxWidth=G,oe.viewBoxHeight=K,fe?(oe.width=G,oe.height=K):(oe.width=u(X),oe.height=u(Z),V=oe.width/G,W=oe.height/K),ie=i.util.parsePreserveAspectRatioAttribute(ie),ie.alignX!=="none"&&(ie.meetOrSlice==="meet"&&(W=V=V>W?W:V),ie.meetOrSlice==="slice"&&(W=V=V>W?V:W),he=oe.width-G*V,pe=oe.height-K*V,ie.alignX==="Mid"&&(he/=2),ie.alignY==="Mid"&&(pe/=2),ie.alignX==="Min"&&(he=0),ie.alignY==="Min"&&(pe=0)),V===1&&W===1&&Y===0&&Q===0&&ne===0&&te===0)return oe;if((ne||te)&&L.parentNode.nodeName!=="#document"&&(ue=" translate("+u(ne)+" "+u(te)+") "),re=ue+" matrix("+V+" 0 0 "+W+" "+(Y*V+he)+" "+(Q*W+pe)+") ",L.nodeName==="svg"){for(q=L.ownerDocument.createElementNS(i.svgNS,"g");L.firstChild;)q.appendChild(L.firstChild);L.appendChild(q)}else q=L,q.removeAttribute("x"),q.removeAttribute("y"),re=q.getAttribute("transform")+re;return q.setAttribute("transform",re),oe}function T(L,R){for(;L&&(L=L.parentNode);)if(L.nodeName&&R.test(L.nodeName.replace("svg:",""))&&!L.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(L,R,V,W){if(L){N(L);var Y=i.Object.__uid++,Q,G,K=P(L),re=i.util.toArray(L.getElementsByTagName("*"));if(K.crossOrigin=W&&W.crossOrigin,K.svgUid=Y,re.length===0&&i.isLikelyNode){re=L.selectNodes('//*[name(.)!="svg"]');var q=[];for(Q=0,G=re.length;Q<G;Q++)q[Q]=re[Q];re=q}var X=re.filter(function(ne){return P(ne),i.svgValidTagNamesRegEx.test(ne.nodeName.replace("svg:",""))&&!T(ne,i.svgInvalidAncestorsRegEx)});if(!X||X&&!X.length){R&&R([],{});return}var Z={};re.filter(function(ne){return ne.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ne){var te=ne.getAttribute("id");Z[te]=i.util.toArray(ne.getElementsByTagName("*")).filter(function(ie){return i.svgValidTagNamesRegEx.test(ie.nodeName.replace("svg:",""))})}),i.gradientDefs[Y]=i.getGradientDefs(L),i.cssRules[Y]=i.getCSSRules(L),i.clipPaths[Y]=Z,i.parseElements(X,function(ne,te){R&&(R(ne,K,te,re),delete i.gradientDefs[Y],delete i.cssRules[Y],delete i.clipPaths[Y])},h(K),V,W)}};function M(L,R){var V=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],W="xlink:href",Y=R.getAttribute(W).slice(1),Q=j(L,Y);if(Q&&Q.getAttribute(W)&&M(L,Q),V.forEach(function(K){Q&&!R.hasAttribute(K)&&Q.hasAttribute(K)&&R.setAttribute(K,Q.getAttribute(K))}),!R.children.length)for(var G=Q.cloneNode(!0);G.firstChild;)R.appendChild(G.firstChild);R.removeAttribute(W)}var k=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");f(i,{parseFontDeclaration:function(L,R){var V=L.match(k);if(V){var W=V[1],Y=V[3],Q=V[4],G=V[5],K=V[6];W&&(R.fontStyle=W),Y&&(R.fontWeight=isNaN(parseFloat(Y))?Y:parseFloat(Y)),Q&&(R.fontSize=u(Q)),K&&(R.fontFamily=K),G&&(R.lineHeight=G==="normal"?1:G)}},getGradientDefs:function(L){var R=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],V=I(L,R),W,Y=0,Q={};for(Y=V.length;Y--;)W=V[Y],W.getAttribute("xlink:href")&&M(L,W),Q[W.getAttribute("id")]=W;return Q},parseAttributes:function(L,R,V){if(L){var W,Y={},Q,G;typeof V>"u"&&(V=L.getAttribute("svgUid")),L.parentNode&&i.svgValidParentsRegEx.test(L.parentNode.nodeName)&&(Y=i.parseAttributes(L.parentNode,R,V));var K=R.reduce(function(ie,le){return W=L.getAttribute(le),W&&(ie[le]=W),ie},{}),re=f(z(L,V),i.parseStyleAttribute(L));K=f(K,re),re[w]&&L.setAttribute(w,re[w]),Q=G=Y.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,K[S]&&(K[S]=Q=u(K[S],G));var q,X,Z={};for(var ne in K)q=x(ne),X=E(q,K[ne],Y,Q),Z[q]=X;Z&&Z.font&&i.parseFontDeclaration(Z.font,Z);var te=f(Y,Z);return i.svgValidParentsRegEx.test(L.nodeName)?te:$(te)}},parseElements:function(L,R,V,W,Y){new i.ElementsParser(L,R,V,W,Y).parse()},parseStyleAttribute:function(L){var R={},V=L.getAttribute("style");return V&&(typeof V=="string"?A(V,R):F(V,R)),R},parsePointsAttribute:function(L){if(!L)return null;L=L.replace(/,/g," ").trim(),L=L.split(/\s+/);var R=[],V,W;for(V=0,W=L.length;V<W;V+=2)R.push({x:parseFloat(L[V]),y:parseFloat(L[V+1])});return R},getCSSRules:function(L){var R=L.getElementsByTagName("style"),V,W,Y={},Q;for(V=0,W=R.length;V<W;V++){var G=R[V].textContent;G=G.replace(/\/\*[\s\S]*?\*\//g,""),G.trim()!==""&&(Q=G.split("}"),Q=Q.filter(function(K){return K.trim()}),Q.forEach(function(K){var re=K.split("{"),q={},X=re[1].trim(),Z=X.split(";").filter(function(le){return le.trim()});for(V=0,W=Z.length;V<W;V++){var ne=Z[V].split(":"),te=ne[0].trim(),ie=ne[1].trim();q[te]=ie}K=re[0].trim(),K.split(",").forEach(function(le){le=le.replace(/^svg/i,"").trim(),le!==""&&(Y[le]?i.util.object.extend(Y[le],q):Y[le]=i.util.object.clone(q))})}))}return Y},loadSVGFromURL:function(L,R,V,W){L=L.replace(/^\n\s*/,"").trim(),new i.util.request(L,{method:"get",onComplete:Y});function Y(Q){var G=Q.responseXML;if(!G||!G.documentElement)return R&&R(null),!1;i.parseSVGDocument(G.documentElement,function(K,re,q,X){R&&R(K,re,q,X)},V,W)}},loadSVGFromString:function(L,R,V,W){var Y=new i.window.DOMParser,Q=Y.parseFromString(L.trim(),"text/xml");i.parseSVGDocument(Q.documentElement,function(G,K,re,q){R(G,K,re,q)},V,W)}})}(e),t.ElementsParser=function(c,i,f,h,o,u){this.elements=c,this.callback=i,this.options=f,this.reviver=h,this.svgUid=f&&f.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(f,h){f.setAttribute("svgUid",i.svgUid),i.createObject(f,h)})},c.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,f){var h=this.findTag(i);if(h&&h.fromElement)try{h.fromElement(i,this.createCallback(f,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},c.createCallback=function(i,f){var h=this;return function(o){var u;h.resolveGradient(o,f,"fill"),h.resolveGradient(o,f,"stroke"),o instanceof t.Image&&o._originalElement&&(u=o.parsePreserveAspectRatioAttribute(f)),o._removeTransformMatrix(u),h.resolveClipPath(o,f),h.reviver&&h.reviver(f,o),h.instances[i]=o,h.checkIfDone()}},c.extractPropertyDefinition=function(i,f,h){var o=i[f],u=this.regexUrl;if(u.test(o)){u.lastIndex=0;var a=u.exec(o)[1];return u.lastIndex=0,t[h][this.svgUid][a]}},c.resolveGradient=function(i,f,h){var o=this.extractPropertyDefinition(i,h,"gradientDefs");if(o){var u=f.getAttribute(h+"-opacity"),a=t.Gradient.fromElement(o,i,u,this.options);i.set(h,a)}},c.createClipPathCallback=function(i,f){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,f.push(h)}},c.resolveClipPath=function(i,f){var h=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,u,a,d,g,l;if(h){d=[],a=t.util.invertTransform(i.calcTransformMatrix());for(var m=h[0].parentNode,b=f;b.parentNode&&b.getAttribute("clip-path")!==i.clipPath;)b=b.parentNode;b.parentNode.appendChild(m);for(var y=0;y<h.length;y++)o=h[y],u=this.findTag(o),u.fromElement(o,this.createClipPathCallback(i,d),this.options);d.length===1?h=d[0]:h=new t.Group(d),g=t.util.multiplyTransformMatrices(a,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,b);var l=t.util.qrDecompose(g);h.flipX=!1,h.flipY=!1,h.set("scaleX",l.scaleX),h.set("scaleY",l.scaleY),h.angle=l.angle,h.skewX=l.skewX,h.skewY=0,h.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),i.clipPath=h}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=f;function f(h,o){this.x=h,this.y=o}f.prototype={type:"point",constructor:f,add:function(h){return new f(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new f(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new f(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new f(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new f(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new f(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new f(this.x+(h.x-this.x)*o,this.y+(h.y-this.y)*o)},distanceFrom:function(h){var o=this.x-h.x,u=this.y-h.y;return Math.sqrt(o*o+u*u)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new f(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new f(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,o){return this.x=h,this.y=o,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var o=this.x,u=this.y;this.x=h.x,this.y=h.y,h.x=o,h.y=u},clone:function(){return new f(this.x,this.y)}}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function f(h){this.status=h,this.points=[]}i.Intersection=f,i.Intersection.prototype={constructor:f,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},i.Intersection.intersectLineLine=function(h,o,u,a){var d,g=(a.x-u.x)*(h.y-u.y)-(a.y-u.y)*(h.x-u.x),l=(o.x-h.x)*(h.y-u.y)-(o.y-h.y)*(h.x-u.x),m=(a.y-u.y)*(o.x-h.x)-(a.x-u.x)*(o.y-h.y);if(m!==0){var b=g/m,y=l/m;0<=b&&b<=1&&0<=y&&y<=1?(d=new f("Intersection"),d.appendPoint(new i.Point(h.x+b*(o.x-h.x),h.y+b*(o.y-h.y)))):d=new f}else g===0||l===0?d=new f("Coincident"):d=new f("Parallel");return d},i.Intersection.intersectLinePolygon=function(h,o,u){var a=new f,d=u.length,g,l,m,b;for(b=0;b<d;b++)g=u[b],l=u[(b+1)%d],m=f.intersectLineLine(h,o,g,l),a.appendPoints(m.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(h,o){var u=new f,a=h.length,d;for(d=0;d<a;d++){var g=h[d],l=h[(d+1)%a],m=f.intersectLinePolygon(g,l,o);u.appendPoints(m.points)}return u.points.length>0&&(u.status="Intersection"),u},i.Intersection.intersectPolygonRectangle=function(h,o,u){var a=o.min(u),d=o.max(u),g=new i.Point(d.x,a.y),l=new i.Point(a.x,d.y),m=f.intersectLinePolygon(a,g,h),b=f.intersectLinePolygon(g,d,h),y=f.intersectLinePolygon(d,l,h),S=f.intersectLinePolygon(l,a,h),w=new f;return w.appendPoints(m.points),w.appendPoints(b.points),w.appendPoints(y.points),w.appendPoints(S.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function f(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=f,i.Color.prototype={_tryParsingColor:function(o){var u;o in f.colorNameMap&&(o=f.colorNameMap[o]),o==="transparent"&&(u=[255,255,255,0]),u||(u=f.sourceFromHex(o)),u||(u=f.sourceFromRgb(o)),u||(u=f.sourceFromHsl(o)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(o,u,a){o/=255,u/=255,a/=255;var d,g,l,m=i.util.array.max([o,u,a]),b=i.util.array.min([o,u,a]);if(l=(m+b)/2,m===b)d=g=0;else{var y=m-b;switch(g=l>.5?y/(2-m-b):y/(m+b),m){case o:d=(u-a)/y+(u<a?6:0);break;case u:d=(a-o)/y+2;break;case a:d=(o-u)/y+4;break}d/=6}return[Math.round(d*360),Math.round(g*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),u=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var o=this.getSource(),u=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),u,a,d;return u=o[0].toString(16),u=u.length===1?"0"+u:u,a=o[1].toString(16),a=a.length===1?"0"+a:a,d=o[2].toString(16),d=d.length===1?"0"+d:d,u.toUpperCase()+a.toUpperCase()+d.toUpperCase()},toHexa:function(){var o=this.getSource(),u;return u=Math.round(o[3]*255),u=u.toString(16),u=u.length===1?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var u=this.getSource();return u[3]=o,this.setSource(u),this},toGrayscale:function(){var o=this.getSource(),u=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([u,u,u,a]),this},toBlackWhite:function(o){var u=this.getSource(),a=(u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),d=u[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,d]),this},overlayWith:function(o){o instanceof f||(o=new f(o));var u=[],a=this.getAlpha(),d=.5,g=this.getSource(),l=o.getSource(),m;for(m=0;m<3;m++)u.push(Math.round(g[m]*(1-d)+l[m]*d));return u[3]=a,this.setSource(u),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(o,u,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(u-o)*6*a:a<1/2?u:a<2/3?o+(u-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return f.fromSource(f.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var u=o.match(f.reRGBa);if(u){var a=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),d=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),g=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(a,10),parseInt(d,10),parseInt(g,10),u[4]?parseFloat(u[4]):1]}},i.Color.fromRgba=f.fromRgb,i.Color.fromHsl=function(o){return f.fromSource(f.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var u=o.match(f.reHSLa);if(u){var a=(parseFloat(u[1])%360+360)%360/360,d=parseFloat(u[2])/(/%$/.test(u[2])?100:1),g=parseFloat(u[3])/(/%$/.test(u[3])?100:1),l,m,b;if(d===0)l=m=b=g;else{var y=g<=.5?g*(d+1):g+d-g*d,S=g*2-y;l=h(S,y,a+1/3),m=h(S,y,a),b=h(S,y,a-1/3)}return[Math.round(l*255),Math.round(m*255),Math.round(b*255),u[4]?parseFloat(u[4]):1]}},i.Color.fromHsla=f.fromHsl,i.Color.fromHex=function(o){return f.fromSource(f.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(f.reHex)){var u=o.slice(o.indexOf("#")+1),a=u.length===3||u.length===4,d=u.length===8||u.length===4,g=a?u.charAt(0)+u.charAt(0):u.substring(0,2),l=a?u.charAt(1)+u.charAt(1):u.substring(2,4),m=a?u.charAt(2)+u.charAt(2):u.substring(4,6),b=d?a?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(g,16),parseInt(l,16),parseInt(m,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var u=new f;return u.setSource(o),u}}(e),function(c){var i=c.fabric||(c.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],o={},u="left",a="top",d="right",g="bottom",l="center",m={top:g,bottom:a,left:d,right:u,center:l},b=i.util.radiansToDegrees,y=Math.sign||function(q){return(q>0)-(q<0)||+q};function S(q,X){var Z=q.angle+b(Math.atan2(X.y,X.x))+360;return Math.round(Z%360/45)}function w(q,X){var Z=X.transform.target,ne=Z.canvas,te=i.util.object.clone(X);te.target=Z,ne&&ne.fire("object:"+q,te),Z.fire(q,X)}function x(q,X){var Z=X.canvas,ne=Z.uniScaleKey,te=q[ne];return Z.uniformScaling&&!te||!Z.uniformScaling&&te}function E(q){return q.originX===l&&q.originY===l}function _(q,X,Z){var ne=q.lockScalingX,te=q.lockScalingY;return!!(ne&&te||!X&&(ne||te)&&Z||ne&&X==="x"||te&&X==="y")}function $(q,X,Z){var ne="not-allowed",te=x(q,Z),ie="";if(X.x!==0&&X.y===0?ie="x":X.x===0&&X.y!==0&&(ie="y"),_(Z,ie,te))return ne;var le=S(Z,X);return f[le]+"-resize"}function I(q,X,Z){var ne="not-allowed";if(X.x!==0&&Z.lockSkewingY||X.y!==0&&Z.lockSkewingX)return ne;var te=S(Z,X)%4;return h[te]+"-resize"}function A(q,X,Z){return q[Z.canvas.altActionKey]?o.skewCursorStyleHandler(q,X,Z):o.scaleCursorStyleHandler(q,X,Z)}function F(q,X,Z){var ne=q[Z.canvas.altActionKey];if(X.x===0)return ne?"skewX":"scaleY";if(X.y===0)return ne?"skewY":"scaleX"}function z(q,X,Z){return Z.lockRotation?"not-allowed":X.cursorStyle}function D(q,X,Z,ne){return{e:q,transform:X,pointer:{x:Z,y:ne}}}function H(q){return function(X,Z,ne,te){var ie=Z.target,le=ie.getCenterPoint(),fe=ie.translateToOriginPoint(le,Z.originX,Z.originY),ce=q(X,Z,ne,te);return ie.setPositionByOrigin(fe,Z.originX,Z.originY),ce}}function B(q,X){return function(Z,ne,te,ie){var le=X(Z,ne,te,ie);return le&&w(q,D(Z,ne,te,ie)),le}}function j(q,X,Z,ne,te){var ie=q.target,le=ie.controls[q.corner],fe=ie.canvas.getZoom(),ce=ie.padding/fe,oe=ie.toLocalPoint(new i.Point(ne,te),X,Z);return oe.x>=ce&&(oe.x-=ce),oe.x<=-ce&&(oe.x+=ce),oe.y>=ce&&(oe.y-=ce),oe.y<=ce&&(oe.y+=ce),oe.x-=le.offsetX,oe.y-=le.offsetY,oe}function N(q){return q.flipX!==q.flipY}function O(q,X,Z,ne,te){if(q[X]!==0){var ie=q._getTransformedDimensions()[ne],le=te/ie*q[Z];q.set(Z,le)}}function P(q,X,Z,ne){var te=X.target,ie=te._getTransformedDimensions(0,te.skewY),le=j(X,X.originX,X.originY,Z,ne),fe=Math.abs(le.x*2)-ie.x,ce=te.skewX,oe;fe<2?oe=0:(oe=b(Math.atan2(fe/te.scaleX,ie.y/te.scaleY)),X.originX===u&&X.originY===g&&(oe=-oe),X.originX===d&&X.originY===a&&(oe=-oe),N(te)&&(oe=-oe));var ue=ce!==oe;if(ue){var he=te._getTransformedDimensions().y;te.set("skewX",oe),O(te,"skewY","scaleY","y",he)}return ue}function T(q,X,Z,ne){var te=X.target,ie=te._getTransformedDimensions(te.skewX,0),le=j(X,X.originX,X.originY,Z,ne),fe=Math.abs(le.y*2)-ie.y,ce=te.skewY,oe;fe<2?oe=0:(oe=b(Math.atan2(fe/te.scaleY,ie.x/te.scaleX)),X.originX===u&&X.originY===g&&(oe=-oe),X.originX===d&&X.originY===a&&(oe=-oe),N(te)&&(oe=-oe));var ue=ce!==oe;if(ue){var he=te._getTransformedDimensions().x;te.set("skewY",oe),O(te,"skewX","scaleX","x",he)}return ue}function M(q,X,Z,ne){var te=X.target,ie=te.skewX,le,fe=X.originY;if(te.lockSkewingX)return!1;if(ie===0){var ce=j(X,l,l,Z,ne);ce.x>0?le=u:le=d}else ie>0&&(le=fe===a?u:d),ie<0&&(le=fe===a?d:u),N(te)&&(le=le===u?d:u);X.originX=le;var oe=B("skewing",H(P));return oe(q,X,Z,ne)}function k(q,X,Z,ne){var te=X.target,ie=te.skewY,le,fe=X.originX;if(te.lockSkewingY)return!1;if(ie===0){var ce=j(X,l,l,Z,ne);ce.y>0?le=a:le=g}else ie>0&&(le=fe===u?a:g),ie<0&&(le=fe===u?g:a),N(te)&&(le=le===a?g:a);X.originY=le;var oe=B("skewing",H(T));return oe(q,X,Z,ne)}function L(q,X,Z,ne){var te=X,ie=te.target,le=ie.translateToOriginPoint(ie.getCenterPoint(),te.originX,te.originY);if(ie.lockRotation)return!1;var fe=Math.atan2(te.ey-le.y,te.ex-le.x),ce=Math.atan2(ne-le.y,Z-le.x),oe=b(ce-fe+te.theta),ue=!0;if(ie.snapAngle>0){var he=ie.snapAngle,pe=ie.snapThreshold||he,ve=Math.ceil(oe/he)*he,xe=Math.floor(oe/he)*he;Math.abs(oe-xe)<pe?oe=xe:Math.abs(oe-ve)<pe&&(oe=ve)}return oe<0&&(oe=360+oe),oe%=360,ue=ie.angle!==oe,ie.angle=oe,ue}function R(q,X,Z,ne,te){te=te||{};var ie=X.target,le=ie.lockScalingX,fe=ie.lockScalingY,ce=te.by,oe,ue,he,pe,ve=x(q,ie),xe=_(ie,ce,ve),Te,be,Ce=X.gestureScale;if(xe)return!1;if(Ce)ue=X.scaleX*Ce,he=X.scaleY*Ce;else{if(oe=j(X,X.originX,X.originY,Z,ne),Te=ce!=="y"?y(oe.x):1,be=ce!=="x"?y(oe.y):1,X.signX||(X.signX=Te),X.signY||(X.signY=be),ie.lockScalingFlip&&(X.signX!==Te||X.signY!==be))return!1;if(pe=ie._getTransformedDimensions(),ve&&!ce){var He=Math.abs(oe.x)+Math.abs(oe.y),De=X.original,we=Math.abs(pe.x*De.scaleX/ie.scaleX)+Math.abs(pe.y*De.scaleY/ie.scaleY),Ae=He/we;ue=De.scaleX*Ae,he=De.scaleY*Ae}else ue=Math.abs(oe.x*ie.scaleX/pe.x),he=Math.abs(oe.y*ie.scaleY/pe.y);E(X)&&(ue*=2,he*=2),X.signX!==Te&&ce!=="y"&&(X.originX=m[X.originX],ue*=-1,X.signX=Te),X.signY!==be&&ce!=="x"&&(X.originY=m[X.originY],he*=-1,X.signY=be)}var Qe=ie.scaleX,$e=ie.scaleY;return ce?(ce==="x"&&ie.set("scaleX",ue),ce==="y"&&ie.set("scaleY",he)):(!le&&ie.set("scaleX",ue),!fe&&ie.set("scaleY",he)),Qe!==ie.scaleX||$e!==ie.scaleY}function V(q,X,Z,ne){return R(q,X,Z,ne)}function W(q,X,Z,ne){return R(q,X,Z,ne,{by:"x"})}function Y(q,X,Z,ne){return R(q,X,Z,ne,{by:"y"})}function Q(q,X,Z,ne){return q[X.target.canvas.altActionKey]?o.skewHandlerX(q,X,Z,ne):o.scalingY(q,X,Z,ne)}function G(q,X,Z,ne){return q[X.target.canvas.altActionKey]?o.skewHandlerY(q,X,Z,ne):o.scalingX(q,X,Z,ne)}function K(q,X,Z,ne){var te=X.target,ie=j(X,X.originX,X.originY,Z,ne),le=te.strokeWidth/(te.strokeUniform?te.scaleX:1),fe=E(X)?2:1,ce=te.width,oe=Math.abs(ie.x*fe/te.scaleX)-le;return te.set("width",Math.max(oe,0)),ce!==oe}function re(q,X,Z,ne){var te=X.target,ie=Z-X.offsetX,le=ne-X.offsetY,fe=!te.get("lockMovementX")&&te.left!==ie,ce=!te.get("lockMovementY")&&te.top!==le;return fe&&te.set("left",ie),ce&&te.set("top",le),(fe||ce)&&w("moving",D(q,X,Z,ne)),fe||ce}o.scaleCursorStyleHandler=$,o.skewCursorStyleHandler=I,o.scaleSkewCursorStyleHandler=A,o.rotationWithSnapping=B("rotating",H(L)),o.scalingEqually=B("scaling",H(V)),o.scalingX=B("scaling",H(W)),o.scalingY=B("scaling",H(Y)),o.scalingYOrSkewingX=Q,o.scalingXOrSkewingY=G,o.changeWidth=B("resizing",H(K)),o.skewHandlerX=M,o.skewHandlerY=k,o.dragHandler=re,o.scaleOrSkewActionName=F,o.rotationStyleHandler=z,o.fireEvent=w,o.wrapWithFixedAnchor=H,o.wrapWithFireEvent=B,o.getLocalPoint=j,i.controlsUtils=o}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.degreesToRadians,h=i.controlsUtils;function o(a,d,g,l,m){l=l||{};var b=this.sizeX||l.cornerSize||m.cornerSize,y=this.sizeY||l.cornerSize||m.cornerSize,S=typeof l.transparentCorners<"u"?l.transparentCorners:m.transparentCorners,w=S?"stroke":"fill",x=!S&&(l.cornerStrokeColor||m.cornerStrokeColor),E=d,_=g,$;a.save(),a.fillStyle=l.cornerColor||m.cornerColor,a.strokeStyle=l.cornerStrokeColor||m.cornerStrokeColor,b>y?($=b,a.scale(1,y/b),_=g*b/y):y>b?($=y,a.scale(b/y,1),E=d*y/b):$=b,a.lineWidth=1,a.beginPath(),a.arc(E,_,$/2,0,2*Math.PI,!1),a[w](),x&&a.stroke(),a.restore()}function u(a,d,g,l,m){l=l||{};var b=this.sizeX||l.cornerSize||m.cornerSize,y=this.sizeY||l.cornerSize||m.cornerSize,S=typeof l.transparentCorners<"u"?l.transparentCorners:m.transparentCorners,w=S?"stroke":"fill",x=!S&&(l.cornerStrokeColor||m.cornerStrokeColor),E=b/2,_=y/2;a.save(),a.fillStyle=l.cornerColor||m.cornerColor,a.strokeStyle=l.cornerStrokeColor||m.cornerStrokeColor,a.lineWidth=1,a.translate(d,g),a.rotate(f(m.angle)),a[w+"Rect"](-E,-_,b,y),x&&a.strokeRect(-E,-_,b,y),a.restore()}h.renderCircleControl=o,h.renderSquareControl=u}(e),function(c){var i=c.fabric||(c.fabric={});function f(h){for(var o in h)this[o]=h[o]}i.Control=f,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,o){return o.cursorStyle},getActionName:function(h,o){return o.actionName},getVisibility:function(h,o){var u=h._controlsVisibility;return u&&typeof u[o]<"u"?u[o]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,o){var u=i.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},o);return u},calcCornerCoords:function(h,o,u,a,d){var g,l,m,b,y=d?this.touchSizeX:this.sizeX,S=d?this.touchSizeY:this.sizeY;if(y&&S&&y!==S){var w=Math.atan2(S,y),x=Math.sqrt(y*y+S*S)/2,E=w-i.util.degreesToRadians(h),_=Math.PI/2-w-i.util.degreesToRadians(h);g=x*i.util.cos(E),l=x*i.util.sin(E),m=x*i.util.cos(_),b=x*i.util.sin(_)}else{var $=y&&S?y:o;x=$*.7071067812;var E=i.util.degreesToRadians(45-h);g=m=x*i.util.cos(E),l=b=x*i.util.sin(E)}return{tl:{x:u-b,y:a-m},tr:{x:u+g,y:a-l},bl:{x:u-g,y:a+l},br:{x:u+b,y:a+m}}},render:function(h,o,u,a,d){switch(a=a||{},a.cornerStyle||d.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,h,o,u,a,d);break;default:i.controlsUtils.renderSquareControl.call(this,h,o,u,a,d)}}}}(e),function(){function c(u,a){var d=u.getAttribute("style"),g=u.getAttribute("offset")||0,l,m,b,y;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,d){var S=d.split(/\s*;\s*/);for(S[S.length-1]===""&&S.pop(),y=S.length;y--;){var w=S[y].split(/\s*:\s*/),x=w[0].trim(),E=w[1].trim();x==="stop-color"?l=E:x==="stop-opacity"&&(b=E)}}return l||(l=u.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=u.getAttribute("stop-opacity")),l=new t.Color(l),m=l.getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=m*a,{offset:g,color:l.toRgb(),opacity:b}}function i(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}function f(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}var h=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var a,d=this;Object.keys(u).forEach(function(g){d[g]=u[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},this.type==="radial"&&(a.r1=u.coords.r1||0,a.r2=u.coords.r2||0),this.coords=a,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var a in u){var d=new t.Color(u[a]);this.colorStops.push({offset:parseFloat(a),color:d.toRgb(),opacity:d.getAlpha()})}return this},toObject:function(u){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,u),a},toSVG:function(u,m){var d=h(this.coords,!0),g,l,m=m||{},b,y,S=h(this.colorStops,!0),w=d.r1>d.r2,x=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),E=-this.offsetX,_=-this.offsetY,$=!!m.additionalTransform,I=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(S.sort(function(H,B){return H.offset-B.offset}),I==="objectBoundingBox"?(E/=u.width,_/=u.height):(E+=u.width/2,_+=u.height/2),u.type==="path"&&this.gradientUnits!=="percentage"&&(E-=u.pathOffset.x,_-=u.pathOffset.y),x[4]-=E,x[5]-=_,y='id="SVGID_'+this.id+'" gradientUnits="'+I+'"',y+=' gradientTransform="'+($?m.additionalTransform+" ":"")+t.util.matrixToSVG(x)+'" ',this.type==="linear"?b=["<linearGradient ",y,' x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`">
`]:this.type==="radial"&&(b=["<radialGradient ",y,' cx="',w?d.x1:d.x2,'" cy="',w?d.y1:d.y2,'" r="',w?d.r1:d.r2,'" fx="',w?d.x2:d.x1,'" fy="',w?d.y2:d.y1,`">
`]),this.type==="radial"){if(w)for(S=S.concat(),S.reverse(),g=0,l=S.length;g<l;g++)S[g].offset=1-S[g].offset;var A=Math.min(d.r1,d.r2);if(A>0){var F=Math.max(d.r1,d.r2),z=A/F;for(g=0,l=S.length;g<l;g++)S[g].offset+=z*(1-S[g].offset)}}for(g=0,l=S.length;g<l;g++){var D=S[g];b.push("<stop ",'offset="',D.offset*100+"%",'" style="stop-color:',D.color,typeof D.opacity<"u"?";stop-opacity: "+D.opacity:";",`"/>
`)}return b.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),b.join("")},toLive:function(u){var a,d=t.util.object.clone(this.coords),g,l;if(this.type){for(this.type==="linear"?a=u.createLinearGradient(d.x1,d.y1,d.x2,d.y2):this.type==="radial"&&(a=u.createRadialGradient(d.x1,d.y1,d.r1,d.x2,d.y2,d.r2)),g=0,l=this.colorStops.length;g<l;g++){var m=this.colorStops[g].color,b=this.colorStops[g].opacity,y=this.colorStops[g].offset;typeof b<"u"&&(m=new t.Color(m).setAlpha(b).toRgba()),a.addColorStop(y,m)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(u,a,d,g){var l=parseFloat(d)/(/%$/.test(d)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var m=u.getElementsByTagName("stop"),b,y=u.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",S=u.getAttribute("gradientTransform")||"",w=[],x,E,_=0,$=0,I;for(u.nodeName==="linearGradient"||u.nodeName==="LINEARGRADIENT"?(b="linear",x=i(u)):(b="radial",x=f(u)),E=m.length;E--;)w.push(c(m[E],l));I=t.parseTransformAttribute(S),o(a,x,g,y),y==="pixels"&&(_=-a.left,$=-a.top);var A=new t.Gradient({id:u.getAttribute("id"),type:b,coords:x,colorStops:w,gradientUnits:y,gradientTransform:I,offsetX:_,offsetY:$});return A}});function o(u,a,d,g){var l,m;Object.keys(a).forEach(function(b){l=a[b],l==="Infinity"?m=1:l==="-Infinity"?m=0:(m=parseFloat(a[b],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(m*=.01,g==="pixels"&&((b==="x1"||b==="x2"||b==="r2")&&(m*=d.viewBoxWidth||d.width),(b==="y1"||b==="y2")&&(m*=d.viewBoxHeight||d.height)))),a[b]=m})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,f){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){f&&f(this);return}else{var h=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,u){h.source=o,f&&f(h,u)},null,this.crossOrigin)}},toObject:function(i){var f=t.Object.NUM_FRACTION_DIGITS,h,o;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),o={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,f),offsetY:c(this.offsetY,f),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var f=typeof this.source=="function"?this.source():this.source,h=f.width/i.width,o=f.height/i.height,u=this.offsetX/i.width,a=this.offsetY/i.height,d="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,u&&(h+=Math.abs(u))),f.src?d=f.src:f.toDataURL&&(d=f.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+a+'" width="'+h+'" height="'+o+`">
<image x="0" y="0" width="`+f.width+'" height="'+f.height+'" xlink:href="'+d+`"></image>
</pattern>
`},setOptions:function(i){for(var f in i)this[f]=i[f]},toLive:function(i){var f=this.source;return!f||typeof f.src<"u"&&(!f.complete||f.naturalWidth===0||f.naturalHeight===0)?"":i.createPattern(f,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),f=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var o in h)this[o]=h[o];this.id=i.Object.__uid++},_parseShadow:function(h){var o=h.trim(),u=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var o=40,u=40,a=i.Object.NUM_FRACTION_DIGITS,d=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-h.angle)),g=20,l=new i.Color(this.color);return h.width&&h.height&&(o=f((Math.abs(d.x)+this.blur)/h.width,a)*100+g,u=f((Math.abs(d.y)+this.blur)/h.height,a)*100+g),h.flipX&&(d.x*=-1),h.flipY&&(d.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+f(d.x,a)+'" dy="'+f(d.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+l.toRgb()+'" flood-opacity="'+l.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==o[u]&&(h[u]=this[u])},this),h}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,i=t.util.getElementOffset,f=t.util.removeFromArray,h=t.util.toFixed,o=t.util.transformPoint,u=t.util.invertTransform,a=t.util.getNodeCanvas,d=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(l,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,m){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,b),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,b),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,b),m.overlayColor&&this.setOverlayColor(m.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=t.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,m,b){m.setAttribute("width",this.width*l),m.setAttribute("height",this.height*l),b.scale(l,l)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(l,m,b){return this.__setBgOverlayImage("overlayImage",l,m,b)},setBackgroundImage:function(l,m,b){return this.__setBgOverlayImage("backgroundImage",l,m,b)},setOverlayColor:function(l,m){return this.__setBgOverlayColor("overlayColor",l,m)},setBackgroundColor:function(l,m){return this.__setBgOverlayColor("backgroundColor",l,m)},__setBgOverlayImage:function(l,m,b,y){return typeof m=="string"?t.util.loadImage(m,function(S,w){if(S){var x=new t.Image(S,y);this[l]=x,x.canvas=this}b&&b(S,w)},this,y&&y.crossOrigin):(y&&m.setOptions(y),this[l]=m,m&&(m.canvas=this),b&&b(m,!1)),this},__setBgOverlayColor:function(l,m,b){return this[l]=m,this._initGradient(m,l),this._initPattern(m,l,b),this},_createCanvasElement:function(){var l=d();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw g;return l},_initOptions:function(l){var m=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){l&&l.getContext?this.lowerCanvasEl=l:this.lowerCanvasEl=t.util.getById(l)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,m){return this.setDimensions({width:l},m)},setHeight:function(l,m){return this.setDimensions({height:l},m)},setDimensions:function(l,m){var b;m=m||{};for(var y in l)b=l[y],m.cssOnly||(this._setBackstoreDimension(y,l[y]),b+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(y,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,m){return this.lowerCanvasEl[l]=m,this.upperCanvasEl&&(this.upperCanvasEl[l]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=m),this[l]=m,this},_setCssDimension:function(l,m){return this.lowerCanvasEl.style[l]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=m),this.wrapperEl&&(this.wrapperEl.style[l]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var m=this._activeObject,b=this.backgroundImage,y=this.overlayImage,S,w,x;for(this.viewportTransform=l,w=0,x=this._objects.length;w<x;w++)S=this._objects[w],S.group||S.setCoords(!0);return m&&m.setCoords(),b&&b.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,m){var b=l,y=this.viewportTransform.slice(0);l=o(l,u(this.viewportTransform)),y[0]=m,y[3]=m;var S=o(l,y);return y[4]+=b.x-S.x,y[5]+=b.y-S.y,this.setViewportTransform(y)},setZoom:function(l){return this.zoomToPoint(new t.Point(0,0),l),this},absolutePan:function(l){var m=this.viewportTransform.slice(0);return m[4]=-l.x,m[5]=-l.y,this.setViewportTransform(m)},relativePan:function(l){return this.absolutePan(new t.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var l=this.contextContainer;return this.renderCanvas(l,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},m=this.width,b=this.height,y=u(this.viewportTransform);return l.tl=o({x:0,y:0},y),l.br=o({x:m,y:b},y),l.tr=new t.Point(l.br.x,l.tl.y),l.bl=new t.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,m){var b=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),t.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(l,m),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var m=this.viewportTransform,b=this.clipPath;l.save(),l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),l.globalCompositeOperation="destination-in",b.transform(l),l.scale(1/b.zoomX,1/b.zoomY),l.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),l.restore()},_renderObjects:function(l,m){var b,y;for(b=0,y=m.length;b<y;++b)m[b]&&m[b].render(l)},_renderBackgroundOrOverlay:function(l,m){var b=this[m+"Color"],y=this[m+"Image"],S=this.viewportTransform,w=this[m+"Vpt"];if(!(!b&&!y)){if(b){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=b.toLive?b.toLive(l,this):b,w&&l.transform(S[0],S[1],S[2],S[3],S[4],S[5]),l.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var x=b.gradientTransform||b.patternTransform;x&&l.transform(x[0],x[1],x[2],x[3],x[4],x[5]),l.fill(),l.restore()}y&&(l.save(),w&&l.transform(S[0],S[1],S[2],S[3],S[4],S[5]),y.render(l),l.restore())}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new t.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new t.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var m=this.getCenterPoint();return this._centerObject(l,m)},viewportCenterObject:function(l){var m=this.getVpCenter();return this._centerObject(l,m)},viewportCenterObjectH:function(l){var m=this.getVpCenter();return this._centerObject(l,new t.Point(m.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var m=this.getVpCenter();return this._centerObject(l,new t.Point(l.getCenterPoint().x,m.y))},getVpCenter:function(){var l=this.getCenterPoint(),m=u(this.viewportTransform);return o(l,m)},_centerObject:function(l,m){return l.setPositionByOrigin(m,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,m){var b=this.clipPath,y={version:t.version,objects:this._toObjects(l,m)};return b&&!b.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,l,m)),c(y,this.__serializeBgOverlay(l,m)),t.util.populateWithProperties(this,y,m),y},_toObjects:function(l,m){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,l,m)},this)},_toObject:function(l,m,b){var y;this.includeDefaultValues||(y=l.includeDefaultValues,l.includeDefaultValues=!1);var S=l[m](b);return this.includeDefaultValues||(l.includeDefaultValues=y),S},__serializeBgOverlay:function(l,m){var b={},y=this.backgroundImage,S=this.overlayImage,w=this.backgroundColor,x=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(b.background=w.toObject(m)):w&&(b.background=w),x&&x.toObject?x.excludeFromExport||(b.overlay=x.toObject(m)):x&&(b.overlay=x),y&&!y.excludeFromExport&&(b.backgroundImage=this._toObject(y,l,m)),S&&!S.excludeFromExport&&(b.overlayImage=this._toObject(S,l,m)),b},svgViewportTransformation:!0,toSVG:function(l,m){l||(l={}),l.reviver=m;var b=[];return this._setSVGPreamble(b,l),this._setSVGHeader(b,l),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",m),this._setSVGObjects(b,m),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",m),b.push("</svg>"),b.join("")},_setSVGPreamble:function(l,m){m.suppressPreamble||l.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(l,m){var b=m.width||this.width,y=m.height||this.height,S,w='viewBox="0 0 '+this.width+" "+this.height+'" ',x=t.Object.NUM_FRACTION_DIGITS;m.viewBox?w='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(S=this.viewportTransform,w='viewBox="'+h(-S[4]/S[0],x)+" "+h(-S[5]/S[3],x)+" "+h(this.width/S[0],x)+" "+h(this.height/S[3],x)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',y,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(l){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(l.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var l=this,m=["background","overlay"].map(function(b){var y=l[b+"Color"];if(y&&y.toLive){var S=l[b+"Vpt"],w=l.viewportTransform,x={width:l.width/(S?w[0]:1),height:l.height/(S?w[3]:1)};return y.toSVG(x,{additionalTransform:S?t.util.matrixToSVG(w):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var l="",m={},b,y,S,w,x,E,_,$,I,A=t.fontPaths,F=[];for(this._objects.forEach(function D(H){F.push(H),H._objects&&H._objects.forEach(D)}),$=0,I=F.length;$<I;$++)if(b=F[$],y=b.fontFamily,!(b.type.indexOf("text")===-1||m[y]||!A[y])&&(m[y]=!0,!!b.styles)){S=b.styles;for(x in S){w=S[x];for(_ in w)E=w[_],y=E.fontFamily,!m[y]&&A[y]&&(m[y]=!0)}}for(var z in m)l+=[`		@font-face {
`,"			font-family: '",z,`';
`,"			src: url('",A[z],`');
`,`		}
`].join("");return l&&(l=['	<style type="text/css">',`<![CDATA[
`,l,"]]>",`</style>
`].join("")),l},_setSVGObjects:function(l,m){var b,y,S,w=this._objects;for(y=0,S=w.length;y<S;y++)b=w[y],!b.excludeFromExport&&this._setSVGObject(l,b,m)},_setSVGObject:function(l,m,b){l.push(m.toSVG(b))},_setSVGBgOverlayImage:function(l,m,b){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&l.push(this[m].toSVG(b))},_setSVGBgOverlayColor:function(l,m){var b=this[m+"Color"],y=this.viewportTransform,S=this.width,w=this.height;if(b)if(b.toLive){var x=b.repeat,E=t.util.invertTransform(y),_=this[m+"Vpt"],$=_?t.util.matrixToSVG(E):"";l.push('<rect transform="'+$+" translate(",S/2,",",w/2,')"',' x="',b.offsetX-S/2,'" y="',b.offsetY-w/2,'" ','width="',x==="repeat-y"||x==="no-repeat"?b.source.width:S,'" height="',x==="repeat-x"||x==="no-repeat"?b.source.height:w,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(l){if(!l)return this;var m=this._activeObject,b,y,S;if(l===m&&l.type==="activeSelection")for(S=m._objects,b=S.length;b--;)y=S[b],f(this._objects,y),this._objects.unshift(y);else f(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var m=this._activeObject,b,y,S;if(l===m&&l.type==="activeSelection")for(S=m._objects,b=0;b<S.length;b++)y=S[b],f(this._objects,y),this._objects.push(y);else f(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,m){if(!l)return this;var b=this._activeObject,y,S,w,x,E,_=0;if(l===b&&l.type==="activeSelection")for(E=b._objects,y=0;y<E.length;y++)S=E[y],w=this._objects.indexOf(S),w>0+_&&(x=w-1,f(this._objects,S),this._objects.splice(x,0,S)),_++;else w=this._objects.indexOf(l),w!==0&&(x=this._findNewLowerIndex(l,w,m),f(this._objects,l),this._objects.splice(x,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,m,b){var y,S;if(b)for(y=m,S=m-1;S>=0;--S){var w=l.intersectsWithObject(this._objects[S])||l.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(l);if(w){y=S;break}}else y=m-1;return y},bringForward:function(l,m){if(!l)return this;var b=this._activeObject,y,S,w,x,E,_=0;if(l===b&&l.type==="activeSelection")for(E=b._objects,y=E.length;y--;)S=E[y],w=this._objects.indexOf(S),w<this._objects.length-1-_&&(x=w+1,f(this._objects,S),this._objects.splice(x,0,S)),_++;else w=this._objects.indexOf(l),w!==this._objects.length-1&&(x=this._findNewUpperIndex(l,w,m),f(this._objects,l),this._objects.splice(x,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,m,b){var y,S,w;if(b)for(y=m,S=m+1,w=this._objects.length;S<w;++S){var x=l.intersectsWithObject(this._objects[S])||l.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(l);if(x){y=S;break}}else y=m+1;return y},moveTo:function(l,m){return f(this._objects,l),this._objects.splice(m,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var m=d();if(!m||!m.getContext)return null;var b=m.getContext("2d");if(!b)return null;switch(l){case"setLineDash":return typeof b.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var l=a(this.lowerCanvasEl);return l&&l.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(l){var m=a(this.lowerCanvasEl);return m&&m.createJPEGStream(l)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,f=c.contextTop,h=c.getZoom();c&&c._isRetinaScaling()&&(h*=t.devicePixelRatio),f.shadowColor=i.color,f.shadowBlur=i.blur*h,f.shadowOffsetX=i.offsetX*h,f.shadowOffsetY=i.offsetY*h}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,f){var h=i.midPointFrom(f);return c.quadraticCurveTo(i.x,i.y,h.x,h.y),h},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var f=this._points,h=f.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,f[h-2],f[h-1],!0),o.stroke(),o.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new t.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new t.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,f,h=this._points[0],o=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&h.x===o.x&&h.y===o.y){var u=this.width/1e3;h=new t.Point(h.x,h.y),o=new t.Point(o.x,o.y),h.x-=u,o.x+=u}for(c.moveTo(h.x,h.y),i=1,f=this._points.length;i<f;i++)this._drawSegment(c,h,o),h=this._points[i],o=this._points[i+1];c.lineTo(h.x,h.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=t.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var f=this.canvas.getZoom(),h=Math.pow(i/f,2),o,u=c.length-1,a=c[0],d=[a],g;for(o=1;o<u-1;o++)g=Math.pow(a.x-c[o].x,2)+Math.pow(a.y-c[o].y,2),g>=h&&(a=c[o],d.push(a));return d.push(c[u]),d},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var f=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.requestRenderAll(),f.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:f})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),f=this.canvas.contextTop;this._saveAndTransform(f),this.dot(f,i),f.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,f,h=this.points;for(this._saveAndTransform(c),i=0,f=h.length;i<f;i++)this.dot(c,h[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,f;this.canvas.renderOnAddRemove=!1;var h=[];for(i=0,f=this.points.length;i<f;i++){var o=this.points[i],u=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(u.shadow=new t.Shadow(this.shadow)),h.push(u)}var a=new t.Group(h);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new t.Point(c.x,c.y),f=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=f,i.fill=h,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],f=0,h=this.sprayChunks.length;f<h;f++)for(var o=this.sprayChunks[f],u=0,a=o.length;u<a;u++){var d=new t.Rect({width:o[u].width,height:o[u].width,left:o[u].x+1,top:o[u].y+1,originX:"center",originY:"center",fill:this.color});i.push(d)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},f,h,o;for(h=0,o=c.length;h<o;h++)f=c[h].left+""+c[h].top,i[f]||(i[f]=c[h]);var u=[];for(f in i)u.push(i[f]);return u},render:function(c){var i=this.canvas.contextTop,f,h;for(i.fillStyle=this.color,this._saveAndTransform(i),f=0,h=c.length;f<h;f++){var o=c[f];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,f;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,f=this.sprayChunks.length;i<f;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,f,h,o=this.width/2,u;for(u=0;u<this.density;u++){i=t.util.getRandomInt(c.x-o,c.x+o),f=t.util.getRandomInt(c.y-o,c.y+o),this.dotWidthVariance?h=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var a=new t.Point(i,f);a.width=h,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,i=5,f=t.util.createCanvasElement(),h=f.getContext("2d");return f.width=f.height=c+i,h.fillStyle=this.color,h.beginPath(),h.arc(c/2,c/2,c/2,0,Math.PI*2,!1),h.closePath(),h.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),f=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-f.x,offsetY:-f.y}),i}}),function(){var c=t.util.getPointer,i=t.util.degreesToRadians,f=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),u,a,d;if(o.length>0&&!this.preserveObjectStacking){a=[],d=[];for(var g=0,l=this._objects.length;g<l;g++)u=this._objects[g],o.indexOf(u)===-1?a.push(u):d.push(u);o.length>1&&(this._activeObject._objects=d),a.push.apply(a,d)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,u){var a=o.calcTransformMatrix(),d=t.util.invertTransform(a),g=this.restorePointerVpt(u);return t.util.transformPoint(g,d)},isTargetTransparent:function(o,u,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var d=this._normalizePointer(o,{x:u,y:a}),g=Math.max(o.cacheTranslationX+d.x*o.zoomX,0),l=Math.max(o.cacheTranslationY+d.y*o.zoomY,0),S=t.util.isTransparent(o._cacheContext,Math.round(g),Math.round(l),this.targetFindTolerance);return S}var m=this.contextCache,b=o.selectionBackgroundColor,y=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.render(m),m.restore(),o.selectionBackgroundColor=b;var S=t.util.isTransparent(m,u,a,this.targetFindTolerance);return S},_isSelectionKeyPressed:function(o){var u=!1;return Array.isArray(this.selectionKey)?u=!!this.selectionKey.find(function(a){return o[a]===!0}):u=o[this.selectionKey],u},_shouldClearSelection:function(o,u){var a=this.getActiveObjects(),d=this._activeObject;return!u||u&&d&&a.length>1&&a.indexOf(u)===-1&&d!==u&&!this._isSelectionKeyPressed(o)||u&&!u.evented||u&&!u.selectable&&d&&d!==u},_shouldCenterTransform:function(o,u,a){if(o){var d;return u==="scale"||u==="scaleX"||u==="scaleY"||u==="resizing"?d=this.centeredScaling||o.centeredScaling:u==="rotate"&&(d=this.centeredRotation||o.centeredRotation),d?!a:a}},_getOriginFromCorner:function(o,u){var a={x:o.originX,y:o.originY};return u==="ml"||u==="tl"||u==="bl"?a.x="right":(u==="mr"||u==="tr"||u==="br")&&(a.x="left"),u==="tl"||u==="mt"||u==="tr"?a.y="bottom":(u==="bl"||u==="mb"||u==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,u,a,d){if(!u||!o)return"drag";var g=d.controls[u];return g.getActionName(a,g,d)},_setupCurrentTransform:function(o,u,a){if(u){var d=this.getPointer(o),g=u.__corner,l=u.controls[g],m=a&&g?l.getActionHandler(o,u,l):t.controlsUtils.dragHandler,b=this._getActionFromCorner(a,g,o,u),y=this._getOriginFromCorner(u,g),S=o[this.centeredKey],w={target:u,action:b,actionHandler:m,corner:g,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:d.x-u.left,offsetY:d.y-u.top,originX:y.x,originY:y.y,ex:d.x,ey:d.y,lastX:d.x,lastY:d.y,theta:i(u.angle),width:u.width*u.scaleX,shiftKey:o.shiftKey,altKey:S,original:t.util.saveObjectTransform(u)};this._shouldCenterTransform(u,b,S)&&(w.originX="center",w.originY="center"),w.original.originX=y.x,w.original.originY=y.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var u=this._groupSelector,a=new t.Point(u.ex,u.ey),d=t.util.transformPoint(a,this.viewportTransform),g=new t.Point(u.ex+u.left,u.ey+u.top),l=t.util.transformPoint(g,this.viewportTransform),m=Math.min(d.x,l.x),b=Math.min(d.y,l.y),y=Math.max(d.x,l.x),S=Math.max(d.y,l.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(m,b,y-m,S-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,m+=w,b+=w,y-=w,S-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(m,b,y-m,S-b))},findTarget:function(o,u){if(!this.skipTargetFind){var a=!0,d=this.getPointer(o,a),g=this._activeObject,l=this.getActiveObjects(),m,b,y=f(o),S=l.length>1&&!u||l.length===1;if(this.targets=[],S&&g._findTargetCorner(d,y)||l.length>1&&!u&&g===this._searchPossibleTargets([g],d))return g;if(l.length===1&&g===this._searchPossibleTargets([g],d))if(this.preserveObjectStacking)m=g,b=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,d);return o[this.altSelectionKey]&&w&&m&&w!==m&&(w=m,this.targets=b),w}},_checkTarget:function(o,u,a){if(u&&u.visible&&u.evented&&u.containsPoint(o))if((this.perPixelTargetFind||u.perPixelTargetFind)&&!u.isEditing){var d=this.isTargetTransparent(u,a.x,a.y);if(!d)return!0}else return!0},_searchPossibleTargets:function(o,u){for(var a,d=o.length,g;d--;){var l=o[d],m=l.group?this._normalizePointer(l.group,u):u;if(this._checkTarget(m,l,u)){a=o[d],a.subTargetCheck&&a instanceof t.Group&&(g=this._searchPossibleTargets(a._objects,u),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var a=c(o),d=this.upperCanvasEl,g=d.getBoundingClientRect(),l=g.width||0,m=g.height||0,b;(!l||!m)&&("top"in g&&"bottom"in g&&(m=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(l=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,u||(a=this.restorePointerVpt(a));var y=this.getRetinaScaling();return y!==1&&(a.x/=y,a.y/=y),l===0||m===0?b={width:1,height:1}:b={width:d.width/l,height:d.height/m},{x:a.x*b.width,y:a.y*b.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(u,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var u=this.width||o.width,a=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:u+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=u,o.height=a,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,u){u.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,u){var a=!1,d=this.getActiveObjects(),g=[],l=[];o.forEach(function(m){d.indexOf(m)===-1&&(a=!0,m.fire("deselected",{e:u,target:m}),l.push(m))}),d.forEach(function(m){o.indexOf(m)===-1&&(a=!0,m.fire("selected",{e:u,target:m}),g.push(m))}),o.length>0&&d.length>0?a&&this.fire("selection:updated",{e:u,selected:g,deselected:l}):d.length>0?this.fire("selection:created",{e:u,selected:g}):o.length>0&&this.fire("selection:cleared",{e:u,deselected:l})},setActiveObject:function(o,u){var a=this.getActiveObjects();return this._setActiveObject(o,u),this._fireSelectionEvents(a,u),this},_setActiveObject:function(o,u){return this._activeObject===o||!this._discardActiveObject(u,o)||o.onSelect({e:u})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,u){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var u=this.getActiveObjects(),a=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(u,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var u=this._activeObject;u&&u._renderControls(o)},_toObject:function(o,u,a){var d=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,u,a);return this._unwindGroupTransformOnObject(o,d),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var u=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return u.forEach(function(d){a[d]=o[d]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,u){u&&o.set(u)},_setSVGObject:function(o,u,a){var d=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",o,u,a),this._unwindGroupTransformOnObject(u,d)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var h in t.StaticCanvas)h!=="prototype"&&(t.Canvas[h]=t.StaticCanvas[h])}(),function(){var c=t.util.addListener,i=t.util.removeListener,f=3,h=2,o=1,u={passive:!1};function a(d,g){return d.button&&d.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(d,g){var l=this.upperCanvasEl,m=this._getEventPrefix();d(t.window,"resize",this._onResize),d(l,m+"down",this._onMouseDown),d(l,m+"move",this._onMouseMove,u),d(l,m+"out",this._onMouseOut),d(l,m+"enter",this._onMouseEnter),d(l,"wheel",this._onMouseWheel),d(l,"contextmenu",this._onContextMenu),d(l,"dblclick",this._onDoubleClick),d(l,"dragover",this._onDragOver),d(l,"dragenter",this._onDragEnter),d(l,"dragleave",this._onDragLeave),d(l,"drop",this._onDrop),this.enablePointerEvents||d(l,"touchstart",this._onTouchStart,u),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](l,"gesture",this._onGesture),eventjs[g](l,"drag",this._onDrag),eventjs[g](l,"orientation",this._onOrientationChange),eventjs[g](l,"shake",this._onShake),eventjs[g](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var d=this._getEventPrefix();i(t.document,d+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,u),i(t.document,d+"move",this._onMouseMove,u),i(t.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(d,g){this.__onTransformGesture&&this.__onTransformGesture(d,g)},_onDrag:function(d,g){this.__onDrag&&this.__onDrag(d,g)},_onMouseWheel:function(d){this.__onMouseWheel(d)},_onMouseOut:function(d){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:d}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:d});var l=this;this._hoveredTargets.forEach(function(m){l.fire("mouse:out",{target:g,e:d}),m&&g.fire("mouseout",{e:d})}),this._hoveredTargets=[]},_onMouseEnter:function(d){!this._currentTransform&&!this.findTarget(d)&&(this.fire("mouse:over",{target:null,e:d}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(d,g){this.__onOrientationChange&&this.__onOrientationChange(d,g)},_onShake:function(d,g){this.__onShake&&this.__onShake(d,g)},_onLongPress:function(d,g){this.__onLongPress&&this.__onLongPress(d,g)},_onDragOver:function(d){d.preventDefault();var g=this._simpleEventHandler("dragover",d);this._fireEnterLeaveEvents(g,d)},_onDrop:function(d){return this._simpleEventHandler("drop:before",d),this._simpleEventHandler("drop",d)},_onContextMenu:function(d){return this.stopContextMenu&&(d.stopPropagation(),d.preventDefault()),!1},_onDoubleClick:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"dblclick"),this._resetTransformEventData(d)},getPointerId:function(d){var g=d.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?d.pointerId:-1},_isMainEvent:function(d){return d.isPrimary===!0?!0:d.isPrimary===!1?!1:d.type==="touchend"&&d.touches.length===0?!0:d.changedTouches?d.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(d){d.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(d)),this.__onMouseDown(d),this._resetTransformEventData();var g=this.upperCanvasEl,l=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,u),c(t.document,"touchmove",this._onMouseMove,u),i(g,l+"down",this._onMouseDown)},_onMouseDown:function(d){this.__onMouseDown(d),this._resetTransformEventData();var g=this.upperCanvasEl,l=this._getEventPrefix();i(g,l+"move",this._onMouseMove,u),c(t.document,l+"up",this._onMouseUp),c(t.document,l+"move",this._onMouseMove,u)},_onTouchEnd:function(d){if(!(d.touches.length>0)){this.__onMouseUp(d),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,u),i(t.document,"touchmove",this._onMouseMove,u);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(l.upperCanvasEl,g+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(d){this.__onMouseUp(d),this._resetTransformEventData();var g=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(d)&&(i(t.document,l+"up",this._onMouseUp),i(t.document,l+"move",this._onMouseMove,u),c(g,l+"move",this._onMouseMove,u))},_onMouseMove:function(d){!this.allowTouchScrolling&&d.preventDefault&&d.preventDefault(),this.__onMouseMove(d)},_onResize:function(){this.calcOffset()},_shouldRender:function(d){var g=this._activeObject;return!!g!=!!d||g&&d&&g!==d?!0:(g&&g.isEditing,!1)},__onMouseUp:function(d){var g,l=this._currentTransform,m=this._groupSelector,b=!1,y=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(d),g=this._target,this._handleEvent(d,"up:before"),a(d,f)){this.fireRightClick&&this._handleEvent(d,"up",f,y);return}if(a(d,h)){this.fireMiddleClick&&this._handleEvent(d,"up",h,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(d);return}if(this._isMainEvent(d)){if(l&&(this._finalizeCurrentTransform(d),b=l.actionPerformed),!y){var S=g===this._activeObject;this._maybeGroupObjects(d),b||(b=this._shouldRender(g)||!S&&g===this._activeObject)}var w,x;if(g){if(w=g._findTargetCorner(this.getPointer(d,!0),t.util.isTouchEvent(d)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,d),b=!0;else{var E=g.controls[w],_=E&&E.getMouseUpHandler(d,g,E);_&&(x=this.getPointer(d),_(d,l,x.x,x.y))}g.isMoving=!1}if(l&&(l.target!==g||l.corner!==w)){var $=l.target&&l.target.controls[l.corner],I=$&&$.getMouseUpHandler(d,g,E);x=x||this.getPointer(d),I&&I(d,l,x.x,x.y)}this._setCursorFromEvent(d,g),this._handleEvent(d,"up",o,y),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),b?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(d,g){var l=this.findTarget(g),m=this.targets,b={e:g,target:l,subTargets:m};if(this.fire(d,b),l&&l.fire(d,b),!m)return l;for(var y=0;y<m.length;y++)m[y].fire(d,b);return l},_handleEvent:function(d,g,l,m){var b=this._target,y=this.targets||[],S={e:d,target:b,subTargets:y,button:l||o,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(S.currentTarget=this.findTarget(d),S.currentSubTargets=this.targets),this.fire("mouse:"+g,S),b&&b.fire("mouse"+g,S);for(var w=0;w<y.length;w++)y[w].fire("mouse"+g,S)},_finalizeCurrentTransform:function(d){var g=this._currentTransform,l=g.target,m={e:d,target:l,transform:g,action:g.action};l._scaling&&(l._scaling=!1),l.setCoords(),(g.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(d){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(d).requestRenderAll();var g=this.getPointer(d);this.freeDrawingBrush.onMouseDown(g,{e:d,pointer:g}),this._handleEvent(d,"down")},_onMouseMoveInDrawingMode:function(d){if(this._isCurrentlyDrawing){var g=this.getPointer(d);this.freeDrawingBrush.onMouseMove(g,{e:d,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(d,"move")},_onMouseUpInDrawingMode:function(d){var g=this.getPointer(d);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:d,pointer:g}),this._handleEvent(d,"up")},__onMouseDown:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"down:before");var g=this._target;if(a(d,f)){this.fireRightClick&&this._handleEvent(d,"down",f);return}if(a(d,h)){this.fireMiddleClick&&this._handleEvent(d,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(d);return}if(this._isMainEvent(d)&&!this._currentTransform){var l=this._pointer;this._previousPointer=l;var m=this._shouldRender(g),b=this._shouldGroup(d,g);if(this._shouldClearSelection(d,g)?this.discardActiveObject(d):b&&(this._handleGrouping(d,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var y=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,d);var S=g._findTargetCorner(this.getPointer(d,!0),t.util.isTouchEvent(d));if(g.__corner=S,g===this._activeObject&&(S||!b)){this._setupCurrentTransform(d,g,y);var w=g.controls[S],l=this.getPointer(d),x=w&&w.getMouseDownHandler(d,g,w);x&&x(d,this._currentTransform,l.x,l.y)}}this._handleEvent(d,"down"),(m||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(d){this._resetTransformEventData(),this._pointer=this.getPointer(d,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(d)||null},_beforeTransform:function(d){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:d,transform:g})},__onMouseMove:function(d){this._handleEvent(d,"move:before"),this._cacheTransformEventData(d);var g,l;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(d);return}if(this._isMainEvent(d)){var m=this._groupSelector;m?(l=this._absolutePointer,m.left=l.x-m.ex,m.top=l.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(d):(g=this.findTarget(d)||null,this._setCursorFromEvent(d,g),this._fireOverOutEvents(g,d)),this._handleEvent(d,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(d,g){var l=this._hoveredTarget,m=this._hoveredTargets,b=this.targets,y=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(d,g,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var S=0;S<y;S++)this.fireSyntheticInOutEvents(b[S],g,{oldTarget:m[S],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=d,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(d,g){var l=this._draggedoverTarget,m=this._hoveredTargets,b=this.targets,y=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(d,g,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var S=0;S<y;S++)this.fireSyntheticInOutEvents(b[S],g,{oldTarget:m[S],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=d},fireSyntheticInOutEvents:function(d,g,l){var m,b,y=l.oldTarget,S,w,x=y!==d,E=l.canvasEvtIn,_=l.canvasEvtOut;x&&(m={e:g,target:d,previousTarget:y},b={e:g,target:y,nextTarget:d}),w=d&&x,S=y&&x,S&&(_&&this.fire(_,b),y.fire(l.evtOut,b)),w&&(E&&this.fire(E,m),d.fire(l.evtIn,m))},__onMouseWheel:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"wheel"),this._resetTransformEventData()},_transformObject:function(d){var g=this.getPointer(d),l=this._currentTransform;l.reset=!1,l.shiftKey=d.shiftKey,l.altKey=d[this.centeredKey],this._performTransformAction(d,l,g),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(d,g,l){var m=l.x,b=l.y,y=g.action,S=!1,w=g.actionHandler;w&&(S=w(d,g,m,b)),y==="drag"&&S&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||S},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(d,g){if(!g)return this.setCursor(this.defaultCursor),!1;var l=g.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!m||!m.contains(g))&&g._findTargetCorner(this.getPointer(d,!0));b?this.setCursor(this.getCornerCursor(b,g,d)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(y){l=y.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(d,g,l){var m=g.controls[d];return m.cursorStyleHandler(l,m,g)}})}(),function(){var c=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(f,h){var o=this._activeObject;return o&&this._isSelectionKeyPressed(f)&&h&&h.selectable&&this.selection&&(o!==h||o.type==="activeSelection")&&!h.onSelect({e:f})},_handleGrouping:function(f,h){var o=this._activeObject;o.__corner||h===o&&(h=this.findTarget(f,!0),!h||!h.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(h,f):this._createActiveSelection(h,f))},_updateActiveSelection:function(f,h){var o=this._activeObject,u=o._objects.slice(0);o.contains(f)?(o.removeWithUpdate(f),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),h)):(o.addWithUpdate(f),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,h)},_createActiveSelection:function(f,h){var o=this.getActiveObjects(),u=this._createGroup(f);this._hoveredTarget=u,this._setActiveObject(u,h),this._fireSelectionEvents(o,h)},_createGroup:function(f){var h=this._objects,o=h.indexOf(this._activeObject)<h.indexOf(f),u=o?[this._activeObject,f]:[f,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(f){var h=this._collectObjects(f),o;h.length===1?this.setActiveObject(h[0],f):h.length>1&&(o=new t.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(o,f))},_collectObjects:function(f){for(var h=[],o,u=this._groupSelector.ex,a=this._groupSelector.ey,d=u+this._groupSelector.left,g=a+this._groupSelector.top,l=new t.Point(c(u,d),c(a,g)),m=new t.Point(i(u,d),i(a,g)),b=!this.selectionFullyContained,y=u===d&&a===g,S=this._objects.length;S--&&(o=this._objects[S],!(!(!o||!o.selectable||!o.visible)&&(b&&o.intersectsWithRect(l,m,!0)||o.isContainedWithinRect(l,m,!0)||b&&o.containsPoint(l,null,!0)||b&&o.containsPoint(m,null,!0))&&(h.push(o),y))););return h.length>1&&(h=h.filter(function(w){return!w.onSelect({e:f})})),h},_maybeGroupObjects:function(f){this.selection&&this._groupSelector&&this._groupSelectedObjects(f),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",f=c.quality||1,h=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(h,c);return t.util.toDataURL(o,i,f)},toCanvasElement:function(c,i){c=c||1,i=i||{};var f=(i.width||this.width)*c,h=(i.height||this.height)*c,o=this.getZoom(),u=this.width,a=this.height,d=o*c,g=this.viewportTransform,l=(g[4]-(i.left||0))*c,m=(g[5]-(i.top||0))*c,b=this.interactive,y=[d,0,0,d,l,m],S=this.enableRetinaScaling,w=t.util.createCanvasElement(),x=this.contextTop;return w.width=f,w.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=f,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=u,this.height=a,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=S,this.contextTop=x,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,i,f){if(c){var h=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),o=this,u=h.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(d){o.clear(),o._setBgOverlay(h,function(){u?o._enlivenObjects([u],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,h,d,a,i)}):o.__setupCanvas.call(o,h,d,a,i)})},f),this}},__setupCanvas:function(c,i,f,h){var o=this;i.forEach(function(u,a){o.insertAt(u,a)}),this.renderOnAddRemove=f,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),h&&h()},_setBgOverlay:function(c,i){var f={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var h=function(){f.backgroundImage&&f.overlayImage&&f.backgroundColor&&f.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,f,h),this.__setBgOverlay("overlayImage",c.overlayImage,f,h),this.__setBgOverlay("backgroundColor",c.background,f,h),this.__setBgOverlay("overlayColor",c.overlay,f,h)},__setBgOverlay:function(c,i,f,h){var o=this;if(!i){f[c]=!0,h&&h();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([i],function(u){o[c]=u[0],f[c]=!0,h&&h()}):this["set"+t.util.string.capitalize(c,!0)](i,function(){f[c]=!0,h&&h()})},_enlivenObjects:function(c,i,f){if(!c||c.length===0){i&&i([]);return}t.util.enlivenObjects(c,function(h){i&&i(h)},null,f)},_toDataURL:function(c,i){this.clone(function(f){i(f.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,f){this.clone(function(h){f(h.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var f=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(h){h.loadFromJSON(f,function(){c&&c(h)})})},cloneWithoutData:function(c){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var f=new t.Canvas(i);this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),c&&c(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):c&&c(f)}}),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.object.clone,o=i.util.toFixed,u=i.util.string.capitalize,a=i.util.degreesToRadians,d=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:d,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var m=i.perfLimitSizeTotal,b=l.width,y=l.height,S=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(b<=S&&y<=S&&b*y<=m)return b<w&&(l.width=w),y<w&&(l.height=w),l;var x=b/y,E=i.util.limitDimsByArea(x,m),_=i.util.capValue,$=_(w,E.x,S),I=_(w,E.y,S);return b>$&&(l.zoomX/=b/$,l.width=$,l.capped=!0),y>I&&(l.zoomY/=y/I,l.height=I,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),b=m.x*l.scaleX/this.scaleX,y=m.y*l.scaleY/this.scaleY;return{width:b+g,height:y+g,zoomX:l.scaleX,zoomY:l.scaleY,x:b,y}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var m=l._currentTransform.target,b=l._currentTransform.action;if(this===m&&b.slice&&b.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,S=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,x=S.width,E=S.height,_,$,I=S.zoomX,A=S.zoomY,F=x!==this.cacheWidth||E!==this.cacheHeight,z=this.zoomX!==I||this.zoomY!==A,D=F||z,H=0,B=0,j=!1;if(F){var N=this._cacheCanvas.width,O=this._cacheCanvas.height,P=x>N||E>O,T=(x<N*.9||E<O*.9)&&N>w&&O>w;j=P||T,P&&!S.capped&&(x>w||E>w)&&(H=x*.1,B=E*.1)}return this instanceof i.Text&&this.path&&(D=!0,j=!0,H+=this.getHeightOfLine(0)*this.zoomX,B+=this.getHeightOfLine(0)*this.zoomY),D?(j?(y.width=Math.ceil(x+H),y.height=Math.ceil(E+B)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),_=S.x/2,$=S.y/2,this.cacheTranslationX=Math.round(y.width/2-_)+_,this.cacheTranslationY=Math.round(y.height/2-$)+$,this.cacheWidth=x,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(I,A),this.zoomX=I,this.zoomY=A,!0):!1},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop,b=this.calcTransformMatrix(!m);l.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(l){var m=i.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,m),top:o(this.top,m),width:o(this.width,m),height:o(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,m),scaleX:o(this.scaleX,m),scaleY:o(this.scaleY,m),angle:o(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,m),skewY:o(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(l),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,b,l),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var m=i.util.getKlass(l.type).prototype,b=m.stateProperties;return b.forEach(function(y){y==="left"||y==="top"||(l[y]===m[y]&&delete l[y],Array.isArray(l[y])&&Array.isArray(m[y])&&l[y].length===0&&m[y].length===0&&delete l[y])}),l},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),m=l.scaleX,b=l.scaleY;if(this.canvas){var y=this.canvas.getZoom(),S=this.canvas.getRetinaScaling();m*=y*S,b*=y*S}return{scaleX:m,scaleY:b}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,m){var b=l==="scaleX"||l==="scaleY",y=this[l]!==m,S=!1;return b&&(m=this._constrainScale(m)),l==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):l==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):l==="shadow"&&m&&!(m instanceof i.Shadow)?m=new i.Shadow(m):l==="dirty"&&this.group&&this.group.set("dirty",m),this[l]=m,y&&(S=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,S&&this.group.set("dirty",!0)):S&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(l,m){if(l.save(),m.inverted?l.globalCompositeOperation="destination-out":l.globalCompositeOperation="destination-in",m.absolutePositioned){var b=i.util.invertTransform(this.calcTransformMatrix());l.transform(b[0],b[1],b[2],b[3],b[4],b[5])}m.transform(l),l.scale(1/m.zoomX,1/m.zoomY),l.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),l.restore()},drawObject:function(l,m){var b=this.fill,y=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=b,this.stroke=y},_drawClipPath:function(l,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,m))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var m=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-b/2,m,b)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var m=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,m){var b=m.stroke;b&&(l.lineWidth=m.strokeWidth,l.lineCap=m.strokeLineCap,l.lineDashOffset=m.strokeDashOffset,l.lineJoin=m.strokeLineJoin,l.miterLimit=m.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(l,b):(l.strokeStyle=b.toLive(l,this),this._applyPatternGradientTransform(l,b)):l.strokeStyle=m.stroke)},_setFillStyles:function(l,m){var b=m.fill;b&&(b.toLive?(l.fillStyle=b.toLive(l,this),this._applyPatternGradientTransform(l,m.fill)):l.fillStyle=b)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),l.setLineDash(m))},_renderControls:function(l,m){var b=this.getViewportTransform(),y=this.calcTransformMatrix(),S,w,x;m=m||{},w=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,x=typeof m.hasControls<"u"?m.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(b,y),S=i.util.qrDecompose(y),l.save(),l.translate(S.translateX,S.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(S.angle-=180),l.rotate(a(this.group?S.angle:this.angle)),m.forActiveSelection||this.group?w&&this.drawBordersInGroup(l,S,m):w&&this.drawBorders(l,m),x&&this.drawControls(l,m),l.restore()},_setShadow:function(l){if(this.shadow){var m=this.shadow,b=this.canvas,y,S=b&&b.viewportTransform[0]||1,w=b&&b.viewportTransform[3]||1;m.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),b&&b._isRetinaScaling()&&(S*=i.devicePixelRatio,w*=i.devicePixelRatio),l.shadowColor=m.color,l.shadowBlur=m.blur*i.browserShadowBlurConstant*(S+w)*(y.scaleX+y.scaleY)/4,l.shadowOffsetX=m.offsetX*S*y.scaleX,l.shadowOffsetY=m.offsetY*w*y.scaleY}},_removeShadow:function(l){this.shadow&&(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var b=m.gradientTransform||m.patternTransform,y=-this.width/2+m.offsetX||0,S=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?l.transform(this.width,0,0,this.height,y,S):l.transform(1,0,0,1,y,S),b&&l.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:y,offsetY:S}},_renderPaintInOrder:function(l){this.paintFirst==="stroke"?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){this.fill&&(l.save(),this._setFillStyles(l,this),this.fillRule==="evenodd"?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();l.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,m){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),S,w=this.canvas.getRetinaScaling(),x=b.x/this.scaleX/w,E=b.y/this.scaleY/w;y.width=x,y.height=E,S=y.getContext("2d"),S.beginPath(),S.moveTo(0,0),S.lineTo(x,0),S.lineTo(x,E),S.lineTo(0,E),S.closePath(),S.translate(x/2,E/2),S.scale(b.zoomX/this.scaleX/w,b.zoomY/this.scaleY/w),this._applyPatternGradientTransform(S,m),S.fillStyle=m.toLive(l),S.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(w*this.scaleX/b.zoomX,w*this.scaleY/b.zoomY),l.strokeStyle=S.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=i.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,m.x+=l.offsetLeft,m.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(m,"center","center")},clone:function(l,m){var b=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(b,l):i.Object._fromObject("Object",b,l)},cloneAsImage:function(l,m){var b=this.toCanvasElement(m);return l&&l(new i.Image(b)),this},toCanvasElement:function(l){l||(l={});var m=i.util,b=m.saveObjectTransform(this),y=this.group,S=this.shadow,w=Math.abs,x=(l.multiplier||1)*(l.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,l.withoutTransform&&m.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var E=i.util.createCanvasElement(),_=this.getBoundingRect(!0,!0),$=this.shadow,I,A={x:0,y:0},F,z,D;$&&(F=$.blur,$.nonScaling?I={scaleX:1,scaleY:1}:I=this.getObjectScaling(),A.x=2*Math.round(w($.offsetX)+F)*w(I.scaleX),A.y=2*Math.round(w($.offsetY)+F)*w(I.scaleY)),z=_.width+A.x,D=_.height+A.y,E.width=Math.ceil(z),E.height=Math.ceil(D);var H=new i.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});l.format==="jpeg"&&(H.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(H.width/2,H.height/2),"center","center");var B=this.canvas;H.add(this);var j=H.toCanvasElement(x||1,l);return this.shadow=S,this.set("canvas",B),y&&(this.group=y),this.set(b).setCoords(),H._objects=[],H.dispose(),H=null,j},toDataURL:function(l){return l||(l={}),i.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",l),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,m){m=m||this.canvas.getPointer(l);var b=new i.Point(m.x,m.y),y=this._getLeftTopCoords();return this.angle&&(b=i.util.rotatePoint(b,y,a(-this.angle))),{x:b.x-y.x,y:b.y-y.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),f(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(l,m,b,y){var S=i[l];m=h(m,!0),i.util.enlivenPatterns([m.fill,m.stroke],function(w){typeof w[0]<"u"&&(m.fill=w[0]),typeof w[1]<"u"&&(m.stroke=w[1]),i.util.enlivenObjectEnlivables(m,m,function(){var x=y?new S(m[y],m):new S(m);b&&b(x)})})},i.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(h,o,u,a,d){var g=h.x,l=h.y,m,b,y;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,m=a-o,typeof u=="string"?u=f[u]:u-=.5,typeof d=="string"?d=f[d]:d-=.5,b=d-u,(m||b)&&(y=this._getTransformedDimensions(),g=h.x+m*y.x,l=h.y+b*y.y),new t.Point(g,l)},translateToCenterPoint:function(h,o,u){var a=this.translateToGivenOrigin(h,o,u,"center","center");return this.angle?t.util.rotatePoint(a,h,c(this.angle)):a},translateToOriginPoint:function(h,o,u){var a=this.translateToGivenOrigin(h,"center","center",o,u);return this.angle?t.util.rotatePoint(a,h,c(this.angle)):a},getCenterPoint:function(){var h=new t.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,o){var u=this.getCenterPoint();return this.translateToOriginPoint(u,h,o)},toLocalPoint:function(h,o,u){var a=this.getCenterPoint(),d,g;return typeof o<"u"&&typeof u<"u"?d=this.translateToGivenOrigin(a,"center","center",o,u):d=new t.Point(this.left,this.top),g=new t.Point(h.x,h.y),this.angle&&(g=t.util.rotatePoint(g,a,-c(this.angle))),g.subtractEquals(d)},setPositionByOrigin:function(h,o,u){var a=this.translateToCenterPoint(h,o,u),d=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",d.x),this.set("top",d.y)},adjustPosition:function(h){var o=c(this.angle),u=this.getScaledWidth(),a=t.util.cos(o)*u,d=t.util.sin(o)*u,g,l;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof h=="string"?l=i[h]:l=h-.5,this.left+=a*(l-g),this.top+=d*(l-g),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(u){return[new t.Point(u.tl.x,u.tl.y),new t.Point(u.tr.x,u.tr.y),new t.Point(u.br.x,u.br.y),new t.Point(u.bl.x,u.bl.y)]}var i=t.util,f=i.degreesToRadians,h=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,a){return a?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,a){return c(this._getCoords(u,a))},intersectsWithRect:function(u,a,d,g){var l=this.getCoords(d,g),m=t.Intersection.intersectPolygonRectangle(l,u,a);return m.status==="Intersection"},intersectsWithObject:function(u,a,d){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(a,d),u.getCoords(a,d));return g.status==="Intersection"||u.isContainedWithinObject(this,a,d)||this.isContainedWithinObject(u,a,d)},isContainedWithinObject:function(u,a,d){for(var g=this.getCoords(a,d),l=a?u.aCoords:u.lineCoords,m=0,b=u._getImageLines(l);m<4;m++)if(!u.containsPoint(g[m],b))return!1;return!0},isContainedWithinRect:function(u,a,d,g){var l=this.getBoundingRect(d,g);return l.left>=u.x&&l.left+l.width<=a.x&&l.top>=u.y&&l.top+l.height<=a.y},containsPoint:function(u,m,d,g){var l=this._getCoords(d,g),m=m||this._getImageLines(l),b=this._findCrossPoints(u,m);return b!==0&&b%2===1},isOnScreen:function(u){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br,g=this.getCoords(!0,u);return g.some(function(l){return l.x<=d.x&&l.x>=a.x&&l.y<=d.y&&l.y>=a.y})||this.intersectsWithRect(a,d,!0,u)?!0:this._containsCenterOfCanvas(a,d,u)},_containsCenterOfCanvas:function(u,a,d){var g={x:(u.x+a.x)/2,y:(u.y+a.y)/2};return!!this.containsPoint(g,null,!0,d)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,d,!0,u))return!0;var g=this.getCoords(!0,u).every(function(l){return(l.x>=d.x||l.x<=a.x)&&(l.y>=d.y||l.y<=a.y)});return g&&this._containsCenterOfCanvas(a,d,u)},_getImageLines:function(u){var a={topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}};return a},_findCrossPoints:function(u,a){var d,g,l,m,b,y=0,S;for(var w in a)if(S=a[w],!(S.o.y<u.y&&S.d.y<u.y)&&!(S.o.y>=u.y&&S.d.y>=u.y)&&(S.o.x===S.d.x&&S.o.x>=u.x?b=S.o.x:(d=0,g=(S.d.y-S.o.y)/(S.d.x-S.o.x),l=u.y-d*u.x,m=S.o.y-g*S.o.x,b=-(l-m)/(d-g)),b>=u.x&&(y+=1),y===2))break;return y},getBoundingRect:function(u,a){var d=this.getCoords(u,a);return i.makeBoundingBoxFromPoints(d)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:u===0?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,a){var d=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(u/this.width/d)},scaleToHeight:function(u,a){var d=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(u/this.height/d)},calcLineCoords:function(){var u=this.getViewportTransform(),a=this.padding,d=f(this.angle),g=i.cos(d),l=i.sin(d),m=g*a,b=l*a,y=m+b,S=m-b,w=this.calcACoords(),x={tl:o(w.tl,u),tr:o(w.tr,u),bl:o(w.bl,u),br:o(w.br,u)};return a&&(x.tl.x-=S,x.tl.y-=y,x.tr.x+=y,x.tr.y-=S,x.bl.x-=y,x.bl.y+=S,x.br.x+=S,x.br.y+=y),x},calcOCoords:function(){var u=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),d=this.getViewportTransform(),g=h(d,a),l=h(g,u),l=h(l,[1/d[0],0,0,1/d[3],0,0]),m=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(y,S,w){b[S]=y.positionHandler(m,l,w)}),b},calcACoords:function(){var u=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),d=h(a,u),g=this._getTransformedDimensions(),l=g.x/2,m=g.y/2;return{tl:o({x:-l,y:-m},d),tr:o({x:l,y:-m},d),bl:o({x:-l,y:m},d),br:o({x:l,y:m},d)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var a="_",d="";return!u&&this.group&&(d=this.group.transformMatrixKey(u)+a),d+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var a=this.calcOwnMatrix();if(u||!this.group)return a;var d=this.transformMatrixKey(u),g=this.matrixCache||(this.matrixCache={});return g.key===d?g.value:(this.group&&(a=h(this.group.calcTransformMatrix(!1),a)),g.key=d,g.value=a,a)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===u)return a.value;var d=this._calcTranslateMatrix(),g={angle:this.angle,translateX:d[4],translateY:d[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=u,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth,a=this.width+u,d=this.height+u;return{x:a,y:d}},_getTransformedDimensions:function(u,a){typeof u>"u"&&(u=this.skewX),typeof a>"u"&&(a=this.skewY);var d,g,l,m=u===0&&a===0;if(this.strokeUniform?(g=this.width,l=this.height):(d=this._getNonTransformedDimensions(),g=d.x,l=d.y),m)return this._finalizeDimensions(g*this.scaleX,l*this.scaleY);var b=i.sizeAfterTransform(g,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:a});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(u,a){return this.strokeUniform?{x:u+this.strokeWidth,y:a+this.strokeWidth}:{x:u,y:a}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),a=this._getTransformedDimensions(),d=o(a,u,!0);return d.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(f,h){if(h){if(h.toLive)return f+": url(#SVGID_"+h.id+"); ";var o=new t.Color(h),u=f+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(u+=f+"-opacity: "+a.toString()+"; "),u}else return f+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(f){var h=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",d=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",y=f?"":this.getSvgFilter(),S=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",d,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",l,"; ",S,"fill-rule: ",h,"; ","opacity: ",m,";",y,b].join("")},getSvgSpanStyles:function(f,h){var o="; ",a=f.fontFamily?"font-family: "+(f.fontFamily.indexOf("'")===-1&&f.fontFamily.indexOf('"')===-1?"'"+f.fontFamily+"'":f.fontFamily)+o:"",u=f.strokeWidth?"stroke-width: "+f.strokeWidth+o:"",a=a,d=f.fontSize?"font-size: "+f.fontSize+"px"+o:"",g=f.fontStyle?"font-style: "+f.fontStyle+o:"",l=f.fontWeight?"font-weight: "+f.fontWeight+o:"",m=f.fill?c("fill",f.fill):"",b=f.stroke?c("stroke",f.stroke):"",y=this.getSvgTextDecoration(f),S=f.deltaY?"baseline-shift: "+-f.deltaY+"; ":"";return y&&(y="text-decoration: "+y+o),[b,u,a,d,g,l,y,m,S,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(f){return["overline","underline","line-through"].filter(function(h){return f[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(f,h){var o=f?this.calcTransformMatrix():this.calcOwnMatrix(),u='transform="'+t.util.matrixToSVG(o);return u+(h||"")+'" '},_setSVGBg:function(f){if(this.backgroundColor){var h=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,h),'" y="',i(-this.height/2,h),'" width="',i(this.width,h),'" height="',i(this.height,h),`"></rect>
`)}},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})},toClipPathSVG:function(f){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})},_createBaseClipPathSVGMarkup:function(f,h){h=h||{};var o=h.reviver,u=h.additionalTransform||"",a=[this.getSvgTransform(!0,u),this.getSvgCommons()].join(""),d=f.indexOf("COMMON_PARTS");return f[d]=a,o?o(f.join("")):f.join("")},_createBaseSVGMarkup:function(f,h){h=h||{};var o=h.noStyle,u=h.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',d=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=g&&g.absolutePositioned,b=this.stroke,y=this.fill,S=this.shadow,w,x=[],E,_=f.indexOf("COMMON_PARTS"),$=h.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(u)+`</clipPath>
`),m&&x.push("<g ",d,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),m?"":d+this.getSvgCommons(),` >
`),w=[a,l,o?"":this.addPaintOrder()," ",$?'transform="'+$+'" ':""].join(""),f[_]=w,y&&y.toLive&&x.push(y.toSVG(this)),b&&b.toLive&&x.push(b.toSVG(this)),S&&x.push(S.toSVG(this)),g&&x.push(E),x.push(f.join("")),x.push(`</g>
`),m&&x.push(`</g>
`),u?u(x.join("")):x.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,i="stateProperties";function f(o,u,a){var d={},g=!0;a.forEach(function(l){d[l]=o[l]}),c(o[u],d,g)}function h(o,u,a){if(o===u)return!0;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var d=0,g=o.length;d<g;d++)if(!h(o[d],u[d]))return!1;return!0}else if(o&&typeof o=="object"){var l=Object.keys(o),m;if(!u||typeof u!="object"||!a&&l.length!==Object.keys(u).length)return!1;for(var d=0,g=l.length;d<g;d++)if(m=l[d],!(m==="canvas"||m==="group")&&!h(o[m],u[m]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var u="_"+o;return Object.keys(this[u]).length<this[o].length?!0:!h(this[u],this,!0)},saveState:function(o){var u=o&&o.propertySet||i,a="_"+u;return this[a]?(f(this,a,this[u]),o&&o.stateProperties&&f(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var u=o.propertySet||i;return o.propertySet=u,this["_"+u]={},this.saveState(o),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,f){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=i.x,o=i.y,u,a,d=Object.keys(this.oCoords),g=d.length-1,l;for(this.__corner=0;g>=0;g--)if(l=d[g],!!this.isControlVisible(l)&&(a=this._getImageLines(f?this.oCoords[l].touchCorner:this.oCoords[l].corner),u=this._findCrossPoints({x:h,y:o},a),u!==0&&u%2===1))return this.__corner=l,l;return!1},forEachControl:function(i){for(var f in this.controls)i(this.controls[f],f,this)},_setCornerCoords:function(){var i=this.oCoords;for(var f in i){var h=this.controls[f];i[f].corner=h.calcCornerCoords(this.angle,this.cornerSize,i[f].x,i[f].y,!1),i[f].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,i[f].x,i[f].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var f=this.getCenterPoint(),h=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(f.x,f.y),i.scale(1/o[0],1/o[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-h.x/2,-h.y/2,h.x,h.y),i.restore(),this},drawBorders:function(i,f){f=f||{};var h=this._calculateCurrentDimensions(),o=this.borderScaleFactor,u=h.x+o,a=h.y+o,d=typeof f.hasControls<"u"?f.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=f.borderColor||this.borderColor,this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeRect(-u/2,-a/2,u,a),d&&(i.beginPath(),this.forEachControl(function(l,m,b){l.withConnection&&l.getVisibility(b,m)&&(g=!0,i.moveTo(l.x*u,l.y*a),i.lineTo(l.x*u+l.offsetX,l.y*a+l.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,f,h){h=h||{};var o=t.util.sizeAfterTransform(this.width,this.height,f),u=this.strokeWidth,a=this.strokeUniform,d=this.borderScaleFactor,g=o.x+u*(a?this.canvas.getZoom():f.scaleX)+d,l=o.y+u*(a?this.canvas.getZoom():f.scaleY)+d;return i.save(),this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeStyle=h.borderColor||this.borderColor,i.strokeRect(-g/2,-l/2,g,l),i.restore(),this},drawControls:function(i,f){f=f||{},i.save();var h=this.canvas.getRetinaScaling(),o,u;return i.setTransform(h,0,0,h,0,0),i.strokeStyle=i.fillStyle=f.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=f.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,f.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,d,g){u=g.oCoords[d],a.getVisibility(g,d)&&(o&&(u=t.util.transformPoint(u,o)),a.render(i,u.x,u.y,f,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,f){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=f,this},setControlsVisibility:function(i){i||(i={});for(var f in i)this.setControlVisible(f,i[f]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var f=function(){},h=i.onComplete||f,o=i.onChange||f,u=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),u.requestRenderAll(),o()},onComplete:function(){c.setCoords(),h()}})},fxCenterObjectV:function(c,i){i=i||{};var f=function(){},h=i.onComplete||f,o=i.onChange||f,u=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),u.requestRenderAll(),o()},onComplete:function(){c.setCoords(),h()}})},fxRemove:function(c,i){i=i||{};var f=function(){},h=i.onComplete||f,o=i.onChange||f,u=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),u.requestRenderAll(),o()},onComplete:function(){u.remove(c),h()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,f,h=[];for(i in arguments[0])c.push(i);for(var o=0,u=c.length;o<u;o++)i=c[o],f=o!==u-1,h.push(this._animate(i,arguments[0][i],arguments[1],f));return h}else return this._animate.apply(this,arguments)},_animate:function(c,i,f,h){var o=this,u;i=i.toString(),f?f=t.util.object.clone(f):f={},~c.indexOf(".")&&(u=c.split("."));var a=o.colorProperties.indexOf(c)>-1||u&&o.colorProperties.indexOf(u[1])>-1,d=u?this.get(u[0])[u[1]]:this.get(c);"from"in f||(f.from=d),a||(~i.indexOf("=")?i=d+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:f.from,endValue:i,byValue:f.by,easing:f.easing,duration:f.duration,abort:f.abort&&function(l,m,b){return f.abort.call(o,l,m,b)},onChange:function(l,m,b){u?o[u[0]][u[1]]=l:o.set(c,l),!h&&f.onChange&&f.onChange(l,m,b)},onComplete:function(l,m,b){h||(o.setCoords(),f.onComplete&&f.onComplete(l,m,b))}};return a?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,d){a||(a=[0,0,0,0]),this.callSuper("initialize",d),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(d)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,d){return this.callSuper("_set",a,d),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var d=this.calcLinePoints();a.moveTo(d.x1,d.y1),a.lineTo(d.x2,d.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return f(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,d=this.y1<=this.y2?-1:1,g=a*this.width*.5,l=d*this.height*.5,m=a*this.width*-.5,b=d*this.height*-.5;return{x1:g,x2:m,y1:l,y2:b}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,d,g){g=g||{};var l=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),m=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];d(new i.Line(m,f(l,g)))},i.Line.fromObject=function(a,d){function g(m){delete m.points,d&&d(m)}var l=h(a,!0);l.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",l,g,"points")};function u(a,d){var g=a.origin,l=a.axis1,m=a.axis2,b=a.dimension,y=d.nearest,S=d.center,w=d.farthest;return function(){switch(this.get(g)){case y:return Math.min(this.get(l),this.get(m));case S:return Math.min(this.get(l),this.get(m))+.5*this.get(b);case w:return Math.max(this.get(l),this.get(m))}}}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,u){return this.callSuper("_set",o,u),o==="radius"&&this.setRadius(u),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,u=0,a=0,d=(this.endAngle-this.startAngle)%360;if(d===0)o=["<circle ","COMMON_PARTS",'cx="'+u+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=f(this.startAngle),l=f(this.endAngle),m=this.radius,b=i.util.cos(g)*m,y=i.util.sin(g)*m,S=i.util.cos(l)*m,w=i.util.sin(l)*m,x=d>180?"1":"0";o=['<path d="M '+b+" "+y," A "+m+" "+m," 0 ",+x+" 1"," "+S+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,f(this.startAngle),f(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,u){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!h(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,u(new i.Circle(a))};function h(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,u){i.Object._fromObject("Circle",o,u)}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(f){var h=this.width/2,o=this.height/2;f.beginPath(),f.moveTo(-h,o),f.lineTo(0,-o),f.lineTo(h,o),f.closePath(),this._renderPaintInOrder(f)},_toSVG:function(){var f=this.width/2,h=this.height/2,o=[-f+" "+h,"0 "+-h,f+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(f,h){return i.Object._fromObject("Triangle",f,h)}}(e),function(c){var i=c.fabric||(c.fabric={}),f=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,o){switch(this.callSuper("_set",h,o),h){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,f,!1),h.restore(),this._renderPaintInOrder(h)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(h,o){var u=i.parseAttributes(h,i.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,o(new i.Ellipse(u))},i.Ellipse.fromObject=function(h,o){i.Object._fromObject("Ellipse",h,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var o=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,d=this.height,g=-this.width/2,l=-this.height/2,m=o!==0||u!==0,b=1-.5522847498;h.beginPath(),h.moveTo(g+o,l),h.lineTo(g+a-o,l),m&&h.bezierCurveTo(g+a-b*o,l,g+a,l+b*u,g+a,l+u),h.lineTo(g+a,l+d-u),m&&h.bezierCurveTo(g+a,l+d-b*u,g+a-b*o,l+d,g+a-o,l+d),h.lineTo(g+o,l+d),m&&h.bezierCurveTo(g+b*o,l+d,g,l+d-b*u,g,l+d-u),h.lineTo(g,l+u),m&&h.bezierCurveTo(g,l+b*u,g+b*o,l,g+o,l),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(h,o,u){if(!h)return o(null);u=u||{};var a=i.parseAttributes(h,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var d=new i.Rect(f(u?i.util.object.clone(u):{},a));d.visible=d.visible&&d.width>0&&d.height>0,o(d)},i.Rect.fromObject=function(h,o){return i.Object._fromObject("Rect",h,o)}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.util.array.min,o=i.util.array.max,u=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(d,g){g=g||{},this.points=d||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(d){var g=this._calcDimensions(d),l,m=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-m,this.height=g.height-m,d.fromSVG||(l=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+m/2,y:g.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof d.left>"u"&&(this.left=d.fromSVG?g.left:l.x),typeof d.top>"u"&&(this.top=d.fromSVG?g.top:l.y),this.pathOffset={x:g.left+this.width/2+m/2,y:g.top+this.height/2+m/2}},_calcDimensions:function(){var d=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=h(d,"x")||0,l=h(d,"y")||0,m=o(d,"x")||0,b=o(d,"y")||0,y=m-g,S=b-l;return{left:g,top:l,width:y,height:S}},toObject:function(d){return f(this.callSuper("toObject",d),{points:this.points.concat()})},_toSVG:function(){for(var d=[],g=this.pathOffset.x,l=this.pathOffset.y,m=i.Object.NUM_FRACTION_DIGITS,b=0,y=this.points.length;b<y;b++)d.push(u(this.points[b].x-g,m),",",u(this.points[b].y-l,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',d.join(""),`" />
`]},commonRender:function(d){var g,l=this.points.length,m=this.pathOffset.x,b=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;d.beginPath(),d.moveTo(this.points[0].x-m,this.points[0].y-b);for(var y=0;y<l;y++)g=this.points[y],d.lineTo(g.x-m,g.y-b);return!0},_render:function(d){this.commonRender(d)&&this._renderPaintInOrder(d)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(d){return function(g,l,m){if(!g)return l(null);m||(m={});var b=i.parsePointsAttribute(g.getAttribute("points")),y=i.parseAttributes(g,i[d].ATTRIBUTE_NAMES);y.fromSVG=!0,l(new i[d](b,f(y,m)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(d,g){return i.Object._fromObject("Polyline",d,g,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return f(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(h,o){i.Object._fromObject("Polygon",h,o,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.array.min,h=i.util.array.max,o=i.util.object.extend,u=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(d,g){g=u(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(d||[],g)},_setPath:function(d,g){this.path=i.util.makePathSimpler(Array.isArray(d)?d:i.util.parsePath(d)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(d){var g,l=0,m=0,b=0,y=0,S=0,w=0,x=-this.pathOffset.x,E=-this.pathOffset.y;d.beginPath();for(var _=0,$=this.path.length;_<$;++_)switch(g=this.path[_],g[0]){case"L":b=g[1],y=g[2],d.lineTo(b+x,y+E);break;case"M":b=g[1],y=g[2],l=b,m=y,d.moveTo(b+x,y+E);break;case"C":b=g[5],y=g[6],S=g[3],w=g[4],d.bezierCurveTo(g[1]+x,g[2]+E,S+x,w+E,b+x,y+E);break;case"Q":d.quadraticCurveTo(g[1]+x,g[2]+E,g[3]+x,g[4]+E),b=g[3],y=g[4],S=g[1],w=g[2];break;case"z":case"Z":b=l,y=m,d.closePath();break}},_render:function(d){this._renderPathCommands(d),this._renderPaintInOrder(d)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(d){return o(this.callSuper("toObject",d),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(d){var g=this.toObject(["sourcePath"].concat(d));return g.sourcePath&&delete g.path,g},_toSVG:function(){var d=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',d,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var d=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,d)+", "+a(-this.pathOffset.y,d)+")"},toClipPathSVG:function(d){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:g})},toSVG:function(d){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var d=[],g=[],l,m=0,b=0,y=0,S=0,w,x=0,E=this.path.length;x<E;++x){switch(l=this.path[x],l[0]){case"L":y=l[1],S=l[2],w=[];break;case"M":y=l[1],S=l[2],m=y,b=S,w=[];break;case"C":w=i.util.getBoundsOfCurve(y,S,l[1],l[2],l[3],l[4],l[5],l[6]),y=l[5],S=l[6];break;case"Q":w=i.util.getBoundsOfCurve(y,S,l[1],l[2],l[1],l[2],l[3],l[4]),y=l[3],S=l[4];break;case"z":case"Z":y=m,S=b;break}w.forEach(function(D){d.push(D.x),g.push(D.y)}),d.push(y),g.push(S)}var _=f(d)||0,$=f(g)||0,I=h(d)||0,A=h(g)||0,F=I-_,z=A-$;return{left:_,top:$,width:F,height:z}}}),i.Path.fromObject=function(d,g){if(typeof d.sourcePath=="string"){var l=d.sourcePath;i.loadSVGFromURL(l,function(m){var b=m[0];b.setOptions(d),d.clipPath?i.util.enlivenObjects([d.clipPath],function(y){b.clipPath=y[0],g&&g(b)}):g&&g(b)})}else i.Object._fromObject("Path",d,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(d,g,l){var m=i.parseAttributes(d,i.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,g(new i.Path(m.d,o(m,l)))}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.array.min,h=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,u,a){u=u||{},this._objects=[],a&&this.callSuper("initialize",u),this._objects=o||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;if(a)this._updateObjectsACoords();else{var g=u&&u.centerPoint;u.originX!==void 0&&(this.originX=u.originX),u.originY!==void 0&&(this.originY=u.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,u=this._objects.length;u--;)this._objects[u].setCoords(o)},_updateObjectsCoords:function(u){for(var u=u||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],u)},_updateObjectCoords:function(o,u){var a=o.left,d=o.top,g=!0;o.set({left:a-u.x,top:d-u.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var u=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(u&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,u){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,u);if(o==="canvas")for(;a--;)this._objects[a]._set(o,u);i.Object.prototype._set.call(this,o,u)},toObject:function(o){var u=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var l=g.includeDefaultValues;g.includeDefaultValues=u;var m=g.toObject(o);return g.includeDefaultValues=l,m}),d=i.Object.prototype.toObject.call(this,o);return d.objects=a,d},toDatalessObject:function(o){var u,a=this.sourcePath;if(a)u=a;else{var d=this.includeDefaultValues;u=this._objects.map(function(l){var m=l.includeDefaultValues;l.includeDefaultValues=d;var b=l.toDatalessObject(o);return l.includeDefaultValues=m,b})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=u,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var u=0,a=this._objects.length;u<a;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,u=this._objects.length;o<u;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var u=0,a=this._objects.length;u<a;u++)this._objects[u].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var u=0,a=this._objects.length;u<a;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var d=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-g/2,d,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(u){i.util.addTransformToObject(u,o),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,u=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var d=new i.ActiveSelection([]);return d.set(a),d.type="activeSelection",u.remove(this),o.forEach(function(g){g.group=d,g.dirty=!0,u.add(g)}),d.canvas=u,d._objects=o,u._activeObject=d,d.setCoords(),d}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(u){u.setCoords(o)}),this},_calcBounds:function(o){for(var u=[],a=[],d,g,l,m=["tr","br","bl","tl"],b=0,y=this._objects.length,S,w=m.length;b<y;++b){for(d=this._objects[b],l=d.calcACoords(),S=0;S<w;S++)g=m[S],u.push(l[g].x),a.push(l[g].y);d.aCoords=l}this._getBounds(u,a,o)},_getBounds:function(o,u,a){var d=new i.Point(f(o),f(u)),g=new i.Point(h(o),h(u)),l=d.y||0,m=d.x||0,b=g.x-d.x||0,y=g.y-d.y||0;this.width=b,this.height=y,a||this.setPositionByOrigin({x:m,y:l},"left","top")},_toSVG:function(o){for(var u=["<g ","COMMON_PARTS",` >
`],a=0,d=this._objects.length;a<d;a++)u.push("		",this._objects[a].toSVG(o));return u.push(`</g>
`),u},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",u=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),u].join("")},toClipPathSVG:function(o){for(var u=[],a=0,d=this._objects.length;a<d;a++)u.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(u,{reviver:o})}}),i.Group.fromObject=function(o,u){var a=o.objects,d=i.util.object.clone(o,!0);if(delete d.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var l=i.util.groupSVGElements(g,o,a),m=d.clipPath;delete d.clipPath,l.set(d),m?i.util.enlivenObjects([m],function(b){l.clipPath=b[0],u&&u(l)}):u&&u(l)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,d,function(){u&&u(new i.Group(g,d,!0))})})})}(e),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(f,h){h=h||{},this._objects=f||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var f=this._objects.concat();this._objects=[];var h=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete h.type,o.set(h),f.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=f,!this.canvas)return o;var u=this.canvas;return u.add(o),u._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(f,h,o){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",f,h),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var u=0,a=this._objects.length;u<a;u++)this._objects[u]._renderControls(f,o);f.restore()}}),i.ActiveSelection.fromObject=function(f,h){i.util.enlivenObjects(f.objects,function(o){delete f.objects,h&&h(new i.ActiveSelection(o,f,!0))})})}(e),function(c){var i=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(f,h){h||(h={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",h),this._initElement(f,h)},getElement:function(){return this._element||{}},setElement:function(f,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=f,this._originalElement=f,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(f){var h=t.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(f)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(f){t.util.cleanUpJsdomNode(this[f]),this[f]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var f=this.getElement();return{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}},_stroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,o=this.height/2;f.beginPath(),f.moveTo(-h,-o),f.lineTo(h,-o),f.lineTo(h,o),f.lineTo(-h,o),f.lineTo(-h,-o),f.closePath()}},toObject:function(f){var h=[];this.filters.forEach(function(u){u&&h.push(u.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(f)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var f=[],h=[],o,u=this._element,a=-this.width/2,d=-this.height/2,g="",l="";if(!u)return[];if(this.hasCrop()){var m=t.Object.__uid++;f.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+a+'" y="'+d+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',d-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,l,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',d,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?f=f.concat(o,h):f=f.concat(h,o),f},getSrc:function(f){var h=f?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(f,h,o){return t.util.loadImage(f,function(u,a){this.setElement(u,o),this._setWidthHeight(),h&&h(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var f=this.resizeFilter,h=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),u=o.scaleX,a=o.scaleY,d=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||u>h&&a>h){this._element=d,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=d.width,b=d.height;g.width=m,g.height=b,this._element=g,this._lastScaleX=f.scaleX=u,this._lastScaleY=f.scaleY=a,t.filterBackend.applyFilters([f],d,m,b,this._element,l),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(f){if(f=f||this.filters||[],f=f.filter(function(d){return d&&!d.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),f.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,o=h.naturalWidth||h.width,u=h.naturalHeight||h.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=o,a.height=u,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,u),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(f,this._originalElement,o,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(f){t.util.setImageSmoothing(f,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)},drawCacheOnCanvas:function(f){t.util.setImageSmoothing(f,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,f)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(f){var h=this._element;if(h){var o=this._filterScalingX,u=this._filterScalingY,a=this.width,d=this.height,g=Math.min,l=Math.max,m=l(this.cropX,0),b=l(this.cropY,0),y=h.naturalWidth||h.width,S=h.naturalHeight||h.height,w=m*o,x=b*u,E=g(a*o,y-w),_=g(d*u,S-x),$=-a/2,I=-d/2,A=g(a,y/o-m),F=g(d,S/u-b);h&&f.drawImage(h,w,x,E,_,$,I,A,F)}},_needsResize:function(){var f=this.getTotalObjectScaling();return f.scaleX!==this._lastScaleX||f.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(f,h){this.setElement(t.util.getById(f),h),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(f){f||(f={}),this.setOptions(f),this._setWidthHeight(f)},_initFilters:function(f,h){f&&f.length?t.util.enlivenObjects(f,function(o){h&&h(o)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(f){f||(f={});var h=this.getElement();this.width=f.width||h.naturalWidth||h.width||0,this.height=f.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var f=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,o=this._element.height,u=1,a=1,d=0,g=0,l=0,m=0,b,y=this.width,S=this.height,w={width:y,height:S};return f&&(f.alignX!=="none"||f.alignY!=="none")?(f.meetOrSlice==="meet"&&(u=a=t.util.findScaleToFit(this._element,w),b=(y-h*u)/2,f.alignX==="Min"&&(d=-b),f.alignX==="Max"&&(d=b),b=(S-o*a)/2,f.alignY==="Min"&&(g=-b),f.alignY==="Max"&&(g=b)),f.meetOrSlice==="slice"&&(u=a=t.util.findScaleToCover(this._element,w),b=h-y/u,f.alignX==="Mid"&&(l=b/2),f.alignX==="Max"&&(l=b),b=o-S/a,f.alignY==="Mid"&&(m=b/2),f.alignY==="Max"&&(m=b),h=y/u,o=S/a)):(u=y/h,a=S/o),{width:h,height:o,scaleX:u,scaleY:a,offsetLeft:d,offsetTop:g,cropX:l,cropY:m}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(f,h){var o=t.util.object.clone(f);t.util.loadImage(o.src,function(u,a){if(a){h&&h(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(d){o.filters=d||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],t.util.enlivenObjectEnlivables(o,o,function(){var l=new t.Image(u,o);h(l,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(f,h,o){t.util.loadImage(f,function(u,a){h&&h(new t.Image(u,o),a)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(f,h,o){var u=t.parseAttributes(f,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(u["xlink:href"],h,i(o?t.util.object.clone(o):{},u))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},f=c.onComplete||i,h=c.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){o.rotate(u),h()},onComplete:function(){o.setCoords(),f()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(f,h){var o="precision "+h+` float;
void main(){}`,u=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(u,o),f.compileShader(u),!!f.getShaderParameter(u,f.COMPILE_STATUS)}t.isWebglSupported=function(f){if(t.isLikelyNode)return!1;f=f||t.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),o=h.getContext("webgl")||h.getContext("experimental-webgl"),u=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),u=t.maxTextureSize>=f;for(var a=["highp","mediump","lowp"],d=0;d<3;d++)if(c(o,a[d])){t.webGlPrecision=a[d];break}}return this.isSupported=u,u},t.WebglFilterBackend=i;function i(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(f,h){this.dispose(),this.createWebGLCanvas(f,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(f,h)},chooseFastestCopyGLTo2DMethod:function(f,h){var o=typeof window.performance<"u",u;try{new ImageData(1,1),u=!0}catch{u=!1}var a=typeof ArrayBuffer<"u",d=typeof Uint8ClampedArray<"u";if(o&&u&&a&&d){var g=t.util.createCanvasElement(),l=new ArrayBuffer(f*h*4);if(t.forceGLPutImageData){this.imageBuffer=l,this.copyGLTo2D=C;return}var m={imageBuffer:l,destinationWidth:f,destinationHeight:h,targetCanvas:g},b,y,S;g.width=f,g.height=h,b=window.performance.now(),v.call(m,this.gl,m),y=window.performance.now()-b,b=window.performance.now(),C.call(m,this.gl,m),S=window.performance.now()-b,y>S?(this.imageBuffer=l,this.copyGLTo2D=C):this.copyGLTo2D=v}},createWebGLCanvas:function(f,h){var o=t.util.createCanvasElement();o.width=f,o.height=h;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",u);a||(a=o.getContext("experimental-webgl",u)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(f,h,o,u,a,d){var g=this.gl,l;d&&(l=this.getCachedTexture(d,h));var m={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:o,sourceHeight:u,destinationWidth:o,destinationHeight:u,context:g,sourceTexture:this.createTexture(g,o,u,!l&&h),targetTexture:this.createTexture(g,o,u),originalTexture:l||this.createTexture(g,o,u,!l&&h),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},b=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,b),f.forEach(function(y){y&&y.applyTo(m)}),s(m),this.copyGLTo2D(g,m),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(m.sourceTexture),g.deleteTexture(m.targetTexture),g.deleteFramebuffer(b),a.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(f,h,o,u,a){var d=f.createTexture();return f.bindTexture(f.TEXTURE_2D,d),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,a||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,a||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),u?f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,u):f.texImage2D(f.TEXTURE_2D,0,f.RGBA,h,o,0,f.RGBA,f.UNSIGNED_BYTE,null),d},getCachedTexture:function(f,h){if(this.textureCache[f])return this.textureCache[f];var o=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[f]=o,o},evictCachesForKey:function(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])},copyGLTo2D:v,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var f=this.gl,h={renderer:"",vendor:""};if(!f)return h;var o=f.getExtension("WEBGL_debug_renderer_info");if(o){var u=f.getParameter(o.UNMASKED_RENDERER_WEBGL),a=f.getParameter(o.UNMASKED_VENDOR_WEBGL);u&&(h.renderer=u.toLowerCase()),a&&(h.vendor=a.toLowerCase())}return this.gpuInfo=h,h}}}();function s(c){var i=c.targetCanvas,f=i.width,h=i.height,o=c.destinationWidth,u=c.destinationHeight;(f!==o||h!==u)&&(i.width=o,i.height=u)}function v(c,i){var f=c.canvas,h=i.targetCanvas,o=h.getContext("2d");o.translate(0,h.height),o.scale(1,-1);var u=f.height-h.height;o.drawImage(f,0,u,h.width,h.height,0,0,h.width,h.height)}function C(c,i){var f=i.targetCanvas,h=f.getContext("2d"),o=i.destinationWidth,u=i.destinationHeight,a=o*u*4,d=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,o,u,c.RGBA,c.UNSIGNED_BYTE,d);var l=new ImageData(g,o,u);h.putImageData(l,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(f,h,o,u,a){var d=a.getContext("2d");d.drawImage(h,0,0,o,u);var g=d.getImageData(0,0,o,u),l=d.getImageData(0,0,o,u),m={sourceWidth:o,sourceHeight:u,imageData:g,originalEl:h,originalImageData:l,canvasEl:a,ctx:d,filterBackend:this};return f.forEach(function(b){b.applyTo(m)}),(m.imageData.width!==o||m.imageData.height!==u)&&(a.width=m.imageData.width,a.height=m.imageData.height),d.putImageData(m.imageData,0,0),m}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,f){i=i||this.fragmentSource,f=f||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var h=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(h,f),c.compileShader(h),!c.getShaderParameter(h,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(h));var o=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(o,i),c.compileShader(o),!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(o));var u=c.createProgram();if(c.attachShader(u,h),c.attachShader(u,o),c.linkProgram(u),!c.getProgramParameter(u,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(u));var a=this.getAttributeLocations(c,u),d=this.getUniformLocations(c,u)||{};return d.uStepW=c.getUniformLocation(u,"uStepW"),d.uStepH=c.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:a,uniformLocations:d}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,f){var h=i.aPosition,o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,o),c.enableVertexAttribArray(h),c.vertexAttribPointer(h,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,f,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,f,h;c.passes>1?(f=c.destinationWidth,h=c.destinationHeight,(c.sourceWidth!==f||c.sourceHeight!==h)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,f,h)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var f=i[c].length;f--;)if(this[c][f]!==i[c][f])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,f=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(f.program),this.sendAttributeData(i,f.attributeLocations,c.aPosition),i.uniform1f(f.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(f.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,f.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,f){c.activeTexture(f),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,i){var f=new t.Image.filters[c.type](c);return i&&i(f),f},function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.ColorMatrix=h(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var u=o.imageData,a=u.data,d=a.length,g=this.matrix,l,m,b,y,S,w=this.colorsOnly;for(S=0;S<d;S+=4)l=a[S],m=a[S+1],b=a[S+2],w?(a[S]=l*g[0]+m*g[1]+b*g[2]+g[4]*255,a[S+1]=l*g[5]+m*g[6]+b*g[7]+g[9]*255,a[S+2]=l*g[10]+m*g[11]+b*g[12]+g[14]*255):(y=a[S+3],a[S]=l*g[0]+m*g[1]+b*g[2]+y*g[3]+g[4]*255,a[S+1]=l*g[5]+m*g[6]+b*g[7]+y*g[8]+g[9]*255,a[S+2]=l*g[10]+m*g[11]+b*g[12]+y*g[13]+g[14]*255,a[S+3]=l*g[15]+m*g[16]+b*g[17]+y*g[18]+g[19]*255)},getUniformLocations:function(o,u){return{uColorMatrix:o.getUniformLocation(u,"uColorMatrix"),uConstants:o.getUniformLocation(u,"uConstants")}},sendUniformData:function(o,u){var a=this.matrix,d=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(u.uColorMatrix,!1,d),o.uniform4fv(u.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Brightness=h(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var u=o.imageData,a=u.data,d,g=a.length,l=Math.round(this.brightness*255);for(d=0;d<g;d+=4)a[d]=a[d]+l,a[d+1]=a[d+1]+l,a[d+2]=a[d+2]+l}},getUniformLocations:function(o,u){return{uBrightness:o.getUniformLocation(u,"uBrightness")}},sendUniformData:function(o,u){o.uniform1f(u.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.Image.filters,o=i.util.createClass;h.Convolute=o(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(u){var a=Math.sqrt(this.matrix.length),d=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[d];return u.programCache.hasOwnProperty(d)||(u.programCache[d]=this.createProgram(u.context,g)),u.programCache[d]},applyTo2d:function(u){var a=u.imageData,d=a.data,g=this.matrix,l=Math.round(Math.sqrt(g.length)),m=Math.floor(l/2),b=a.width,y=a.height,S=u.ctx.createImageData(b,y),w=S.data,x=this.opaque?1:0,E,_,$,I,A,F,z,D,H,B,j,N,O;for(j=0;j<y;j++)for(B=0;B<b;B++){for(A=(j*b+B)*4,E=0,_=0,$=0,I=0,O=0;O<l;O++)for(N=0;N<l;N++)z=j+O-m,F=B+N-m,!(z<0||z>=y||F<0||F>=b)&&(D=(z*b+F)*4,H=g[O*l+N],E+=d[D]*H,_+=d[D+1]*H,$+=d[D+2]*H,x||(I+=d[D+3]*H));w[A]=E,w[A+1]=_,w[A+2]=$,x?w[A+3]=d[A+3]:w[A+3]=I}u.imageData=S},getUniformLocations:function(u,a){return{uMatrix:u.getUniformLocation(a,"uMatrix"),uOpaque:u.getUniformLocation(a,"uOpaque"),uHalfSize:u.getUniformLocation(a,"uHalfSize"),uSize:u.getUniformLocation(a,"uSize")}},sendUniformData:function(u,a){u.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Grayscale=h(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var u=o.imageData,a=u.data,d,g=a.length,l,m=this.mode;for(d=0;d<g;d+=4)m==="average"?l=(a[d]+a[d+1]+a[d+2])/3:m==="lightness"?l=(Math.min(a[d],a[d+1],a[d+2])+Math.max(a[d],a[d+1],a[d+2]))/2:m==="luminosity"&&(l=.21*a[d]+.72*a[d+1]+.07*a[d+2]),a[d]=l,a[d+1]=l,a[d+2]=l},retrieveShader:function(o){var u=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(u)){var a=this.fragmentSource[this.mode];o.programCache[u]=this.createProgram(o.context,a)}return o.programCache[u]},getUniformLocations:function(o,u){return{uMode:o.getUniformLocation(u,"uMode")}},sendUniformData:function(o,u){var a=1;o.uniform1i(u.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Invert=h(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var u=o.imageData,a=u.data,d,g=a.length;for(d=0;d<g;d+=4)a[d]=255-a[d],a[d+1]=255-a[d+1],a[d+2]=255-a[d+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,u){return{uInvert:o.getUniformLocation(u,"uInvert")}},sendUniformData:function(o,u){o.uniform1i(u.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.Image.filters,o=i.util.createClass;h.Noise=o(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(u){if(this.noise!==0){var a=u.imageData,d=a.data,g,l=d.length,m=this.noise,b;for(g=0,l=d.length;g<l;g+=4)b=(.5-Math.random())*m,d[g]+=b,d[g+1]+=b,d[g+2]+=b}},getUniformLocations:function(u,a){return{uNoise:u.getUniformLocation(a,"uNoise"),uSeed:u.getUniformLocation(a,"uSeed")}},sendUniformData:function(u,a){u.uniform1f(a.uNoise,this.noise/255),u.uniform1f(a.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Pixelate=h(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var u=o.imageData,a=u.data,d=u.height,g=u.width,l,m,b,y,S,w,x,E,_,$,I;for(m=0;m<d;m+=this.blocksize)for(b=0;b<g;b+=this.blocksize)for(l=m*4*g+b*4,y=a[l],S=a[l+1],w=a[l+2],x=a[l+3],$=Math.min(m+this.blocksize,d),I=Math.min(b+this.blocksize,g),E=m;E<$;E++)for(_=b;_<I;_++)l=E*4*g+_*4,a[l]=y,a[l+1]=S,a[l+2]=w,a[l+3]=x},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,u){return{uBlocksize:o.getUniformLocation(u,"uBlocksize"),uStepW:o.getUniformLocation(u,"uStepW"),uStepH:o.getUniformLocation(u,"uStepH")}},sendUniformData:function(o,u){o.uniform1f(u.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.extend,h=i.Image.filters,o=i.util.createClass;h.RemoveColor=o(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(u){var a=u.imageData,d=a.data,g,l=this.distance*255,m,b,y,S=new i.Color(this.color).getSource(),w=[S[0]-l,S[1]-l,S[2]-l],x=[S[0]+l,S[1]+l,S[2]+l];for(g=0;g<d.length;g+=4)m=d[g],b=d[g+1],y=d[g+2],m>w[0]&&b>w[1]&&y>w[2]&&m<x[0]&&b<x[1]&&y<x[2]&&(d[g+3]=0)},getUniformLocations:function(u,a){return{uLow:u.getUniformLocation(a,"uLow"),uHigh:u.getUniformLocation(a,"uHigh")}},sendUniformData:function(u,a){var d=new i.Color(this.color).getSource(),g=parseFloat(this.distance),l=[0+d[0]/255-g,0+d[1]/255-g,0+d[2]/255-g,1],m=[d[0]/255+g,d[1]/255+g,d[2]/255+g,1];u.uniform4fv(a.uLow,l),u.uniform4fv(a.uHigh,m)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in o)f[u]=h(f.ColorMatrix,{type:u,matrix:o[u],mainParameter:!1,colorsOnly:!0}),i.Image.filters[u].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,f=i.Image.filters,h=i.util.createClass;f.BlendColor=h(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var u=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(u)||(a=this.buildSource(this.mode),o.programCache[u]=this.createProgram(o.context,a)),o.programCache[u]},applyTo2d:function(o){var u=o.imageData,a=u.data,d=a.length,g,l,m,b,y,S,w,x=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,l=w[1]*this.alpha,m=w[2]*this.alpha;for(var E=0;E<d;E+=4)switch(b=a[E],y=a[E+1],S=a[E+2],this.mode){case"multiply":a[E]=b*g/255,a[E+1]=y*l/255,a[E+2]=S*m/255;break;case"screen":a[E]=255-(255-b)*(255-g)/255,a[E+1]=255-(255-y)*(255-l)/255,a[E+2]=255-(255-S)*(255-m)/255;break;case"add":a[E]=b+g,a[E+1]=y+l,a[E+2]=S+m;break;case"diff":case"difference":a[E]=Math.abs(b-g),a[E+1]=Math.abs(y-l),a[E+2]=Math.abs(S-m);break;case"subtract":a[E]=b-g,a[E+1]=y-l,a[E+2]=S-m;break;case"darken":a[E]=Math.min(b,g),a[E+1]=Math.min(y,l),a[E+2]=Math.min(S,m);break;case"lighten":a[E]=Math.max(b,g),a[E+1]=Math.max(y,l),a[E+2]=Math.max(S,m);break;case"overlay":a[E]=g<128?2*b*g/255:255-2*(255-b)*(255-g)/255,a[E+1]=l<128?2*y*l/255:255-2*(255-y)*(255-l)/255,a[E+2]=m<128?2*S*m/255:255-2*(255-S)*(255-m)/255;break;case"exclusion":a[E]=g+b-2*g*b/255,a[E+1]=l+y-2*l*y/255,a[E+2]=m+S-2*m*S/255;break;case"tint":a[E]=g+b*x,a[E+1]=l+y*x,a[E+2]=m+S*x}},getUniformLocations:function(o,u){return{uColor:o.getUniformLocation(u,"uColor")}},sendUniformData:function(o,u){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(u.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,f=i.Image.filters,h=i.util.createClass;f.BlendImage=h(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var u=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(u)||(o.programCache[u]=this.createProgram(o.context,a)),o.programCache[u]},applyToWebGL:function(o){var u=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(u,a,u.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(o,u){return o.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var o=this.image,u=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/u,-o.top/a,1]},applyTo2d:function(o){var u=o.imageData,a=o.filterBackend.resources,d=u.data,g=d.length,l=u.width,m=u.height,b,y,S,w,x,E,_,$,I,A,F=this.image,z;a.blendImage||(a.blendImage=i.util.createCanvasElement()),I=a.blendImage,A=I.getContext("2d"),I.width!==l||I.height!==m?(I.width=l,I.height=m):A.clearRect(0,0,l,m),A.setTransform(F.scaleX,0,0,F.scaleY,F.left,F.top),A.drawImage(F._element,0,0,l,m),z=A.getImageData(0,0,l,m).data;for(var D=0;D<g;D+=4)switch(x=d[D],E=d[D+1],_=d[D+2],$=d[D+3],b=z[D],y=z[D+1],S=z[D+2],w=z[D+3],this.mode){case"multiply":d[D]=x*b/255,d[D+1]=E*y/255,d[D+2]=_*S/255,d[D+3]=$*w/255;break;case"mask":d[D+3]=w;break}},getUniformLocations:function(o,u){return{uTransformMatrix:o.getUniformLocation(u,"uTransformMatrix"),uImage:o.getUniformLocation(u,"uImage")}},sendUniformData:function(o,u){var a=this.calculateMatrix();o.uniform1i(u.uImage,1),o.uniformMatrix3fv(u.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,u){i.Image.fromObject(o.image,function(a){var d=i.util.object.clone(o);d.image=a,u(new i.Image.filters.BlendImage(d))})}}(e),function(c){var i=c.fabric||(c.fabric={}),f=Math.pow,h=Math.floor,o=Math.sqrt,u=Math.abs,a=Math.round,d=Math.sin,g=Math.ceil,l=i.Image.filters,m=i.util.createClass;l.Resize=m(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,y){return{uDelta:b.getUniformLocation(y,"uDelta"),uTaps:b.getUniformLocation(y,"uTaps")}},sendUniformData:function(b,y){b.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(b){var y=this.getFilterWindow(),S=this.type+"_"+y;if(!b.programCache.hasOwnProperty(S)){var w=this.generateShader(y);b.programCache[S]=this.createProgram(b.context,w)}return b.programCache[S]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,S=this.getFilterWindow(),w=new Array(S),x=1;x<=S;x++)w[x-1]=b(x*y);return w},generateShader:function(w){for(var y=new Array(w),S=this.fragmentSourceTOP,w,x=1;x<=w;x++)y[x-1]=x+".0 * uDelta";return S+="uniform float uTaps["+w+`];
`,S+=`void main() {
`,S+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,S+=`  float sum = 1.0;
`,y.forEach(function(E,_){S+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+_+`];
`,S+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+_+`];
`,S+="  sum += 2.0 * uTaps["+_+`];
`}),S+=`  gl_FragColor = color / sum;
`,S+="}",S},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(y){if(y>=b||y<=-b)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var S=y/b;return d(y)/y*d(S)/S}},applyTo2d:function(b){var y=b.imageData,S=this.scaleX,w=this.scaleY;this.rcpScaleX=1/S,this.rcpScaleY=1/w;var x=y.width,E=y.height,_=a(x*S),$=a(E*w),I;this.resizeType==="sliceHack"?I=this.sliceByTwo(b,x,E,_,$):this.resizeType==="hermite"?I=this.hermiteFastResize(b,x,E,_,$):this.resizeType==="bilinear"?I=this.bilinearFiltering(b,x,E,_,$):this.resizeType==="lanczos"&&(I=this.lanczosResize(b,x,E,_,$)),b.imageData=I},sliceByTwo:function(b,y,S,w,x){var E=b.imageData,_=.5,$=!1,I=!1,A=y*_,F=S*_,z=i.filterBackend.resources,D,H,B=0,j=0,N=y,O=0;for(z.sliceByTwo||(z.sliceByTwo=document.createElement("canvas")),D=z.sliceByTwo,(D.width<y*1.5||D.height<S)&&(D.width=y*1.5,D.height=S),H=D.getContext("2d"),H.clearRect(0,0,y*1.5,S),H.putImageData(E,0,0),w=h(w),x=h(x);!$||!I;)y=A,S=F,w<h(A*_)?A=h(A*_):(A=w,$=!0),x<h(F*_)?F=h(F*_):(F=x,I=!0),H.drawImage(D,B,j,y,S,N,O,A,F),B=N,j=O,O+=F;return H.getImageData(B,j,w,x)},lanczosResize:function(b,y,S,w,x){function E(T){var M,k,L,R,V,W,Y,Q,G,K,re;for(O.x=(T+.5)*F,P.x=h(O.x),M=0;M<x;M++){for(O.y=(M+.5)*z,P.y=h(O.y),V=0,W=0,Y=0,Q=0,G=0,k=P.x-B;k<=P.x+B;k++)if(!(k<0||k>=y)){K=h(1e3*u(k-O.x)),N[K]||(N[K]={});for(var q=P.y-j;q<=P.y+j;q++)q<0||q>=S||(re=h(1e3*u(q-O.y)),N[K][re]||(N[K][re]=A(o(f(K*D,2)+f(re*H,2))/1e3)),L=N[K][re],L>0&&(R=(q*y+k)*4,V+=L,W+=L*_[R],Y+=L*_[R+1],Q+=L*_[R+2],G+=L*_[R+3]))}R=(M*w+T)*4,I[R]=W/V,I[R+1]=Y/V,I[R+2]=Q/V,I[R+3]=G/V}return++T<w?E(T):$}var _=b.imageData.data,$=b.ctx.createImageData(w,x),I=$.data,A=this.lanczosCreate(this.lanczosLobes),F=this.rcpScaleX,z=this.rcpScaleY,D=2/this.rcpScaleX,H=2/this.rcpScaleY,B=g(F*this.lanczosLobes/2),j=g(z*this.lanczosLobes/2),N={},O={},P={};return E(0)},bilinearFiltering:function(b,y,S,w,x){var E,_,$,I,A,F,z,D,H,B,j,N,O=0,P,T=this.rcpScaleX,M=this.rcpScaleY,k=4*(y-1),L=b.imageData,R=L.data,V=b.ctx.createImageData(w,x),W=V.data;for(z=0;z<x;z++)for(D=0;D<w;D++)for(A=h(T*D),F=h(M*z),H=T*D-A,B=M*z-F,P=4*(F*y+A),j=0;j<4;j++)E=R[P+j],_=R[P+4+j],$=R[P+k+j],I=R[P+k+4+j],N=E*(1-H)*(1-B)+_*H*(1-B)+$*B*(1-H)+I*H*B,W[O++]=N;return V},hermiteFastResize:function(b,y,S,w,x){for(var E=this.rcpScaleX,_=this.rcpScaleY,$=g(E/2),I=g(_/2),A=b.imageData,F=A.data,z=b.ctx.createImageData(w,x),D=z.data,H=0;H<x;H++)for(var B=0;B<w;B++){for(var j=(B+H*w)*4,N=0,O=0,P=0,T=0,M=0,k=0,L=0,R=(H+.5)*_,V=h(H*_);V<(H+1)*_;V++)for(var W=u(R-(V+.5))/I,Y=(B+.5)*E,Q=W*W,G=h(B*E);G<(B+1)*E;G++){var K=u(Y-(G+.5))/$,re=o(Q+K*K);re>1&&re<-1||(N=2*re*re*re-3*re*re+1,N>0&&(K=4*(G+V*y),L+=N*F[K+3],P+=N,F[K+3]<255&&(N=N*F[K+3]/250),T+=N*F[K],M+=N*F[K+1],k+=N*F[K+2],O+=N))}D[j]=T/O,D[j+1]=M/O,D[j+2]=k/O,D[j+3]=L/P}return z},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Contrast=h(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var u=o.imageData,a,g,d=u.data,g=d.length,l=Math.floor(this.contrast*255),m=259*(l+255)/(255*(259-l));for(a=0;a<g;a+=4)d[a]=m*(d[a]-128)+128,d[a+1]=m*(d[a+1]-128)+128,d[a+2]=m*(d[a+2]-128)+128}},getUniformLocations:function(o,u){return{uContrast:o.getUniformLocation(u,"uContrast")}},sendUniformData:function(o,u){o.uniform1f(u.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Saturation=h(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var u=o.imageData,a=u.data,d=a.length,g=-this.saturation,l,m;for(l=0;l<d;l+=4)m=Math.max(a[l],a[l+1],a[l+2]),a[l]+=m!==a[l]?(m-a[l])*g:0,a[l+1]+=m!==a[l+1]?(m-a[l+1])*g:0,a[l+2]+=m!==a[l+2]?(m-a[l+2])*g:0}},getUniformLocations:function(o,u){return{uSaturation:o.getUniformLocation(u,"uSaturation")}},sendUniformData:function(o,u){o.uniform1f(u.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Vibrance=h(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var u=o.imageData,a=u.data,d=a.length,g=-this.vibrance,l,m,b,y;for(l=0;l<d;l+=4)m=Math.max(a[l],a[l+1],a[l+2]),b=(a[l]+a[l+1]+a[l+2])/3,y=Math.abs(m-b)*2/255*g,a[l]+=m!==a[l]?(m-a[l])*y:0,a[l+1]+=m!==a[l+1]?(m-a[l+1])*y:0,a[l+2]+=m!==a[l+2]?(m-a[l+2])*y:0}},getUniformLocations:function(o,u){return{uVibrance:o.getUniformLocation(u,"uVibrance")}},sendUniformData:function(o,u){o.uniform1f(u.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Blur=h(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var u=o.filterBackend.resources,a,d,g=o.imageData.width,l=o.imageData.height;u.blurLayer1||(u.blurLayer1=i.util.createCanvasElement(),u.blurLayer2=i.util.createCanvasElement()),a=u.blurLayer1,d=u.blurLayer2,(a.width!==g||a.height!==l)&&(d.width=a.width=g,d.height=a.height=l);var m=a.getContext("2d"),b=d.getContext("2d"),y=15,S,w,x,E,_=this.blur*.06*.5;for(m.putImageData(o.imageData,0,0),b.clearRect(0,0,g,l),E=-y;E<=y;E++)S=(Math.random()-.5)/4,w=E/y,x=_*w*g+S,b.globalAlpha=1-Math.abs(w),b.drawImage(a,x,S),m.drawImage(d,0,0),b.globalAlpha=1,b.clearRect(0,0,d.width,d.height);for(E=-y;E<=y;E++)S=(Math.random()-.5)/4,w=E/y,x=_*w*l+S,b.globalAlpha=1-Math.abs(w),b.drawImage(a,S,x),m.drawImage(d,0,0),b.globalAlpha=1,b.clearRect(0,0,d.width,d.height);o.ctx.drawImage(a,0,0);var $=o.ctx.getImageData(0,0,a.width,a.height);return m.globalAlpha=1,m.clearRect(0,0,a.width,a.height),$},getUniformLocations:function(o,u){return{delta:o.getUniformLocation(u,"uDelta")}},sendUniformData:function(o,u){var a=this.chooseRightDelta();o.uniform2fv(u.delta,a)},chooseRightDelta:function(){var o=1,u=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?u[0]=a:u[1]=a,u}}),f.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Gamma=h(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var u=o.imageData,a=u.data,d=this.gamma,g=a.length,l=1/d[0],m=1/d[1],b=1/d[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,g=256;y<g;y++)this.rVals[y]=Math.pow(y/255,l)*255,this.gVals[y]=Math.pow(y/255,m)*255,this.bVals[y]=Math.pow(y/255,b)*255;for(y=0,g=a.length;y<g;y+=4)a[y]=this.rVals[a[y]],a[y+1]=this.gVals[a[y+1]],a[y+2]=this.bVals[a[y+2]]},getUniformLocations:function(o,u){return{uGamma:o.getUniformLocation(u,"uGamma")}},sendUniformData:function(o,u){o.uniform3fv(u.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.Composed=h(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,u){var a=o.subFilters||[],d=a.map(function(l){return new i.Image.filters[l.type](l)}),g=new i.Image.filters.Composed({subFilters:d});return u&&u(g),g}}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.Image.filters,h=i.util.createClass;f.HueRotation=h(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,u=i.util.cos(o),a=i.util.sin(o),d=1/3,g=Math.sqrt(d)*a,l=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+l/3,this.matrix[1]=d*l-g,this.matrix[2]=d*l+g,this.matrix[5]=d*l+g,this.matrix[6]=u+d*l,this.matrix[7]=d*l-g,this.matrix[10]=d*l-g,this.matrix[11]=d*l+g,this.matrix[12]=u+d*l},isNeutralState:function(o){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),f=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(h),cacheProperties:i.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,u){this.styles=u?u.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,u,a,d,g,l,m,b=0,y=this._textLines.length;b<y;b++)if(!(this.textAlign!=="justify"&&(b===y-1||this.isEndOfWrapping(b)))&&(d=0,g=this._textLines[b],u=this.getLineWidth(b),u<this.width&&(m=this.textLines[b].match(this._reSpacesAndTabs)))){a=m.length,o=(this.width-u)/a;for(var S=0,w=g.length;S<=w;S++)l=this.__charBounds[b][S],this._reSpaceAndTab.test(g[S])?(l.width+=o,l.kernedWidth+=o,l.left+=d,d+=o):l.left+=d}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return o.width+=u*o.zoomX,o.height+=u*o.zoomY,o},_render:function(o){var u=this.path;u&&!u.isNotVisible()&&u._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,u,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(u,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),u=1,a=this._textLines.length;u<a;u++){var d=this.getLineWidth(u);d>o&&(o=d)}return o},_renderTextLine:function(o,u,a,d,g,l){this._renderChars(o,u,a,d,g,l)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var u,a,d=o.fillStyle,g,l,m=this._getLeftOffset(),b=this._getTopOffset(),y=0,S=0,w,x,E=this.path,_,$=0,I=this._textLines.length;$<I;$++){if(u=this.getHeightOfLine($),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",$)){b+=u;continue}g=this._textLines[$],a=this._getLineLeftOffset($),S=0,y=0,l=this.getValueOfPropertyAt($,0,"textBackgroundColor");for(var A=0,F=g.length;A<F;A++)w=this.__charBounds[$][A],x=this.getValueOfPropertyAt($,A,"textBackgroundColor"),E?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=x,x&&o.fillRect(-w.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),w.width,u/this.lineHeight),o.restore()):x!==l?(_=m+a+y,this.direction==="rtl"&&(_=this.width-_-S),o.fillStyle=l,l&&o.fillRect(_,b,S,u/this.lineHeight),y=w.left,S=w.width,l=x):S+=w.kernedWidth;x&&!E&&(_=m+a+y,this.direction==="rtl"&&(_=this.width-_-S),o.fillStyle=x,o.fillRect(_,b,S,u/this.lineHeight)),b+=u}o.fillStyle=d,this._removeShadow(o)}},getFontCache:function(o){var u=o.fontFamily.toLowerCase();i.charWidthsCache[u]||(i.charWidthsCache[u]={});var a=i.charWidthsCache[u],d=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[d]||(a[d]={}),a[d]},_measureChar:function(o,u,a,d){var g=this.getFontCache(u),l=this._getFontDeclaration(u),m=this._getFontDeclaration(d),b=a+o,y=l===m,S,w,x,E=u.fontSize/this.CACHE_FONT_SIZE,_;if(a&&g[a]!==void 0&&(x=g[a]),g[o]!==void 0&&(_=S=g[o]),y&&g[b]!==void 0&&(w=g[b],_=w-x),S===void 0||x===void 0||w===void 0){var $=this.getMeasuringContext();this._setTextStyles($,u,!0)}return S===void 0&&(_=S=$.measureText(o).width,g[o]=S),x===void 0&&y&&a&&(x=$.measureText(a).width,g[a]=x),y&&w===void 0&&(w=$.measureText(b).width,g[b]=w,_=w-x),{width:S*E,kernedWidth:_*E}},getHeightOfChar:function(o,u){return this.getValueOfPropertyAt(o,u,"fontSize")},measureLine:function(o){var u=this._measureLine(o);return this.charSpacing!==0&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(o){var u=0,a,d,g=this._textLines[o],l,m,b=0,y=new Array(g.length),S=0,w,x,E=this.path,_=this.pathSide==="right";for(this.__charBounds[o]=y,a=0;a<g.length;a++)d=g[a],m=this._getGraphemeBox(d,o,a,l),y[a]=m,u+=m.kernedWidth,l=d;if(y[a]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(x=E.segmentsInfo[E.segmentsInfo.length-1].length,w=i.util.getPointOnPath(E.path,0,E.segmentsInfo),w.x+=E.pathOffset.x,w.y+=E.pathOffset.y,this.textAlign){case"left":S=_?x-u:0;break;case"center":S=(x-u)/2;break;case"right":S=_?0:x-u;break}for(S+=this.pathStartOffset*(_?-1:1),a=_?g.length-1:0;_?a>=0:a<g.length;_?a--:a++)m=y[a],S>x?S%=x:S<0&&(S+=x),this._setGraphemeOnPath(S,m,w),S+=m.kernedWidth}return{width:u,numOfSpaces:b}},_setGraphemeOnPath:function(o,u,a){var d=o+u.kernedWidth/2,g=this.path,l=i.util.getPointOnPath(g.path,d,g.segmentsInfo);u.renderLeft=l.x-a.x,u.renderTop=l.y-a.y,u.angle=l.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,u,a,d,g){var l=this.getCompleteStyleDeclaration(u,a),m=d?this.getCompleteStyleDeclaration(u,a-1):{},b=this._measureChar(o,l,d,m),y=b.kernedWidth,S=b.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),S+=w,y+=w);var x={width:S,left:0,height:l.fontSize,kernedWidth:y,deltaY:l.deltaY};if(a>0&&!g){var E=this.__charBounds[u][a-1];x.left=E.left+E.width+b.kernedWidth-b.width}return x},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var u=this._textLines[o],a=this.getHeightOfChar(o,0),d=1,g=u.length;d<g;d++)a=Math.max(this.getHeightOfChar(o,d),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,u=0,a=0,d=this._textLines.length;a<d;a++)o=this.getHeightOfLine(a),u+=a===d-1?o/this.lineHeight:o;return u},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,u){o.save();for(var a=0,d=this._getLeftOffset(),g=this._getTopOffset(),l=0,m=this._textLines.length;l<m;l++){var b=this.getHeightOfLine(l),y=b/this.lineHeight,S=this._getLineLeftOffset(l);this._renderTextLine(u,o,this._textLines[l],d+S,g+a+y,l),a+=b}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,u,a,d,g,l){var m=this.getHeightOfLine(l),b=this.textAlign.indexOf("justify")!==-1,y,S,w="",x,E=0,_,$=this.path,I=!b&&this.charSpacing===0&&this.isEmptyStyles(l)&&!$,A=this.direction==="ltr",F=this.direction==="ltr"?1:-1,z,D=u.canvas.getAttribute("dir");if(u.save(),D!==this.direction&&(u.canvas.setAttribute("dir",A?"ltr":"rtl"),u.direction=A?"ltr":"rtl",u.textAlign=A?"left":"right"),g-=m*this._fontSizeFraction/this.lineHeight,I){this._renderChar(o,u,l,0,a.join(""),d,g,m),u.restore();return}for(var H=0,B=a.length-1;H<=B;H++)_=H===B||this.charSpacing||$,w+=a[H],x=this.__charBounds[l][H],E===0?(d+=F*(x.kernedWidth-x.width),E+=x.width):E+=x.kernedWidth,b&&!_&&this._reSpaceAndTab.test(a[H])&&(_=!0),_||(y=y||this.getCompleteStyleDeclaration(l,H),S=this.getCompleteStyleDeclaration(l,H+1),_=i.util.hasStyleChanged(y,S,!1)),_&&($?(u.save(),u.translate(x.renderLeft,x.renderTop),u.rotate(x.angle),this._renderChar(o,u,l,H,w,-E/2,0,m),u.restore()):(z=d,this._renderChar(o,u,l,H,w,z,g,m)),w="",y=S,d+=F*E,E=0);u.restore()},_applyPatternGradientTransformText:function(o){var u=i.util.createCanvasElement(),a,d=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return u.width=d,u.height=g,a=u.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(d,0),a.lineTo(d,g),a.lineTo(0,g),a.closePath(),a.translate(d/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(u,"no-repeat")},handleFiller:function(o,u,a){var d,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(d=-this.width/2,g=-this.height/2,o.translate(d,g),o[u]=this._applyPatternGradientTransformText(a),{offsetX:d,offsetY:g}):(o[u]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[u]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,u){return o.lineWidth=u.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",u.stroke)},_setFillStyles:function(o,u){return this.handleFiller(o,"fillStyle",u.fill)},_renderChar:function(o,u,a,d,g,l,m){var b=this._getStyleDeclaration(a,d),y=this.getCompleteStyleDeclaration(a,d),S=o==="fillText"&&y.fill,w=o==="strokeText"&&y.stroke&&y.strokeWidth,x,E;!w&&!S||(u.save(),S&&(x=this._setFillStyles(u,y)),w&&(E=this._setStrokeStyles(u,y)),u.font=this._getFontDeclaration(y),b&&b.textBackgroundColor&&this._removeShadow(u),b&&b.deltaY&&(m+=b.deltaY),S&&u.fillText(g,l-x.offsetX,m-x.offsetY),w&&u.strokeText(g,l-E.offsetX,m-E.offsetY),u.restore())},setSuperscript:function(o,u){return this._setScript(o,u,this.superscript)},setSubscript:function(o,u){return this._setScript(o,u,this.subscript)},_setScript:function(o,u,a){var d=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"fontSize"),l=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"deltaY"),m={fontSize:g*a.size,deltaY:l+g*a.baseline};return this.setSelectionStyles(m,o,u),this},_getLineLeftOffset:function(o){var u=this.getLineWidth(o),a=this.width-u,d=this.textAlign,g=this.direction,m,l=0,m=this.isEndOfWrapping(o);return d==="justify"||d==="justify-center"&&!m||d==="justify-right"&&!m||d==="justify-left"&&!m?0:(d==="center"&&(l=a/2),d==="right"&&(l=a),d==="justify-center"&&(l=a/2),d==="justify-right"&&(l=a),g==="rtl"&&(l-=a),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var u=this.measureLine(o),a=u.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,u,a){var d=this._getStyleDeclaration(o,u);return d&&typeof d[a]<"u"?d[a]:this[a]},_renderTextDecoration:function(o,u){if(!(!this[u]&&!this.styleHas(u))){for(var a,d,g,l,m,b,y,S,w=this._getLeftOffset(),x=this._getTopOffset(),E,_,$,I,A,F,z,D,H=this.path,B=this._getWidthOfCharSpacing(),j=this.offsets[u],N=0,O=this._textLines.length;N<O;N++){if(a=this.getHeightOfLine(N),!this[u]&&!this.styleHas(u,N)){x+=a;continue}y=this._textLines[N],F=a/this.lineHeight,l=this._getLineLeftOffset(N),_=0,$=0,S=this.getValueOfPropertyAt(N,0,u),D=this.getValueOfPropertyAt(N,0,"fill"),E=x+F*(1-this._fontSizeFraction),d=this.getHeightOfChar(N,0),m=this.getValueOfPropertyAt(N,0,"deltaY");for(var P=0,T=y.length;P<T;P++)if(I=this.__charBounds[N][P],A=this.getValueOfPropertyAt(N,P,u),z=this.getValueOfPropertyAt(N,P,"fill"),g=this.getHeightOfChar(N,P),b=this.getValueOfPropertyAt(N,P,"deltaY"),H&&A&&z)o.save(),o.fillStyle=D,o.translate(I.renderLeft,I.renderTop),o.rotate(I.angle),o.fillRect(-I.kernedWidth/2,j*g+b,I.kernedWidth,this.fontSize/15),o.restore();else if((A!==S||z!==D||g!==d||b!==m)&&$>0){var M=w+l+_;this.direction==="rtl"&&(M=this.width-M-$),S&&D&&(o.fillStyle=D,o.fillRect(M,E+j*d+m,$,this.fontSize/15)),_=I.left,$=I.width,S=A,D=z,d=g,m=b}else $+=I.kernedWidth;var M=w+l+_;this.direction==="rtl"&&(M=this.width-M-$),o.fillStyle=z,A&&z&&o.fillRect(M,E+j*d+m,$-B,this.fontSize/15),x+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,u){var a=o||this,d=this.fontFamily,g=i.Text.genericFonts.indexOf(d.toLowerCase())>-1,l=d===void 0||d.indexOf("'")>-1||d.indexOf(",")>-1||d.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,u?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",l].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var u=o.split(this._reNewline),a=new Array(u.length),d=[`
`],g=[],l=0;l<u.length;l++)a[l]=i.util.string.graphemeSplit(u[l]),g=g.concat(a[l],d);return g.pop(),{_unwrappedLines:a,lines:u,graphemeText:g,graphemeLines:a}},toObject:function(o){var u=h.concat(o),a=this.callSuper("toObject",u);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,u){this.callSuper("set",o,u);var a=!1,d=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,d=d||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,d=o==="path";return d&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,u,a){if(!o)return u(null);var d=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=d.textAnchor||"left";if(a=i.util.object.extend(a?f(a):{},d),a.top=a.top||0,a.left=a.left||0,d.textDecoration){var l=d.textDecoration;l.indexOf("underline")!==-1&&(a.underline=!0),l.indexOf("overline")!==-1&&(a.overline=!0),l.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in d&&(a.left+=d.dx),"dy"in d&&(a.top+=d.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in o?m=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(m=o.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=a.strokeWidth;a.strokeWidth=0;var y=new i.Text(m,a),S=y.getScaledHeight()/y.height,w=(y.height+y.strokeWidth)*y.lineHeight-y.height,x=w*S,E=y.getScaledHeight()+x,_=0;g==="center"&&(_=y.getScaledWidth()/2),g==="right"&&(_=y.getScaledWidth()),y.set({left:y.left-_,top:y.top-(E-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof b<"u"?b:1}),u(y)},i.Text.fromObject=function(o,u){var a=f(o),d=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),d?i.Object._fromObject("Path",d,function(l){g.set("path",l),u(g)},"path"):u(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var f in i)for(var h in i[f])for(var o in i[f][h])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var f=typeof i>"u"?this.styles:{0:this.styles[i]};for(var h in f)for(var o in f[h])if(typeof f[h][o][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,f=0,h,o,u=!0,a=0,d;for(var g in i){h=0;for(var l in i[g]){var d=i[g][l],m=d.hasOwnProperty(c);f++,m?(o?d[c]!==o&&(u=!1):o=d[c],d[c]===this[c]&&delete d[c]):u=!1,Object.keys(d).length!==0?h++:delete i[g][l]}h===0&&delete i[g]}for(var b=0;b<this._textLines.length;b++)a+=this._textLines[b].length;u&&f===a&&(this[c]=o,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,f,h,o;for(h in i){f=i[h];for(o in f)delete f[o][c],Object.keys(f[o]).length===0&&delete f[o];Object.keys(f).length===0&&delete i[h]}}},_extendStyles:function(c,i){var f=this.get2DCursorLocation(c);this._getLineStyle(f.lineIndex)||this._setLineStyle(f.lineIndex),this._getStyleDeclaration(f.lineIndex,f.charIndex)||this._setStyleDeclaration(f.lineIndex,f.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(f.lineIndex,f.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var f=i?this._unwrappedTextLines:this._textLines,h=f.length,o=0;o<h;o++){if(c<=f[o].length)return{lineIndex:o,charIndex:c};c-=f[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:f[o-1].length<c?f[o-1].length:c}},getSelectionStyles:function(c,i,f){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var h=[],o=c;o<i;o++)h.push(this.getStyleAtPosition(o,f));return h},getStyleAtPosition:function(c,i){var f=this.get2DCursorLocation(c),h=i?this.getCompleteStyleDeclaration(f.lineIndex,f.charIndex):this._getStyleDeclaration(f.lineIndex,f.charIndex);return h||{}},setSelectionStyles:function(c,i,f){typeof i>"u"&&(i=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||i);for(var h=i;h<f;h++)this._extendStyles(h,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var f=this.styles&&this.styles[c];return f?f[i]:null},getCompleteStyleDeclaration:function(c,i){for(var f=this._getStyleDeclaration(c,i)||{},h={},o,u=0;u<this._styleProperties.length;u++)o=this._styleProperties[u],h[o]=typeof f[o]>"u"?this[o]:f[o];return h},_setStyleDeclaration:function(c,i,f){this.styles[c][i]=f},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,f){this.callSuper("initialize",i,f),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,f){this[i]!==f&&(this._fireSelectionChanged(),this[i]=f),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this.canvas.contextTop,h=this.canvas.viewportTransform;f.save(),f.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(f),this._clearTextArea(f),i||f.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),f=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,f):this.renderSelection(i,f),f.restore()}},_clearTextArea:function(i){var f=this.width+4,h=this.height+4;i.clearRect(-f/2,-h/2,f,h)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var f=this._getLeftOffset(),h=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:f,top:h,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var f,h,o,u=0,a=0,d,g=this.get2DCursorLocation(i);o=g.charIndex,h=g.lineIndex;for(var l=0;l<h;l++)u+=this.getHeightOfLine(l);f=this._getLineLeftOffset(h);var m=this.__charBounds[h][o];return m&&(a=m.left),this.charSpacing!==0&&o===this._textLines[h].length&&(a-=this._getWidthOfCharSpacing()),d={top:u,left:f+(a>0?a:0)},this.direction==="rtl"&&(d.left*=-1),this.cursorOffsetCache=d,this.cursorOffsetCache},renderCursor:function(i,f){var h=this.get2DCursorLocation(),o=h.lineIndex,u=h.charIndex>0?h.charIndex-1:0,a=this.getValueOfPropertyAt(o,u,"fontSize"),d=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/d,l=i.topOffset,m=this.getValueOfPropertyAt(o,u,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,f),f.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,u,"fill"),f.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,f.fillRect(i.left+i.leftOffset-g/2,l+i.top+m,g,a)},renderSelection:function(i,f){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(h),d=this.get2DCursorLocation(o),g=a.lineIndex,l=d.lineIndex,m=a.charIndex<0?0:a.charIndex,b=d.charIndex<0?0:d.charIndex,y=g;y<=l;y++){var S=this._getLineLeftOffset(y)||0,w=this.getHeightOfLine(y),x=0,E=0,_=0;if(y===g&&(E=this.__charBounds[g][m].left),y>=g&&y<l)_=u&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===l)if(b===0)_=this.__charBounds[l][b].left;else{var $=this._getWidthOfCharSpacing();_=this.__charBounds[l][b-1].left+this.__charBounds[l][b-1].width-$}x=w,(this.lineHeight<1||y===l&&this.lineHeight>1)&&(w/=this.lineHeight);var I=i.left+S+E,A=_-E,F=w,z=0;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",F=1,z=w):f.fillStyle=this.selectionColor,this.direction==="rtl"&&(I=this.width-I-A),f.fillRect(I,i.top+i.topOffset+z,A,F),i.topOffset+=x}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),f=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:f}}}),t.IText.fromObject=function(i,f){var h=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:h});if(c(o),o.styles)for(var u in o.styles)for(var a in o.styles[u])c(o.styles[u][a]);t.Object._fromObject("IText",o,f,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var f=i.canvas;f&&(f._hasITextHandlers||(f._hasITextHandlers=!0,i._initCanvasHandlers(f)),f._iTextInstances=f._iTextInstances||[],f._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var f=i.canvas;f&&(f._iTextInstances=f._iTextInstances||[],t.util.removeFromArray(f._iTextInstances,i),f._iTextInstances.length===0&&(f._hasITextHandlers=!1,i._removeCanvasHandlers(f)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(f){f.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,f,h,o){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",f,{duration:h,onComplete:function(){u.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var f=this,h=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){f._tick()},h)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,f=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&f&&f.clearContext(f.contextTop||f.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var f=0,h=i-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)f++,h--;for(;/\S/.test(this._text[h])&&h>-1;)f++,h--;return i-f},findWordBoundaryRight:function(i){var f=0,h=i;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)f++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)f++,h++;return i+f},findLineBoundaryLeft:function(i){for(var f=0,h=i-1;!/\n/.test(this._text[h])&&h>-1;)f++,h--;return i-f},findLineBoundaryRight:function(i){for(var f=0,h=i;!/\n/.test(this._text[h])&&h<this._text.length;)f++,h++;return i+f},searchWordBoundary:function(i,f){for(var h=this._text,o=this._reSpace.test(h[i])?i-1:i,u=h[o],a=t.reNonWord;!a.test(u)&&o>0&&o<h.length;)o+=f,u=h[o];return a.test(u)&&(o+=f===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var f=this.searchWordBoundary(i,-1),h=this.searchWordBoundary(i,1);this.selectionStart=f,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var f=this.findLineBoundaryLeft(i),h=this.findLineBoundaryRight(i);return this.selectionStart=f,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(f){f.selected=!1,f.isEditing&&f.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var f=this.getSelectionStartFromPointer(i.e),h=this.selectionStart,o=this.selectionEnd;(f!==this.__selectionStartOnMouseDown||h===o)&&(h===f||o===f)||(f>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=f):(this.selectionStart=f,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,f,h){var o=h.slice(0,i),u=t.util.string.graphemeSplit(o).length;if(i===f)return{selectionStart:u,selectionEnd:u};var a=h.slice(i,f),d=t.util.string.graphemeSplit(a).length;return{selectionStart:u,selectionEnd:u+d}},fromGraphemeToStringSelection:function(i,f,h){var o=h.slice(0,i),u=o.join("").length;if(i===f)return{selectionStart:u,selectionEnd:u};var a=h.slice(i,f),d=a.join("").length;return{selectionStart:u,selectionEnd:u+d}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,f=this._getCursorBoundaries(i),h=this.get2DCursorLocation(i),o=h.lineIndex,u=h.charIndex,a=this.getValueOfPropertyAt(o,u,"fontSize")*this.lineHeight,d=f.leftOffset,g=this.calcTransformMatrix(),l={x:f.left+d,y:f.top+f.topOffset+a},m=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,y=b.width/m,S=b.height/m,w=y-a,x=S-a,E=b.clientWidth/y,_=b.clientHeight/S;return l=t.util.transformPoint(l,g),l=t.util.transformPoint(l,this.canvas.viewportTransform),l.x*=E,l.y*=_,l.x<0&&(l.x=0),l.x>w&&(l.x=w),l.y<0&&(l.y=0),l.y>x&&(l.y=x),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,f=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,f){var h=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(f,!0),u=h.lineIndex,a=h.charIndex,d=o.lineIndex,g=o.charIndex,l,m;if(u!==d){if(this.styles[u])for(l=a;l<this._unwrappedTextLines[u].length;l++)delete this.styles[u][l];if(this.styles[d])for(l=g;l<this._unwrappedTextLines[d].length;l++)m=this.styles[d][l],m&&(this.styles[u]||(this.styles[u]={}),this.styles[u][a+l-g]=m);for(l=u+1;l<=d;l++)delete this.styles[l];this.shiftLineStyles(d,u-d)}else if(this.styles[u]){m=this.styles[u];var b=g-a,y,S;for(l=a;l<g;l++)delete m[l];for(S in this.styles[u])y=parseInt(S,10),y>=g&&(m[y-b]=m[S],delete m[S])}},shiftLineStyles:function(i,f){var h=c(this.styles);for(var o in this.styles){var u=parseInt(o,10);u>i&&(this.styles[u+f]=h[u],h[u-f]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,f,h,o){var u,a={},d=!1,g=this._unwrappedTextLines[i].length===f;h||(h=1),this.shiftLineStyles(i,h),this.styles[i]&&(u=this.styles[i][f===0?f:f-1]);for(var l in this.styles[i]){var m=parseInt(l,10);m>=f&&(d=!0,a[m-f]=this.styles[i][l],g&&f===0||delete this.styles[i][l])}var b=!1;for(d&&!g&&(this.styles[i+h]=a,b=!0),b&&h--;h>0;)o&&o[h-1]?this.styles[i+h]={0:c(o[h-1])}:u?this.styles[i+h]={0:c(u)}:delete this.styles[i+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(i,f,h,o){this.styles||(this.styles={});var u=this.styles[i],a=u?c(u):{};h||(h=1);for(var d in a){var g=parseInt(d,10);g>=f&&(u[g+h]=a[g],a[g-h]||delete u[g])}if(this._forceClearCache=!0,o){for(;h--;)Object.keys(o[h]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][f+h]=c(o[h]));return}if(u)for(var l=u[f?f-1:1];l&&h--;)this.styles[i][f+h]=c(l)},insertNewStyleBlock:function(i,f,h){for(var o=this.get2DCursorLocation(f,!0),u=[0],a=0,d=0;d<i.length;d++)i[d]===`
`?(a++,u[a]=0):u[a]++;u[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,u[0],h),h=h&&h.slice(u[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+u[0],a);for(var d=1;d<a;d++)u[d]>0?this.insertCharStyleObject(o.lineIndex+d,0,u[d],h):h&&this.styles[o.lineIndex+d]&&h[0]&&(this.styles[o.lineIndex+d][0]=h[0]),h=h&&h.slice(u[d]+1);u[d]>0&&this.insertCharStyleObject(o.lineIndex+d,0,u[d],h)},setSelectionStartEndWithShift:function(i,f,h){h<=i?(f===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=h):h>i&&h<f?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(f===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=h)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),f=this.selectionStart,h=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(f,h,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),f=0,h=0,o=0,u=0,a=0,d,g,l=0,m=this._textLines.length;l<m&&o<=i.y;l++)o+=this.getHeightOfLine(l)*this.scaleY,a=l,l>0&&(u+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));d=this._getLineLeftOffset(a),h=d*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+h);for(var b=0,y=g.length;b<y&&(f=h,h+=this.__charBounds[a][b].kernedWidth*this.scaleX,h<=i.x);b++)u++;return this._getNewSelectionStartFromOffset(i,f,h,u,y)},_getNewSelectionStartFromOffset:function(c,i,f,h,o){var u=c.x-i,a=f-c.x,d=a>u||a<0?0:1,g=h+d;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var f=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,o=f.length,u,a,d=o-h,g=this.selectionStart,l=this.selectionEnd,m=g!==l,b,y,S;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),x=g>w.selectionStart;m?(u=this._text.slice(g,l),d+=l-g):o<h&&(x?u=this._text.slice(l+d,l):u=this._text.slice(g,g-d)),a=f.slice(w.selectionEnd-d,w.selectionEnd),u&&u.length&&(a.length&&(b=this.getSelectionStyles(g,g+1,!1),b=a.map(function(){return b[0]})),m?(y=g,S=l):x?(y=l-u.length,S=l):(y=l,S=l+u.length),this.removeStyleFromTo(y,S)),a.length&&(i&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(b=t.copiedTextStyle),this.insertNewStyleBlock(a,g,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,i){var f=this._getLineLeftOffset(c),h;return i>0&&(h=this.__charBounds[c][i-1],f+=h.left+h.width),f},getDownCursorOffset:function(c,i){var f=this._getSelectionForOffset(c,i),h=this.get2DCursorLocation(f),o=h.lineIndex;if(o===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-f;var u=h.charIndex,a=this._getWidthBeforeCursor(o,u),d=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(u);return g.length+d+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var f=this._getSelectionForOffset(c,i),h=this.get2DCursorLocation(f),o=h.lineIndex;if(o===0||c.metaKey||c.keyCode===33)return-f;var u=h.charIndex,a=this._getWidthBeforeCursor(o,u),d=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,u),l=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+d-g.length+(1-l)},_getIndexOnLine:function(c,i){for(var f=this._textLines[c],h=this._getLineLeftOffset(c),o=h,u=0,a,d,g=0,l=f.length;g<l;g++)if(a=this.__charBounds[c][g].width,o+=a,o>i){d=!0;var m=o-a,b=o,y=Math.abs(m-i),S=Math.abs(b-i);u=S<y?g:g-1;break}return d||(u=f.length-1),u},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var f="get"+c+"CursorOffset",h=this[f](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,f){var h;if(c.altKey)h=this["findWordBoundary"+f](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)h=this["findLineBoundary"+f](this[i]);else return this[i]+=f==="Left"?-1:1,!0;if(typeof h<"u"&&this[i]!==h)return this[i]=h,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var f="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?f+="Shift":f+="outShift",this[f](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,f,h){typeof h>"u"&&(h=f),h>f&&this.removeStyleFromTo(f,h);var o=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(o,f,i),this._text=[].concat(this._text.slice(0,f),o,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var f=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(f.textTop,f.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(f){var h=!0,o=this.getSvgTextDecoration(this);return[f.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",f.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(f,h){var o=[],u=[],a=f,d;this._setSVGBg(u);for(var g=0,l=this._textLines.length;g<l;g++)d=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(u,g,h+d,a),this._setSVGTextLineText(o,g,h+d,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:u}},_createTextCharSpan:function(f,h,o,u){var a=f!==f.trim()||f.match(i),d=this.getSvgSpanStyles(h,a),g=d?'style="'+d+'"':"",l=h.deltaY,m="",b=t.Object.NUM_FRACTION_DIGITS;return l&&(m=' dy="'+c(l,b)+'" '),['<tspan x="',c(o,b),'" y="',c(u,b),'" ',m,g,">",t.util.string.escapeXml(f),"</tspan>"].join("")},_setSVGTextLineText:function(f,h,o,u){var a=this.getHeightOfLine(h),d=this.textAlign.indexOf("justify")!==-1,g,l,m="",b,y,S=0,w=this._textLines[h],x;u+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,_=w.length-1;E<=_;E++)x=E===_||this.charSpacing,m+=w[E],b=this.__charBounds[h][E],S===0?(o+=b.kernedWidth-b.width,S+=b.width):S+=b.kernedWidth,d&&!x&&this._reSpaceAndTab.test(w[E])&&(x=!0),x||(g=g||this.getCompleteStyleDeclaration(h,E),l=this.getCompleteStyleDeclaration(h,E+1),x=t.util.hasStyleChanged(g,l,!0)),x&&(y=this._getStyleDeclaration(h,E)||{},f.push(this._createTextCharSpan(m,y,o,u)),m="",g=l,o+=S,S=0)},_pushTextBgRect:function(f,h,o,u,a,d){var g=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(h),' x="',c(o,g),'" y="',c(u,g),'" width="',c(a,g),'" height="',c(d,g),`"></rect>
`)},_setSVGTextLineBg:function(f,h,o,u){for(var a=this._textLines[h],d=this.getHeightOfLine(h)/this.lineHeight,g=0,l=0,m,b,y=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),S=0,w=a.length;S<w;S++)m=this.__charBounds[h][S],b=this.getValueOfPropertyAt(h,S,"textBackgroundColor"),b!==y?(y&&this._pushTextBgRect(f,y,o+l,u,g,d),l=m.left,g=m.width,y=b):g+=m.kernedWidth;b&&this._pushTextBgRect(f,b,o+l,u,g,d)},_getFillAttributes:function(f){var h=f&&typeof f=="string"?new t.Color(f):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+f+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(f){for(var h=0,o=0,u=0;u<f;u++)h+=this.getHeightOfLine(u);return o=this.getHeightOfLine(u),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(f){var h=t.Object.prototype.getSvgStyles.call(this,f);return h+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(f){for(var h=0,o=0,u=0,a={},d=0;d<f.graphemeLines.length;d++)f.graphemeText[u]===`
`&&d>0?(o=0,u++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[u])&&d>0&&(o++,u++),a[d]={line:h,offset:o},u+=f.graphemeLines[d].length,o+=f.graphemeLines[d].length;return a},styleHas:function(f,h){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];o&&(h=o.line)}return i.Text.prototype.styleHas.call(this,f,h)},isEmptyStyles:function(f){if(!this.styles)return!0;var h=0,o=f+1,u,a,d=!1,g=this._styleMap[f],l=this._styleMap[f+1];g&&(f=g.line,h=g.offset),l&&(o=l.line,d=o===f,u=l.offset),a=typeof f>"u"?this.styles:{line:this.styles[f]};for(var m in a)for(var b in a[m])if(b>=h&&(!d||b<u))for(var y in a[m][b])return!1;return!0},_getStyleDeclaration:function(f,h){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];if(!o)return null;f=o.line,h=o.offset+h}return this.callSuper("_getStyleDeclaration",f,h)},_setStyleDeclaration:function(f,h,o){var u=this._styleMap[f];f=u.line,h=u.offset+h,this.styles[f][h]=o},_deleteStyleDeclaration:function(f,h){var o=this._styleMap[f];f=o.line,h=o.offset+h,delete this.styles[f][h]},_getLineStyle:function(f){var h=this._styleMap[f];return!!this.styles[h.line]},_setLineStyle:function(f){var h=this._styleMap[f];this.styles[h.line]={}},_wrapText:function(f,h){var o=[],u;for(this.isWrapping=!0,u=0;u<f.length;u++)o=o.concat(this._wrapLine(f[u],u,h));return this.isWrapping=!1,o},_measureWord:function(f,h,o){var u=0,a,d=!0;o=o||0;for(var g=0,l=f.length;g<l;g++){var m=this._getGraphemeBox(f[g],h,g+o,a,d);u+=m.kernedWidth,a=f[g]}return u},_wrapLine:function(f,h,o,I){var a=0,d=this.splitByGrapheme,g=[],l=[],m=d?i.util.string.graphemeSplit(f):f.split(this._wordJoiners),b="",y=0,S=d?"":" ",w=0,x=0,E=0,_=!0,$=this._getWidthOfCharSpacing(),I=I||0;m.length===0&&m.push([]),o-=I;for(var A=0;A<m.length;A++)b=d?m[A]:i.util.string.graphemeSplit(m[A]),w=this._measureWord(b,h,y),y+=b.length,a+=x+w-$,a>o&&!_?(g.push(l),l=[],a=w,_=!0):a+=$,!_&&!d&&l.push(S),l=l.concat(b),x=d?0:this._measureWord([S],h,y),y++,_=!1,w>E&&(E=w);return A&&g.push(l),E+I>this.dynamicMinWidth&&(this.dynamicMinWidth=E-$+I),g},isEndOfWrapping:function(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line},missingNewlineOffset:function(f){return this.splitByGrapheme?this.isEndOfWrapping(f)?1:0:1},_splitTextIntoLines:function(f){for(var h=i.Text.prototype._splitTextIntoLines.call(this,f),o=this._wrapText(h.lines,this.width),u=new Array(o.length),a=0;a<o.length;a++)u[a]=o[a].join("");return h.lines=u,h.graphemeLines=o,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var f={};for(var h in this._styleMap)this._textLines[h]&&(f[this._styleMap[h].line]=1);for(var h in this.styles)f[h]||delete this.styles[h]},toObject:function(f){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(f))}}),i.Textbox.fromObject=function(f,h){var o=i.util.stylesFromArray(f.styles,f.text),u=Object.assign({},f,{styles:o});return i.Object._fromObject("Textbox",u,h,"text")}}(e),function(){var c=t.controlsUtils,i=c.scaleSkewCursorStyleHandler,f=c.scaleCursorStyleHandler,h=c.scalingEqually,o=c.scalingYOrSkewingX,u=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,d=t.Object.prototype.controls;if(d.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:a}),d.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:a}),d.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),d.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),d.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),d.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),d.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:h}),d.br=new t.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:h}),d.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=d.mtr,g.tr=d.tr,g.br=d.br,g.tl=d.tl,g.bl=d.bl,g.mt=d.mt,g.mb=d.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(mt);var al={exports:{}},Kr=typeof Reflect=="object"?Reflect:null,uu=Kr&&typeof Kr.apply=="function"?Kr.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},so;Kr&&typeof Kr.ownKeys=="function"?so=Kr.ownKeys:Object.getOwnPropertySymbols?so=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:so=function(t){return Object.getOwnPropertyNames(t)};function o3(e){console&&console.warn&&console.warn(e)}var xh=Number.isNaN||function(t){return t!==t};function xt(){xt.init.call(this)}al.exports=xt;al.exports.once=c3;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var du=10;function Go(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return du},set:function(e){if(typeof e!="number"||e<0||xh(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");du=e}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||xh(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Eh(e){return e._maxListeners===void 0?xt.defaultMaxListeners:e._maxListeners}xt.prototype.getMaxListeners=function(){return Eh(this)};xt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",v=this._events;if(v!==void 0)s=s&&v.error===void 0;else if(!s)return!1;if(s){var C;if(n.length>0&&(C=n[0]),C instanceof Error)throw C;var c=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw c.context=C,c}var i=v[t];if(i===void 0)return!1;if(typeof i=="function")uu(i,this,n);else for(var f=i.length,h=Ph(i,f),r=0;r<f;++r)uu(h[r],this,n);return!0};function _h(e,t,n,r){var s,v,C;if(Go(n),v=e._events,v===void 0?(v=e._events=Object.create(null),e._eventsCount=0):(v.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),v=e._events),C=v[t]),C===void 0)C=v[t]=n,++e._eventsCount;else if(typeof C=="function"?C=v[t]=r?[n,C]:[C,n]:r?C.unshift(n):C.push(n),s=Eh(e),s>0&&C.length>s&&!C.warned){C.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=C.length,o3(c)}return e}xt.prototype.addListener=function(t,n){return _h(this,t,n,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(t,n){return _h(this,t,n,!0)};function a3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Oh(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=a3.bind(r);return s.listener=n,r.wrapFn=s,s}xt.prototype.once=function(t,n){return Go(n),this.on(t,Oh(this,t,n)),this};xt.prototype.prependOnceListener=function(t,n){return Go(n),this.prependListener(t,Oh(this,t,n)),this};xt.prototype.removeListener=function(t,n){var r,s,v,C,c;if(Go(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(v=-1,C=r.length-1;C>=0;C--)if(r[C]===n||r[C].listener===n){c=r[C].listener,v=C;break}if(v<0)return this;v===0?r.shift():s3(r,v),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,c||n)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var v=Object.keys(r),C;for(s=0;s<v.length;++s)C=v[s],C!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function $h(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?l3(s):Ph(s,s.length)}xt.prototype.listeners=function(t){return $h(this,t,!0)};xt.prototype.rawListeners=function(t){return $h(this,t,!1)};xt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Th.call(e,t)};xt.prototype.listenerCount=Th;function Th(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?so(this._events):[]};function Ph(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function s3(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function l3(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function c3(e,t){return new Promise(function(n,r){function s(C){e.removeListener(t,v),r(C)}function v(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}Ih(e,t,v,{once:!0}),t!=="error"&&u3(e,s,{once:!0})})}function u3(e,t,n){typeof e.on=="function"&&Ih(e,"error",t,n)}function Ih(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(v){r.once&&e.removeEventListener(t,s),n(v)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var d3=al.exports;const Le=new d3.EventEmitter,Bt={"button-controller":"_button-controller_rq6g2_1","button-item":"_button-item_rq6g2_9","disable-button-item":"_disable-button-item_rq6g2_28","export-item":"_export-item_rq6g2_35"},f3=p.memo(function(t){const n=ln(d=>d.active),r=p.useRef(""),[s,v]=p.useState(!1),C=p.useCallback(()=>{r.current!=="PencilBrush"&&v(!0)},[]),c=p.useCallback(()=>{v(!1)},[]),i=p.useCallback(()=>{v(!1),t.clearEvent()},[]),f=p.useCallback(()=>{Le.emit("exportFile","svg")},[]),h=p.useCallback(()=>{Le.emit("exportFile","png")},[]),o=p.useCallback(()=>{Le.emit("exportFile","jpg")},[]),u=p.useCallback(()=>{Le.emit("exportFile","json")},[]);p.useEffect(()=>{r.current=n},[n]);const a=p.useMemo(()=>/.*Brush/,[]);return U.jsxs("div",{className:Bt["button-controller"],children:[U.jsx(dt,{placement:"top",title:"缩小",children:U.jsx("div",{onClick:t.scaleDownEvent,className:`${Bt["scale-button"]} ${Bt["button-item"]}`,children:U.jsx("i",{className:"iconfont i_scale_down"})})}),U.jsx(dt,{placement:"top",title:"放大",children:U.jsx("div",{onClick:t.scaleUpEvent,className:`${Bt["scale-button"]} ${Bt["button-item"]}`,children:U.jsx("i",{className:"iconfont i_scale_up"})})}),U.jsx(dt,{placement:"top",title:"定位画布",children:U.jsx("div",{onClick:t.scaleInitEvent,className:`${Bt["button-item"]}`,children:U.jsx("i",{className:"iconfont i_init"})})}),U.jsx(dt,{placement:"top",title:"清空画布",children:U.jsx("div",{onClick:C,className:`${Bt["button-item"]} ${a.test(n)?Bt["disable-button-item"]:""}`,children:U.jsx("i",{className:"iconfont i_clear"})})}),U.jsx(dt,{placement:"top",title:"导出 PNG",children:U.jsx("div",{onClick:h,className:`${Bt["button-item"]} ${Bt["export-item"]} ${a.test(n)?Bt["disable-button-item"]:""}`,children:U.jsx("i",{className:"iconfont i_png"})})}),U.jsx(dt,{placement:"top",title:"导出 JPG",children:U.jsx("div",{onClick:o,className:`${Bt["button-item"]} ${Bt["export-item"]} ${a.test(n)?Bt["disable-button-item"]:""}`,children:U.jsx("i",{className:"iconfont i_jpg"})})}),U.jsx(dt,{placement:"top",title:"导出 SVG",children:U.jsx("div",{onClick:f,className:`${Bt["button-item"]} ${Bt["export-item"]} ${a.test(n)?Bt["disable-button-item"]:""}`,children:U.jsx("i",{className:"iconfont i_svg"})})}),U.jsx(dt,{placement:"top",title:"导出 JSON",children:U.jsx("div",{onClick:u,className:`${Bt["button-item"]} ${Bt["export-item"]} ${a.test(n)?Bt["disable-button-item"]:""}`,children:U.jsx("i",{className:"iconfont i_json"})})}),U.jsx(mn,{title:"提示",centered:!0,open:s,onCancel:c,onOk:i,okText:"确定",cancelText:"取消",children:U.jsx("span",{children:"是否确定清空画布?"})})]})});function h3(e,t){p.useEffect(()=>{const n=r=>{r.button===0&&(!e.current||!e.current.contains(r.target))&&t(r)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t])}const fu={"context-menu":"_context-menu_135kn_1","menu-item":"_menu-item_135kn_9"},g3=p.memo(p.forwardRef(function(t,n){const[r,s]=p.useState(!1),[v,C]=p.useState(0),[c,i]=p.useState(0),f=p.useRef(null);return p.useImperativeHandle(n,()=>({hide:()=>s(!1),show:(h,o)=>{s(!0),C(h),i(o)}})),h3(f,()=>{s(!1)}),r?U.jsx("div",{ref:f,style:{left:v+"px",top:c+"px"},className:fu["context-menu"],children:t.menuData?t.menuData.map((h,o)=>h.title?U.jsxs("div",{onClick:()=>t.menuClick(h.title),className:fu["menu-item"],children:[h.prefix?h.prefix:U.jsx(U.Fragment,{}),U.jsx("span",{children:h.title}),h.suffix?h.suffix:U.jsx(U.Fragment,{})]},h.title):U.jsx("div",{children:h},o)):U.jsx(U.Fragment,{})}):U.jsx(U.Fragment,{})}));function Qr(e){return{type:s0,payload:e}}function m3(e){return{type:u0,payload:e}}function Un(e){return{type:l0,payload:e}}function bi(e){return{type:c0,payload:e}}function v3(e){return{type:d0,payload:e}}function p3(e){return{type:h0,payload:e}}function b3(){return{type:g0,payload:null}}function C3(){return{type:m0,payload:null}}function Rh(){return{type:f0,payload:null}}function hu(e){return{type:p0,payload:e}}function gu(){return{type:b0,payload:null}}function y3(){return{type:C0,payload:null}}function Mh(){return{type:v0,payload:null}}function S3(){const[e,t]=p.useState(0),n=cn();return{scaleDownEvent:C=>{const c=e-.2>.1?e-.2:.1;t(c),C.zoomToPoint({x:C.width/2,y:C.height/2},c)},scaleUpEvent:C=>{const c=e+.2<8?e+.2:8;t(c),C.zoomToPoint({x:C.width/2,y:C.height/2},c)},zoom:e,setZoom:t,clearEvent:()=>{for(const[,C]of window.elementMap)window._instance.remove(C);n(Qr("")),n(m3([])),n(Rh()),n(Mh()),window.elementMap.clear(),window._instance.renderAll()}}}const or={"custom-menu-container":"_custom-menu-container_nwlbd_1","custom-menu-item":"_custom-menu-item_nwlbd_7"},w3=p.memo(function(t){const n=h=>()=>t.clickEvent(h),r=p.useCallback(n("align-left"),[]),s=p.useCallback(n("align-center"),[]),v=p.useCallback(n("align-right"),[]),C=p.useCallback(n("align-justify"),[]),c=p.useCallback(n("align-top"),[]),i=p.useCallback(n("align-vertically"),[]),f=p.useCallback(n("align-bottom"),[]);return U.jsxs("div",{className:or["custom-menu-container"],children:[U.jsx(dt,{placement:"top",title:"水平居左",children:U.jsx("div",{onClick:r,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-left"})})}),U.jsx(dt,{placement:"top",title:"水平居中",children:U.jsx("div",{onClick:s,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-center"})})}),U.jsx(dt,{placement:"top",title:"水平居右",children:U.jsx("div",{onClick:v,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-right"})})}),U.jsx(dt,{placement:"top",title:"垂直水平居中",children:U.jsx("div",{onClick:C,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-justify"})})}),U.jsx(dt,{placement:"top",title:"垂直居上",children:U.jsx("div",{onClick:c,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-top"})})}),U.jsx(dt,{placement:"top",title:"垂直居中",children:U.jsx("div",{onClick:i,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-vertically"})})}),U.jsx(dt,{placement:"top",title:"垂直居下",children:U.jsx("div",{onClick:f,className:or["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_align-bottom"})})})]})}),hi={"custom-menu-container":"_custom-menu-container_1me2y_1","custom-menu-item":"_custom-menu-item_1me2y_7"},x3=p.memo(function(t){const n=c=>()=>t.clickEvent(c),r=p.useCallback(n("top"),[]),s=p.useCallback(n("bottom"),[]),v=p.useCallback(n("one-top"),[]),C=p.useCallback(n("one-bottom"),[]);return U.jsxs("div",{className:hi["custom-menu-container"],children:[U.jsx(dt,{placement:"top",title:"移动到顶层",children:U.jsx("div",{onClick:r,className:hi["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_top"})})}),U.jsx(dt,{placement:"top",title:"移动到底层",children:U.jsx("div",{onClick:s,className:hi["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_down"})})}),U.jsx(dt,{placement:"top",title:"上移一层",children:U.jsx("div",{onClick:v,className:hi["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_to_top"})})}),U.jsx(dt,{placement:"top",title:"下移一层",children:U.jsx("div",{onClick:C,className:hi["custom-menu-item"],children:U.jsx("i",{className:"iconfont i_to_down"})})})]})}),Es="abacdefghjklmnopqrstuvwxyzABCDEFGHJKLMNOPQRSTUVWXYZ0123456789";function Lh(e,t,n){let r=Math.floor(Math.random()*(t-e+1)+e);const s=Es.length-10;return n==0&&r>=s&&(r=Lh(e,t,n)),r}function mr(e){const n=Es.length-1;let r="";e=e||15;for(let s=0,v;s<e;s++)v=Lh(0,n,s),r+=Es[v];return r}const E3="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Ebene_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='595.275px' height='595.275px' viewBox='200 215 230 470' xml:space='preserve'%3E%3Ccircle style='fill:%23F44336;' cx='299.76' cy='439.067' r='218.516'/%3E%3Cg%3E%3Crect x='267.162' y='307.978' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -222.6202 340.6915)' style='fill:white;' width='65.545' height='262.18'/%3E%3Crect x='266.988' y='308.153' transform='matrix(0.7071 0.7071 -0.7071 0.7071 398.3889 -83.3116)' style='fill:white;' width='65.544' height='262.179'/%3E%3C/g%3E%3C/svg%3E",Ah=document.createElement("img");Ah.src=E3;function _3(e,t){const n=t.target;Le.emit("deleteElement",n._data.id)}function O3(e,t,n,r,s){const v=this.cornerSize;e.save(),e.translate(t,n),e.rotate(mt.fabric.util.degreesToRadians(s.angle)),e.drawImage(Ah,-v/2,-v/2,v,v),e.restore()}const Ar={originX:"center",originY:"center",transparentCorners:!1,hasControls:!0,hasBorders:!0,visible:!0,cornerStyle:"circle",cornerSize:15,borderColor:"#1677ff",cornerColor:"#1677ff",cornerStrokeColor:"#fff"},_s=Ar;function Nh(e){return function(t){return function(){return mt.fabric.util.object.extend(t.call(this),{_data:this._data})}}(e)}function jn(e){e.controls.deleteControl=new mt.fabric.Control({x:0,y:.6,offsetY:10,cursorStyle:"pointer",mouseUpHandler:_3,render:O3,cornerSize:18}),e.toObject=Nh(e.toObject),e.on("selected",function(t){Le.emit("setActiveElement",t.target._data.id)}),e.on("deselected",function(){Le.emit("setActiveElement","")}),e.on("modified",function(t){t.target&&Le.emit("modifiedElement",t.target.toObject())})}function $3(e={}){const t=new mt.fabric.Textbox("Lorum ipsum dolor sit amet",{left:100,top:100,width:150,height:50,angle:0,fill:"rgba(255,0,0,0.5)",fontSize:20,backgroundColor:"rgba(0,0,0,0)",textAlign:"justify-right",linethrough:!0,fontStyle:"normal",selectable:!0,...Ar,_data:{id:mr(10),type:"text"},...e});return jn(t),t}function T3(e={}){const t=new mt.fabric.Rect({top:100,left:100,width:100,height:70,fill:"#1677ff",opacity:1,...Ar,_data:{id:mr(10),type:"rect"},...e});return jn(t),t}function P3(e={}){const t=new mt.fabric.Circle({top:100,left:100,radius:50,fill:"#1677ff",...Ar,_data:{id:mr(10),type:"circle"},...e});return jn(t),t}function I3(e={}){const t=new mt.fabric.Triangle({top:100,left:100,width:100,height:70,fill:"#1677ff",...Ar,_data:{id:mr(10),type:"triangle"},...e});return jn(t),t}function Dh(e,t,n={}){mt.fabric.loadSVGFromString(e.svg,(r,s)=>{const v=mt.fabric.util.groupSVGElements(r,s);v.set({top:50,left:50,scaleX:e.shape.viewBox[0]>1e3?100/e.shape.viewBox[0]:.5,scaleY:e.shape.viewBox[1]>1e3?100/e.shape.viewBox[1]:.5,strokeWidth:e.shape.viewBox[1]>1e3?50:10,stroke:"#000",...Ar,_data:{id:mr(10),type:"shape"},...n}),jn(v),t(v)})}function jh(e,t){mt.fabric.Image.fromURL(e.dataUrl,function(n){n.set({top:50,left:100,scaleX:150/e.width,scaleY:150/e.height,...Ar,_data:{id:mr(10),type:"image"}}),jn(n),t(n)})}const R3=Object.freeze(Object.defineProperty({__proto__:null,_toObject:Nh,createCircleElement:P3,createImageElement:jh,createRectElement:T3,createShapeElement:Dh,createTextElement:$3,createTriangleElement:I3,elementOptions:_s,initElementProperty:jn},Symbol.toStringTag,{value:"Module"}));function M3(){const e=cn(),t=p.useRef(0),n=p.useRef(0),r=p.useRef(null),s=p.useMemo(()=>({paddingRight:"10px"}),[]),v=p.useCallback(d=>{var l;const g=d==="top"?"bringToFront":d==="bottom"?"sendToBack":d==="one-top"?"bringForward":"sendBackwards";Le.emit("updateElementLayout",{type:g,active:r.current._data.id}),(l=c.current)==null||l.hide()},[]),C=p.useCallback(d=>{var g;r.current&&(Le.emit("updateElementPosition",{position:d,active:r.current._data.id}),(g=c.current)==null||g.hide())},[]),c=p.useRef(null),i=p.useMemo(()=>[U.jsx(x3,{clickEvent:v}),{title:"复制",prefix:U.jsx("i",{style:s,className:"iconfont i_copy"})},{title:"锁定",prefix:U.jsx("i",{style:s,className:"iconfont i_lock"})},{title:"解锁",prefix:U.jsx("i",{style:s,className:"iconfont i_unlock"})},{title:"删除",prefix:U.jsx("i",{style:s,className:"iconfont i_delete"})},U.jsx(w3,{clickEvent:C})],[]),f=p.useRef(null),h=d=>{r.current&&r.current.clone(function(g){const l=mr(10);g.set({left:g.left+10,top:g.top+10,_data:{type:g._data.type,id:l},originX:"center",originY:"center",transparentCorners:!1,hasControls:!0,hasBorders:!0,visible:!0,cornerStyle:"circle",cornerSize:15,borderColor:"#1677ff",cornerColor:"#1677ff",cornerStrokeColor:"#fff"}),f.current=g,jn(f.current),d.add(f.current),d.setActiveObject(f.current),e(bi(f.current.toObject())),e(Qr(l)),f.current=null})},o=(d,g)=>{r.current&&(r.current.set({selectable:d}),e(Qr("")),g.discardActiveObject(),g.renderAll())},u=()=>{r.current&&Le.emit("deleteElement",r.current._data.id)},a=p.useCallback((d,g)=>{d==="复制"?h(g):d==="锁定"?o(!1,g):d==="解锁"?o(!0,g):d==="删除"&&u(),console.log(d),c.current.hide()},[]);return{contextMenuRef:c,contextMenuData:i,menuClick:a,elementInfo:r,offsetX:t,offsetY:n}}const Na=30;function Da(){window.elementMap.clear();for(const e of window._instance.getObjects())e._data&&window.elementMap.set(e._data.id,e)}function Fh(){const e=ln(C=>C.undoStack),t=ln(C=>C.redoStack),n=cn(),r=()=>{const C=window._instance.toObject();e.length===Na&&n(gu()),n(hu(C)),Da()},s=()=>{if(!e.length||!window._instance)return;const C=e[e.length-1];if(n(y3()),t.length===Na&&n(b3()),n(p3(C)),e.length===0)window._instance.forEachObject(function(c){c._data&&window._instance.remove(c)});else{const c=JSON.parse(JSON.stringify(e[e.length-1])).objects.filter(i=>i._data);window._instance.sendToBack(window.sketch),c.unshift(window.sketch.toObject()),e[e.length-1].objects=c,window._instance.loadFromJSON(e[e.length-1]).renderAll();for(const i of window._instance.getObjects())i._data?(i.set({..._s}),jn(i)):i.set({selectable:!1,hasControls:!1,hoverCursor:"default"})}Da()},v=()=>{if(!t.length||!window._instance)return;window.elementMap.clear();const C=t[t.length-1],c=C.objects.filter(i=>i._data);window._instance.sendToBack(window.sketch),c.unshift(window.sketch.toObject()),C.objects=c,n(C3()),e.length===Na&&n(gu()),n(hu(C)),window._instance.loadFromJSON(C).renderAll();for(const i of window._instance.getObjects())i._data?(i.set({..._s}),jn(i)):i.set({selectable:!1,hasControls:!1,hoverCursor:"default"});Da()};return p.useEffect(()=>{},[t,e]),{saveOperation:r,getPrevOperation:s,getNextOperation:v,undoStack:e,redoStack:t}}function L3(e){var t=e.getSelectionContext(),n=5,r=4,s=1,v="#1677ff",C,c=1;function i(d){h(d.x+.5,d.y1>d.y2?d.y2:d.y1,d.x+.5,d.y2>d.y1?d.y2:d.y1)}function f(d){h(d.x1>d.x2?d.x2:d.x1,d.y+.5,d.x2>d.x1?d.x2:d.x1,d.y+.5)}function h(d,g,l,m){t.save(),t.lineWidth=s,t.strokeStyle=v,t.beginPath(),t.moveTo((d+C[4])*c,(g+C[5])*c),t.lineTo((l+C[4])*c,(m+C[5])*c),t.stroke(),t.restore()}function o(d,g){d=Math.round(d),g=Math.round(g);for(var l=d-r,m=d+r;l<=m;l++)if(l===g)return!0;return!1}var u=[],a=[];e.on("mouse:down",function(){C=e.viewportTransform,c=e.getZoom()}),e.on("object:moving",function(d){var g=d.target,l=e.getObjects(),m=g.getCenterPoint(),b=m.x,y=m.y,S=g.getBoundingRect(),w=S.height/C[3],x=S.width/C[0],E=!1,_=!1,$=e._currentTransform;if($){for(var I=l.length;I--;)if(l[I]!==g){var A=l[I].getCenterPoint(),F=A.x,z=A.y,D=l[I].getBoundingRect(),H=D.height/C[3],B=D.width/C[0];o(F,b)&&(_=!0,u.push({x:F,y1:z<y?z-H/2-n:z+H/2+n,y2:y>z?y+w/2+n:y-w/2-n}),g.setPositionByOrigin(new mt.fabric.Point(F,y),"center","center")),o(F-B/2,b-x/2)&&(_=!0,u.push({x:F-B/2,y1:z<y?z-H/2-n:z+H/2+n,y2:y>z?y+w/2+n:y-w/2-n}),g.setPositionByOrigin(new mt.fabric.Point(F-B/2+x/2,y),"center","center")),o(F+B/2,b+x/2)&&(_=!0,u.push({x:F+B/2,y1:z<y?z-H/2-n:z+H/2+n,y2:y>z?y+w/2+n:y-w/2-n}),g.setPositionByOrigin(new mt.fabric.Point(F+B/2-x/2,y),"center","center")),o(z,y)&&(E=!0,a.push({y:z,x1:F<b?F-B/2-n:F+B/2+n,x2:b>F?b+x/2+n:b-x/2-n}),g.setPositionByOrigin(new mt.fabric.Point(b,z),"center","center")),o(z-H/2,y-w/2)&&(E=!0,a.push({y:z-H/2,x1:F<b?F-B/2-n:F+B/2+n,x2:b>F?b+x/2+n:b-x/2-n}),g.setPositionByOrigin(new mt.fabric.Point(b,z-H/2+w/2),"center","center")),o(z+H/2,y+w/2)&&(E=!0,a.push({y:z+H/2,x1:F<b?F-B/2-n:F+B/2+n,x2:b>F?b+x/2+n:b-x/2-n}),g.setPositionByOrigin(new mt.fabric.Point(b,z+H/2-w/2),"center","center"))}E||(a.length=0),_||(u.length=0)}}),e.on("before:render",function(){e.contextTop&&e.clearContext(e.contextTop)}),e.on("after:render",function(){var d;for(d=u.length;d--;)i(u[d]);for(d=a.length;d--;)f(a[d]);u.length=a.length=0}),e.on("mouse:up",function(){u.length=a.length=0,e.renderAll()})}const ja=(e,t)=>{if(t.width<e.width&&t.height<=e.height)return 1;let n=1;return e.width/e.height<t.width/t.height?n=e.width/t.width:n=e.height/t.height,n=Number(n.toFixed(2)),n};function Ot(e,t=1e3){let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function A3(e,t){const{width:n,height:r}=JSON.parse(sessionStorage.getItem("canvasInfo"));e.setViewportTransform&&e.setViewportTransform([1,0,0,1,0,0]);const s=e.toDataURL&&e.toDataURL({format:"png",quality:1,width:n,height:r});e.setViewportTransform&&e.setViewportTransform(JSON.parse(sessionStorage.getItem("viewportTransform")));const v=document.createElement("a");v.href=s,v.download=Date.now()+"."+t,v.click()}function N3(e){const{width:t,height:n}=JSON.parse(sessionStorage.getItem("canvasInfo")),r=e.toSVG&&e.toSVG({width:t,height:n,viewBox:{x:0,y:0,width:t,height:n}}),s=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),v=window.URL.createObjectURL(s),C=document.createElement("a");C.href=v,C.download=Date.now()+".svg",C.click()}function D3(e){const n=e.getObjects().map(function(C){return C.toObject()}),r=JSON.stringify(n,null,2),s=URL.createObjectURL(new Blob([r],{type:"application/json"})),v=document.createElement("a");v.href=s,v.download=Date.now()+".json",v.click()}function Fa(e,t,n){const r=e.getCenter();e.zoomToPoint(new mt.fabric.Point(r.left,r.top),n-.04);const s=t.getCenterPoint(),v=e.viewportTransform;v[4]=e.width/2-s.x*v[0],v[5]=e.height/2-s.y*v[3],e.setViewportTransform(v),sessionStorage.setItem("viewportTransform",JSON.stringify(v)),e.requestRenderAll(),t.clone(C=>{e.clipPath=C,e.requestRenderAll()})}const Xn="horizontal",j3="vertical";function mu(e,t=Xn){const n={horizontal:[0,25,e,25],vertical:[25,0,25,e]},r=new mt.fabric.Rect({[t===Xn?"width":"height"]:e,[t===Xn?"height":"width"]:25,fill:"#f7f7f7",left:-1,top:-1}),s=new mt.fabric.Line(n[t],{top:23,left:23,stroke:"#ccc",selectable:!1,strokeWidth:1});window._static_instance.add(r,s);for(let v=0;v<e;v+=10){const C=v;F3(t===Xn?[C,20,C,15]:[20,C,15,C],v,t)}}function F3(e,t,n){const r=t%100===0;r&&(n===Xn?e[3]=10:e[2]=10);const s=new mt.fabric.Line(e,{left:n===Xn?e[0]:17,top:n===Xn?15:e[1],stroke:"#ccc",selectable:!1,strokeWidth:1,_attr:{scale:t,direction:n}}),v=new mt.fabric.Text(r?t.toString():"",{left:n===Xn?e[0]-7:0,top:n===Xn?2:e[1],fontSize:10,selectable:!1,color:"#ccc",_attr:{scale:t,direction:n}});window._static_instance.add(s,v)}function B3(e,t){mu(e,Xn),mu(t,j3),window.horizontalLine=new mt.fabric.Line([0,25,25,25],{stroke:"#1677ff",selectable:!1,strokeWidth:1}),window._static_instance.add(window.horizontalLine),window.verticalLine=new mt.fabric.Line([25,0,25,25],{stroke:"#1677ff",selectable:!1,strokeWidth:1}),window._static_instance.add(window.verticalLine),window._static_instance.renderAll()}function k3(e,t=100){let n=0;return function(...r){const s=+new Date;s-n>t&&(e.apply(this,r),n=s)}}const Ba={"canvas-component":"_canvas-component_p6vmc_1","canvas-main":"_canvas-main_p6vmc_7","canvas-info":"_canvas-info_p6vmc_12"};let{width:Pn,height:In}=JSON.parse(sessionStorage.getItem("canvasInfo"));window.elementMap=new Map;window.sketch=null;let ar,to="";function z3(){const{saveOperation:e}=Fh(),t=cn(),n=p.useRef(!1),r=p.useRef(),{zoom:s,setZoom:v,scaleDownEvent:C,scaleUpEvent:c,clearEvent:i}=S3(),f=p.useCallback(()=>C(r.current),[s]),h=p.useCallback(()=>c(r.current),[s]),o=p.useCallback(()=>i(),[]),u=p.useCallback(()=>{const N=ja({width:r.current.width,height:r.current.height},{width:Pn,height:In});Fa(r.current,window.sketch,N),v(N)},[]),a=N=>{r.current.remove(window.elementMap.get(N)),window.elementMap.delete(N),t(v3(N)),t(Qr("")),e()};function d(N,O,P={}){if(N==="svg")Dh(O,T=>{window.elementMap.set(T._data.id,T),t(bi(T.toObject())),r.current.add(T),r.current.setActiveObject(T)},P);else if(N==="image")jh(O,T=>{window.elementMap.set(T._data.id,T),t(bi(T.toObject())),r.current.add(T),r.current.setActiveObject(T)});else{const T=R3[`create${N}Element`](P);window.elementMap.set(T._data.id,T),t(bi(T.toObject())),r.current.add(T),r.current.setActiveObject(T)}}const g=N=>{t(Qr(N))},l=N=>{if(window.elementMap.has(N.active)){const O=window.elementMap.get(N.active);O.set({[N.key]:N.value}),N.applyFilters&&O.applyFilters(),r.current.requestRenderAll(),e()}},m=N=>{window.elementMap.has(N.active)&&(r.current[N.type](window.elementMap.get(N.active)),r.current.sendToBack(window.sketch))},b=()=>{const{width:N,height:O}=document.getElementById("canvas-component").getBoundingClientRect();r.current.setWidth(N),r.current.setHeight(O),window._static_instance.setWidth(N),window._static_instance.setHeight(O),B3(N,O),u()},y=N=>{N.code==="Space"&&!n.current&&(n.current=!0,ar.style.cursor="grab",document.removeEventListener("keypress",y))},S=N=>{N.code==="Space"&&(n.current=!1,ar.style.cursor="default",document.addEventListener("keypress",y))},w=N=>{const{position:O,active:P}=N,T=window.elementMap.get(P),M=T.getBoundingRect(),k=M.width,L=M.height;T&&(O==="align-left"?T.set({left:k/2}):O==="align-center"?T.set({left:Pn/2}):O==="align-right"?T.set({left:Pn-k/2}):O==="align-justify"?T.set({left:Pn/2,top:In/2}):O==="align-top"?T.set({top:L/2}):O==="align-vertically"?T.set({top:In/2}):O==="align-bottom"&&T.set({top:In-L/2}),r.current.renderAll())},x=N=>{const{key:O,value:P}=N;window.sketch.set({[O]:P}),O==="width"?Pn=P:O==="height"&&(In=P);const T=ja({width:r.current.width,height:r.current.height},{width:Pn,height:In});O==="width"||O==="height"?(Fa(r.current,window.sketch,T),v(T)):(console.log(O,P),r.current.renderAll()),u(),sessionStorage.setItem("canvasInfo",JSON.stringify({width:Pn,height:In}))},E=()=>{const N=ja({width:r.current.width,height:r.current.height},{width:Pn,height:In});v(N),Fa(r.current,window.sketch,N)},_=(N,O)=>{r.current.isDrawingMode=O,t(Qr(O?N:"")),to=N.toLowerCase(),O?(r.current.discardActiveObject(),r.current.freeDrawingBrush=new mt.fabric[N](r.current),r.current.freeDrawingBrush.limitedToCanvasSize=!0,r.current.renderAll()):r.current.freeDrawingBrush=null,to=O?to:""},$=N=>{r.current.freeDrawingBrush&&(r.current.freeDrawingBrush[N.key]=N.value)},I=N=>{N==="png"||N==="jpg"?A3(r.current,N):N==="svg"?N3(r.current):N==="json"&&D3(r.current)},{contextMenuRef:A,contextMenuData:F,menuClick:z,elementInfo:D,offsetX:H,offsetY:B}=M3(),j=N=>{sessionStorage.setItem("canvasInfo",JSON.stringify({width:N.width,height:N.height})),Pn=N.width,In=N.height,window._instance.set({width:Pn,height:In,color:N.color}),o(),u()};return p.useEffect(()=>{if(r.current)return;r.current=new mt.fabric.Canvas("c",{selection:!1,fireRightClick:!0,stopContextMenu:!0,fireMiddleClick:!0,transparentCorners:!1,allowTouchScrolling:!0}),window._instance=r.current,window._static_instance=new mt.fabric.StaticCanvas("staticCanvas",{selection:!1,fireRightClick:!0,stopContextMenu:!0,fireMiddleClick:!0,transparentCorners:!1,allowTouchScrolling:!0}),ar=document.getElementsByClassName("upper-canvas")[0],window.sketch=new mt.fabric.Rect({fill:"#ffffff",left:0,top:0,width:Pn,height:In,selectable:!1,hasControls:!1,hoverCursor:"default"}),r.current.add(window.sketch),E(),r.current.on("mouse:wheel",O=>{const P=O.e.deltaY;let T=r.current.getZoom();T*=.999**P,T>8?T=8:T<.1&&(T=.1),r.current.zoomToPoint({x:O.e.offsetX,y:O.e.offsetY},T),v(T)}),r.current.on("mouse:down",function(O){const P=O.e;if(O.button===1&&n.current)this.isDragging=!0,this.lastPosX=P.clientX,this.lastPosY=P.clientY,ar.style.cursor="grabbing";else if(O.button===3){if(!O.target||!O.target._data)return;A.current.show(P.clientX,P.clientY),H.current=P.clientX,B.current=P.clientY,D.current=O.target}}),r.current.on("mouse:up",function(){this.setViewportTransform(this.viewportTransform),this.isDragging=!1,n.current?ar.style.cursor="grab":ar.style.cursor="default"}),r.current.on("mouse:move",function(O){if(this.isDragging&&n.current){const P=O.e,T=this.viewportTransform;T[4]+=P.clientX-this.lastPosX,T[5]+=P.clientY-this.lastPosY,this.requestRenderAll(),this.lastPosX=P.clientX,this.lastPosY=P.clientY,ar.style.cursor="grabbing"}else n.current&&(ar.style.cursor="grab")}),r.current.on("drop",function(O){const P={left:r.current.getSelectionElement().getBoundingClientRect().left,top:r.current.getSelectionElement().getBoundingClientRect().top},T={x:O.e.x-P.left,y:O.e.y-P.top},M=r.current.restorePointerVpt(T),k=JSON.parse(sessionStorage.getItem("dragInfo"));d(k.type,k.options,{top:M.y,left:M.x}),sessionStorage.removeItem("dragInfo")});const N=window._static_instance.renderAll;return window._static_instance.renderAll=k3(N,16),window._instance.on("mouse:move",function({e:O}){if(!window.horizontalLine||!window.verticalLine||!window._static_instance)return;const{layerX:P,layerY:T}=O;window.horizontalLine.set({top:T+20}),window.verticalLine.set({left:P+20}),window._static_instance.renderAll()}),L3(r.current),b(),window.addEventListener("resize",Ot(b,100)),Le.addListener("createElement",d),Le.addListener("deleteElement",a),Le.addListener("setActiveElement",g),Le.addListener("renderElement",l),Le.addListener("updateElementLayout",m),Le.addListener("updateElementPosition",w),Le.addListener("updateCanvas",x),Le.addListener("switchBrush",_),Le.addListener("pathStyleModify",$),Le.addListener("exportFile",I),Le.addListener("newCanvas",j),document.addEventListener("keypress",y),document.addEventListener("keyup",S),setTimeout(()=>{u()},100),()=>{Le.removeAllListeners("createElement"),Le.removeAllListeners("deleteElement"),Le.removeAllListeners("setActiveElement"),Le.removeAllListeners("renderElement"),Le.removeAllListeners("updateElementLayout"),Le.removeAllListeners("updateElementPosition"),Le.removeAllListeners("updateCanvas"),Le.removeAllListeners("switchBrush"),Le.removeAllListeners("pathStyleModify"),Le.removeAllListeners("exportFile"),Le.removeAllListeners("newCanvas"),document.removeEventListener("keypress",y),document.removeEventListener("keyup",S),r.current.clear(),r.current.dispose(),r.current=null,window._static_instance=null,window._instance=null}},[]),p.useEffect(()=>{r.current&&(r.current.on("object:modified",()=>{e()}),r.current.on("object:added",()=>{r.current.getObjects().filter(P=>P instanceof mt.fabric.Path||Object.prototype.hasOwnProperty.call(P,"_objects")).forEach(P=>{if(P._data&&P._data.id)return;const T=mr(10);P.set({left:P.left+P.width/2,top:P.top+P.height/2,originX:"center",originY:"center",transparentCorners:!1,hasControls:!0,hasBorders:!0,visible:!0,cornerStyle:"circle",cornerSize:15,borderColor:"#1677ff",cornerColor:"#1677ff",cornerStrokeColor:"#fff",_data:{id:T,type:to}}),jn(P),t(bi(P.toObject())),window.elementMap.set(T,P)}),r.current.requestRenderAll(),(sessionStorage.getItem("isOpe")==="false"||!sessionStorage.getItem("isOpe"))&&e()}))},[]),U.jsxs("div",{id:"canvas-component",className:Ba["canvas-component"],children:[U.jsxs("div",{className:Ba["canvas-main"],children:[U.jsx("canvas",{style:{position:"relative",zIndex:2},id:"c"}),U.jsx("canvas",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:1},width:"100",height:"100",id:"staticCanvas"})]}),U.jsx("div",{className:Ba["canvas-info"],children:U.jsx(f3,{scaleDownEvent:f,scaleUpEvent:h,scaleInitEvent:u,clearEvent:o})}),U.jsx(g3,{ref:A,menuData:F,menuClick:N=>z(N,r.current)})]})}const H3=p.memo(z3),V3="_tip_6u6lo_36",Rn={"edit-header":"_edit-header_6u6lo_1","header-item":"_header-item_6u6lo_10","header-center":"_header-center_6u6lo_13","header-right":"_header-right_6u6lo_21","canvas-form":"_canvas-form_6u6lo_26","form-item":"_form-item_6u6lo_30",tip:V3},W3=p.memo(function(){const t=cn(),{getNextOperation:n,getPrevOperation:r,redoStack:s,undoStack:v}=Fh(),C=ln($=>$.active),c=p.useRef(""),i=p.useCallback(()=>{sessionStorage.setItem("isOpe","true"),r(),setTimeout(()=>{sessionStorage.removeItem("isOpe")},100)},[v,s]),f=p.useCallback(()=>{sessionStorage.setItem("isOpe","true"),n(),setTimeout(()=>{sessionStorage.removeItem("isOpe")},100)},[v,s]),[h,o]=p.useState(!1),u=p.useCallback(()=>{o(!0)},[]),a=p.useCallback(()=>{Le.emit("updateCanvas",{key:"width",value:Number(g.current.value)}),Le.emit("updateCanvas",{key:"height",value:Number(l.current.value)}),Le.emit("updateCanvas",{key:"fill",value:m.current}),t(Rh()),t(Mh())},[]),d=p.useCallback(()=>{o(!1)},[]),g=p.useRef(null),l=p.useRef(null),m=p.useRef("#fff"),b=p.useMemo(()=>/.*Brush/,[]),y=p.useCallback(Ot(($,I)=>{m.current=I},100),[]),S=$=>()=>{Le.emit("exportFile",$)},w=p.useCallback(S("png"),[]),x=p.useCallback(S("svg"),[]),E=p.useCallback(S("jpg"),[]),_=p.useCallback(S("json"),[]);return p.useEffect(()=>{c.current=C},[C]),U.jsxs("div",{className:Rn["edit-header"],children:[U.jsxs(mn,{okText:"确定",cancelText:"取消",title:"新建",open:h,onOk:a,onCancel:d,centered:!0,children:[U.jsxs("div",{className:Rn["canvas-form"],children:[U.jsxs("div",{className:Rn["form-item"],children:["宽度：",U.jsx(Vt,{ref:g,min:50,max:5e3,defaultValue:50})]}),U.jsxs("div",{className:Rn["form-item"],children:["高度：",U.jsx(Vt,{ref:l,min:50,max:5e3,defaultValue:50})]}),U.jsxs("div",{className:Rn["form-item"],children:["背景颜色：",U.jsx(Dn,{onChange:y,defaultValue:"#fff"})]})]}),U.jsx("p",{className:Rn.tip,children:"新建画布将会覆盖原画布的内容"})]}),U.jsx("div",{className:`${Rn["header-item"]}`,children:U.jsx(yt,{disabled:b.test(C),onClick:u,type:"link",children:"新建"})}),U.jsxs("div",{className:`${Rn["header-center"]} ${Rn["header-item"]}`,children:[U.jsx(dt,{placement:"bottom",title:"撤销",children:U.jsx(yt,{onClick:i,type:"link",shape:"circle",style:{marginRight:"15px"},disabled:v.length===0,icon:U.jsx("i",{className:"iconfont i_pre"})})}),U.jsx(dt,{placement:"bottom",title:"重做",children:U.jsx(yt,{onClick:f,type:"link",shape:"circle",disabled:s.length===0,icon:U.jsx("i",{className:"iconfont i_next"})})})]}),U.jsxs("div",{className:`${Rn["header-right"]} ${Rn["header-item"]}`,children:[U.jsx(yt,{onClick:w,type:"link",children:"导出 PNG"}),U.jsx(yt,{onClick:E,type:"link",children:"导出 JPG"}),U.jsx(yt,{onClick:x,type:"link",children:"导出 SVG"}),U.jsx(yt,{onClick:_,type:"link",children:"导出 JSON"})]})]})}),X3="/React-Image-Editor/assets/circle-preview-Blxl9BC2.png",U3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAScAAADOCAYAAAB8ZsS/AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALhSURBVHhe7dQxAQJBEATBPTxAihVcgRycgBWUHMl7+A6qot0R0Ov22u+95z4AEWvNb12f+7NmHscGcLo9870cN0CKOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSJE5AkTkCSOAFJ4gQkiROQJE5AkjgBSeIEJIkTkCROQJI4AUniBCSt22u/95778QOcbq35/QFvuhA+k74NOwAAAABJRU5ErkJggg==",G3="/React-Image-Editor/assets/text-preview-Bg8EsFBv.png",Y3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAADSCAYAAADwkv2oAAAAAXNSR0IArs4c6QAADnpJREFUeF7tnLuPXVcVh9cZRhC5ocF22vwJBCFZKDSUFHRYoqFIg0QXKS+UxhKdCySEaGjoKUKN0mOJP4CKAsmFHcm0JEAyJ7l3xmaed9beZz/W40ubffZe61t7/zRRPt1F+AcCEICAEwKLkzop0yGB199bf/z8+/IXebh86bB8SjZIgMAyOJQIJb3+wfr+icgvTlb54YvH8kxkWSP0RQ9zCRBYc/mHPP3uR+tbyxfyiYi8tor86dv/lp//43fLf0I2S1NDCRBYQ3EnOOzRenz3M3myiLwpIke7jpcjeefTf8nv5Q/L/xIQoMWOBAisjnAzbn33w/W3yyq/FJHjc/2vyyo/+PSO/E0eLScZudBzGwIEVhuO7CIi999bf7YeyR9F5FtXgKzy5M4d+dE/Hy2fAwsCtQQIrFpyfHeBwP131zfWY3kiq9zb/VfgtXhW+c137siv/v5o+S/4IFBDgMCqocY3Vwjc+2D9WER+IiLfOITnaJGHz9+Uj1EduEQ1BAisGmp8c4HATmFYRX69inzzNjTrIk/XE3mA6nAbKf79dQQILO7FJgLnFQbtRqgOWlKsu0yAwOJO1BO4RmHQbobqoCXFuvMECCzuQzWBGxQG7X6oDlpSrHtFgMDiMlQROKgwaHdEddCSYt0ZAQKLq1BMQKUwaHdFddCSYt2NvgxoIHCAgFZh0EJEddCSYh1/YXEHigiUKAzajVEdtKRYR2BxB9QEahQG7eaoDlpSudcRWLnnr+9+g8KgPQTVQUsq7zoCK+/sizrfqDBoz0J10JJKuo7ASjr4krabKAzaA1EdtKRSriOwUo5d33RThUF7LKqDllS6dQRWupGXNdxaYdCejuqgJZVrHYGVa95F3fZQGLQFoDpoSeVaR2Dlmre6254Kg7YIVActqTzrCKw8s9Z3OkBh0BaD6qAllWMdgZVjzkVdDlIYtDWhOmhJJVhHYCUYckmLQxUGbWGoDlpS4dcRWOFHrG9wisKgLQ/VQUsq9DoCK/R4y5qbpTBoq0R10JKKu47Aijvbos5mKgzaQlEdtKTiriOw4s5W3ZkFhUFbLKqDllTMdQRWzLnquzKkMGiLRnXQkoq3jsCKN9OijowpDNraUR20pIKtI7CCDbSkHZMKg7YBVActqVDrCKxQ49Q3Y1ph0LaB6qAlFWYdgRVmlGWNWFcYtN2gOmhJxVhHYMWYY1EXHhQGbUOoDlpSMdYRWDHmqO7Ck8KgbQrVQUvK/zoCy/8M9R04VBi0zaE6aEn5Xkdg+Z5fUfVOFQZtj6gOWlKO1xFYjodXUrprhUHbKKqDlpTbdQSW29HpCw+hMGjbRXXQknK5jsByObayoqMoDNquUR20pPytI7D8zayo4kgKg7ZxVActKX/rCCx/M1NXHFFh0DaP6qAl5WsdgeVrXvpqAysMWgioDlpSftYRWH5mVVRpcIVBywLVQUvKyToCy8mgSspMoTBogaA6aEm5WEdguRiTvshUCoMWC6qDlpT5dQSW+RGVFZhNYdDSQXXQkrK9jsCyPZ+i6jIqDFpAqA5aUrbXEVi256OuLrPCoIWE6qAlZXcdgWV3NvrKUBjUrFAd1KhMLiSwTI6lrCgUhiJeqA5FuGwtJrBszaO4GhSGYmQiqA4V0Gx8QmDZmENVFSgMVdhOP0J12ABv3qcE1jz2m09GYdiGENVhG78ZXxNYM6g3OBOFYTtEVIftDEfvQGCNJt7gPBSGBhDPtkB1aMdyxE4E1gjKLc9AYWhJc78XqkNzpN02JLC6oe2zMQpDF66oDl2wtt+UwGrPtNuOKAzd0KI6dETbcmsCqyXNjnuhMHSE+3JrVIcBkLcdQWBt4zfsaxSGMahRHcZwrj2FwKolN/A7FIZxsFEdxrGuOYnAqqE28BsUhoGwz45CdRjPXHsigaUlNWMdCsMM6vszUR2moT94MIFlcy77qlAYpg4H1WEq/usPJ7AMDmVXEgqDgcHwqw4GhnCxBALL3EhEUBgMDQXVwdAwRAgsU+M4LQaFwdZQUB3szIPAsjOLfSUoDMYGsvvprEWerify4MVjeSayrPYqzFMRgWVo1igMhoZxqRRUBxuzIbBszEEEhcHKJG6sA9Vh/ogIrPkz2FeAwmBkEIfLQHWYPCYCa/IAdsejMBgYgrYEVActqS7rCKwuWPWbojDoWZlZieowbRQE1jT0pwejMEweQOXxqA6V4DZ+RmBtBLjlcxSGLfTmfovqMIc/gTWHu6AwTALf8FhUh4YwlVsRWEpQTZehMDTFOXMzVIex9Amssbz3p6EwTIDe70hUh35sr+xMYA2EvTsKhWEw8BHHoTqMoLw/g8AahppfYRiIevxRqA5DmBNYQzCfHoLCMBD2hKNQHfpDJ7D6M96fgMIwCPTEY1Ad+sMnsPozRmEYwNjKEagOfSdBYPXly68w9OZrcH9Uh35DIbD6sd3vjMLQGbDN7VEdOs2FwOoEdrctCkNHuNa3RnXoMiECqwtWFIZOWH1ti+rQfF4EVnOkpxuiMHQC62zboyP56fPvyp/l4fKls9JNlktgdRgLCkMHqE63RHVoOzgCqy1PFIbGPCNsh+rQbooEVjuWKAwtWQbbC9WhzUAJrDYc97ugMDSEGW8rVIcGMyWwGkDcbYHC0Ahk5G1QHTZPl8DajBCFoQHCPFugOmyaNYG1Cd/pxygMDSAm2gLVoX7YBFY9u/2XKAwbASb8HNWhfugEVj07FIYN7LJ/iupQdwMIrDpuKAy13PjuFQFUh/LLQGCVM9t/gcJQCY7PzhNAdSi8DwRWIbDdchSGCmh8cj0BVIeim0FgFeFCYSjExXINAVQHDaX9GgJLjep0IQpDITCWqwigOqgwEVg6TKerUBhKaLG2hACqg44Wf2HpOKEwKDmxrJ4AqsPt7Ais2xmdKgyfy1+XVb4nIkeaT1gDgRoCqA6HqRFYiluFwqCAxJJWBFAdDpAksG65ZigMrd4h+6gJoDrciIrAOnCL7r+7vrEeyxNZ5R7/R1X93FjYggCqw7UUCawDlwuFocXLY49aAqgOV8kRWDfcJhSG2mfGd60IoDoQWKq7dPej9a3lC/lERF5TfcAiCHQigOpwESx/YV2+aCgMnZ4e29YSQHX4PzkC69ItQmGofVZ815EAqsMZXALr3C1DYej45Nh6GwFUhz0/AuvsGqEwbHtPfD2AAKoDgfXymqEwDHhwHLGZQHbVgb+w+BWGzY+IDcYRyK46pA8sFIZxj42T2hDIrDrkDiwUhjYviF2GE8iqOqQOLBSG4e+MA9sRSKk6pA0sFIZ2L4edJhFIqDqkDCwUhkkPjGPbE0imOqQMLBSG9u+GHecRyKQ6pAssfoVh3sPi5D4EMqkOqQILhaHPg2HX+QSyqA55AguFYf6rooKuBDKoDmkCC4Wh61thcxsEwqsOKQILhcHGa6KKAQSCqw7hAwuFYcAj4QhbBAKrDuEDC4XB1luimjEEoqoOoQMLhWHM4+AUewSiqg5hAwuFwd4joqKxBCKqDjEDC4Vh7MvgNLMEoqkOIQMLhcHs+6Gw8QRCqQ7hAguFYfyL4ETjBAKpDqECC4XB+MOhvHkEgqgOoQILhWHee+Bk+wQiqA5hAguFwf6DocK5BCKoDiECC4Vh7kPgdD8EvKsO/gMLhcHPa6FSEwQ8qw7uAwuFwcQboAhfBNyqDq4DC4XB1yuhWkMEnKoObgMLhcHQ5acUnwQcqg5uAwuFwecboWpbBLypDi4DC4XB1qWnGr8EvKkO7gILhcHv46BymwQ8qQ6+AguFweaNpyr3BLyoDq4CC4XB/bugAbsEXKgObgILhcHuTaeyIAQcqA4uAguFIciDoA37BIyrDi4CC4XB/j2nwjgELKsO5gMLhSHOQ6ATHwQsqw6mAwuFwccFp8p4BKyqDnYDC4Uh3iugI1cELKoOZgMLhcHV3abYmATMqQ4mAwuFIebtpyuHBIypDuYCC4XB4aWm5NgEDKkO5gILhSH23ac7nwSsqA6mAguFwedlpur4BKyoDmYCC4Uh/qWnQ98ELKgONgILhcH3Tab6NARmqw4mAguFIc19p1H/BKaqDtMDC4XB/w2mg2QEJqoOUwMLhSHZRafdOAQmqQ5TAwuFIc79pZN8BGaoDtMCC4Uh3wWn41gEZqgOUwILhSHWxaWbvARGqw7jAwuFIe/tpvOQBEaqDsMDC4Uh5J2lqdwEhqkOQwMLhSH3rab7wAQGqQ7DAguFIfBlpTUI7AgMUB2GBRYKA3caAvEJ9FYdhgQWCkP8i0qHENj/kbXI0/VEHrx4LM9ElrU1le6BhcLQemTsBwHbBHqqDn0DC4XB9s2iOgh0ItBLdegaWCgMnW4D20LAPoEuqkO3wEJhsH+jqBACXQl0UB26BBYKQ9drwOYQ8EOgserQJbBQGPzcJyqFQG8CLVWH5oGFwtB7/OwPAV8EWqoOTQMLhcHXRaJaCIwi0Ep1aBdYKAyjZs85EHBJoIXq0CywUBhc3iGKhsBIAptVhyaBhcIwcuacBQHHBDaqDpsDC4XB8eWhdAjMILBBddgcWCgMMybOmRDwTaBWddgUWCgMvi8N1UNgFoFa1aE6sFAYZo2acyEQg0CN6lAXWCgMMW4MXUBgMoFS1aEqsFAYJk+Z4yEQh0CR6lAcWCgMcW4KnUDABIEC1aEosFAYTIyXIiAQj4BSdSgKLBSGePeEjiBghYBGdVAHFgqDlbFSBwRiEtCoDqrAQmGIeUHoCgLWCNymOtweWCgM1mZKPRAITeCQ6nBrYKEwhL4bNAcBiwRuVB0OBhYKg8VZUhMEEhC4QXW4MbBQGBJcClqEgGUC16gONwYWCoPlSVIbBHIQuKw6XBtYKAw5LgNdQsA6gcuqw5XAQmGwPkLqg0AuAudVh4uBhcKQ6ybQLQScEHipOlwILBQGJ9OjTAjkI7BXHV4F1pnC8PYqcpyPBR1DAALWCSxfZ9NXdbYguYxVXikAAAAASUVORK5CYII=",q3=[{type:"矩形",children:[{viewBox:[200,200],path:"M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z"},{viewBox:[200,200],path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z"},{viewBox:[200,200],path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 200 50 L 200 200 L 0 200 L 0 50 Q 0 0 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 50 0 L 200 0 L 200 150 Q 200 200 150 200 L 0 200 L 0 50 Q 0 0 50 0 Z"}]},{type:"常用形状",children:[{viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 200 L 200 200 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:[200,200],path:"M 70 20 L 0 160 Q 0 200 40 200 L 160 200 Q 200 200 200 160 L 130 20 Q 100 -20 70 20 Z"},{viewBox:[200,200],path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z"},{viewBox:[200,200],path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z"},{viewBox:[200,200],path:"M 0 0 C 80 20 120 20 200 0 C 180 80 180 120 200 200 C 80 180 120 180 0 200 C 20 120 20 80 0 0 Z"},{viewBox:[200,200],path:"M 10 10 C 60 0 140 0 190 10 C 200 60 200 140 190 190 C 140 200 60 200 10 190 C 0 140 0 60 10 10 Z"},{viewBox:[200,200],path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:[200,200],path:"M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:[200,200],path:"M 40 0 L 160 0 L 200 100 L 160 200 L 40 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:[200,200],path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z"},{viewBox:[200,200],path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z"},{viewBox:[200,200],path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:[200,200],path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z"},{viewBox:[200,200],path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z"},{viewBox:[200,200],path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z"},{viewBox:[200,200],path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:[200,200],path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z"},{viewBox:[200,200],path:"M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 120 80 L 200 100 L 120 120 L 100 200 L 80 120 L 0 100 L 80 80 L 100 0 Z"},{viewBox:[1024,1024],path:"M1018.67652554 400.05983681l-382.95318779-5.89158658L512 34.78141155 388.27666225 394.16825023l-382.95318779 5.89158658L311.68602415 629.83174977l-117.83174978 365.27842665 312.25413766-223.88032637 312.25413904 223.88032637-117.83175116-365.27842665 318.14572563-229.77191296z"},{viewBox:[200,200],path:"M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 140 60 L 200 60 L 160 100 L 200 140 L 140 140 L 100 200 L 60 140 L 0 140 L 40 100 L 0 60 L 60 60 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z"},{viewBox:[200,200],path:"M 200 0 C 80 40 80 160 200 200 C -60 200 -60 0 200 0 Z"}]},{type:"箭头",children:[{viewBox:[200,200],path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:[200,200],path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:[200,200],path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:[200,200],path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:[200,200],path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:[200,200],path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:[1024,1024],path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z"},{viewBox:[1024,1024],path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z"}]},{type:"其他形状",children:[{viewBox:[1024,1024],path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z"},{viewBox:[1024,1024],path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z"},{viewBox:[1024,1024],path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z"},{viewBox:[1024,1024],path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z"},{viewBox:[1024,1024],path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z"},{viewBox:[1024,1024],path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z"},{viewBox:[1024,1024],path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z"},{viewBox:[1024,1024],path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z"},{viewBox:[1024,1024],path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z"},{viewBox:[1024,1024],path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z"},{viewBox:[1024,1024],path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z"},{viewBox:[1024,1024],path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z"},{viewBox:[1024,1024],path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z"},{viewBox:[1024,1024],path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z"},{viewBox:[1024,1024],path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z"},{viewBox:[1024,1024],path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z"},{viewBox:[1024,1024],path:"M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z"},{viewBox:[1024,1024],path:"M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z"},{viewBox:[1024,1024],path:"M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z"},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m220.16 343.26755556l-239.616 332.23111111c-14.44977778 20.13866667-44.37333333 20.13866667-58.82311111 0L291.84 481.16622222c-4.32355555-6.03022222 0-14.44977778 7.39555555-14.44977777h53.36177778c11.60533333 0 22.64177778 5.57511111 29.46844445 15.13244444l81.00977777 112.41244444 178.85866667-248.03555555c6.82666667-9.44355555 17.74933333-15.13244445 29.46844445-15.13244445H724.76444445c7.39555555 0 11.71911111 8.41955555 7.39555555 14.44977778z"},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h418.70222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z"},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m188.18844445 703.37422223l-75.09333334-0.34133333L512 570.48177778l-112.98133333 134.71288889-75.20711112 0.34133333c-5.00622222 0-9.10222222-3.98222222-9.10222222-9.10222222 0-2.16177778 0.79644445-4.20977778 2.16177778-5.91644445l148.02488889-176.35555555L316.87111111 337.92c-1.36533333-1.70666667-2.16177778-3.75466667-2.16177778-5.91644445 0-5.00622222 4.096-9.10222222 9.10222222-9.10222222l75.20711112 0.34133334L512 458.06933333l112.98133333-134.71288888 75.09333334-0.34133334c5.00622222 0 9.10222222 3.98222222 9.10222222 9.10222222 0 2.16177778-0.79644445 4.20977778-2.16177778 5.91644445L559.21777778 514.27555555l147.91111111 176.35555556c1.36533333 1.70666667 2.16177778 3.75466667 2.16177778 5.91644444 0 5.00622222-4.096 9.10222222-9.10222222 9.10222223z"},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H548.40888889v172.94222222c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222h-54.61333334c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V548.40888889H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h172.94222222V302.64888889c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h54.61333334c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v172.94222222h172.94222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z"},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m163.95377778 517.57511112L427.46311111 700.64355555c-1.59288889 1.13777778-3.41333333 1.70666667-5.34755556 1.70666667-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V331.88977778c0-1.93422222 0.56888889-3.75466667 1.70666667-5.34755556 2.95822222-4.096 8.64711111-5.00622222 12.74311111-2.048L675.95377778 505.17333333c0.79644445 0.56888889 1.47911111 1.25155555 2.048 2.048 2.95822222 3.98222222 2.048 9.67111111-2.048 12.62933334z"},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m200.81777778 666.39644445l-32.54044445 44.37333333c-2.95822222 4.096-8.64711111 4.89244445-12.74311111 1.93422222L479.34577778 577.76355555c-2.38933333-1.70666667-3.75466667-4.43733333-3.75466667-7.39555555V257.13777778c0-5.00622222 4.096-9.10222222 9.10222222-9.10222223h54.72711112c5.00622222 0 9.10222222 4.096 9.10222222 9.10222223v281.6l162.24711111 117.30488889c4.096 2.84444445 5.00622222 8.53333333 2.048 12.62933333z"},{viewBox:[1024,1024],path:"M981.10577778 314.48177778c-25.6-61.09866667-62.464-115.93955555-109.34044445-163.04355556-46.87644445-46.99022222-101.60355555-83.968-162.70222222-109.568C646.59911111 15.58755555 580.38044445 2.27555555 512 2.27555555h-2.27555555c-68.83555555 0.34133333-135.39555555 13.99466667-198.08711112 40.84622223-60.52977778 25.94133333-114.80177778 62.80533333-161.22311111 109.79555555-46.42133333 46.99022222-82.83022222 101.60355555-108.08888889 162.47466667C16.27022222 378.42488889 3.072 445.44 3.41333333 514.38933333c0.34133333 78.96177778 19.22844445 157.35466667 54.49955556 227.44177778v172.94222222c0 28.89955555 23.43822222 52.33777778 52.224 52.33777778h172.71466666c69.97333333 35.38488889 148.13866667 54.272 226.98666667 54.61333334h2.38933333c68.03911111 0 133.91644445-13.19822222 196.03911112-39.02577778 60.75733333-25.37244445 115.37066667-61.78133333 162.13333333-108.31644445 46.87644445-46.53511111 83.74044445-100.92088889 109.568-161.56444444 26.73777778-62.80533333 40.39111111-129.59288889 40.73244445-198.54222223 0.22755555-69.29066667-13.19822222-136.53333333-39.59466667-199.79377777zM284.89955555 566.61333333c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955556 54.61333333-24.34844445 54.61333333-54.49955556 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955556-54.61333333s24.46222222-54.61333333 54.49955556-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z"},{viewBox:[1024,1024],path:"M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM745.4750693 325.8561164l-267.95558363 371.52436096c-16.15876501 22.52048353-49.62140436 22.52048353-65.78016939 0L253.07805667 477.51948567c-4.83490607-6.74342161 0-16.15876501 8.27023406-16.15876499h59.67291961c12.97790576 0 25.31963967 6.23448413 32.95370188 16.92217123l90.59087157 125.70755774 200.01242995-277.37092701c7.63406221-10.56045272 19.84856175-16.92217125 32.95370189-16.92217124H737.20483524c8.27023407 0 13.10514012 9.41534338 8.27023406 16.158765z"},{viewBox:[1024,1024],path:"M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h468.2224823c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z"},{viewBox:[1024,1024],path:"M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM720.79160148 697.63494611c5.59831228 6.61618726 0.8906406 16.6677025-7.76129658 16.66770249h-74.94104404c-5.98001539 0-11.70556205-2.67192177-15.64982754-7.25235911L512 575.36271635l-110.43943332 131.68757314c-3.81703111 4.58043732-9.54257777 7.25235911-15.64982754 7.25235911H310.9696951c-8.65193717 0-13.35960887-10.05151525-7.76129658-16.66770249L458.81603326 512 303.20839852 326.36505389c-5.59831228-6.61618726-0.8906406-16.6677025 7.76129658-16.66770249h74.94104404c5.98001539 0 11.70556205 2.67192177 15.64982754 7.25235911L512 448.63728365l110.43943332-131.68757314c3.81703111-4.58043732 9.54257777-7.25235911 15.64982754-7.25235911H713.0303049c8.65193717 0 13.35960887 10.05151525 7.76129658 16.66770249L565.18396674 512l155.60763474 185.63494611z"},{viewBox:[1024,1024],path:"M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM677.02297814 523.19662459L423.31764398 722.70011704c-9.41534338 7.37959347-23.28388974 0.76340622-23.28388975-11.19662459V312.62374191c0-11.9600308 13.86854636-18.70345241 23.28388975-11.19662457l253.70533416 199.37625807c7.25235911 5.72554666 7.25235911 16.6677025 0 22.39324918z"},{viewBox:[1024,1024],path:"M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H552.71499847v193.39624268c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962h-61.0724977c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962V552.71499847H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h193.39624268V277.88875885c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h61.0724977c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v193.39624268h193.39624268c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z"},{viewBox:[1024,1024],path:"M902.67315697 135.41705551L528.62204754 7.94466448C524.10877635 6.40354749 518.05438818 5.63298899 512 5.63298899s-12.10877635 0.7705585-16.62204754 2.31167549L121.32684303 135.41705551c-9.13662215 3.08223399-16.62204754 13.64989334-16.62204753 23.33691443v531.02488283c0 9.68702108 6.27454775 22.45627614 13.87005291 28.51066431L498.0198673 1013.9638196c3.85279247 2.9721542 8.8063828 4.51327118 13.87005291 4.51327118s10.12734022-1.54111698 13.87005291-4.51327118l379.4450189-295.67430252c7.59550517-5.94430839 13.87005291-18.71356345 13.87005291-28.51066431V158.75396994c0.22015956-9.68702108-7.26526581-20.14460066-16.40188796-23.33691443zM712.89560763 323.43332829L478.86598471 645.63685899c-7.04510625 9.68702108-21.57563786 9.68702108-28.6207441 0l-139.14084824-191.5388259c-4.18303182-5.8342286 0-13.9801327 7.15518603-13.9801327h60.76404132c5.61406904 0 11.0079785 2.75199463 14.31037204 7.26526582l71.22162091 97.97100864 166.11039557-228.74579323c3.30239355-4.51327118 8.58622323-7.26526581 14.31037204-7.26526581H705.7404216c7.15518602 0.11007979 11.33821785 8.25598388 7.15518603 14.09021248z"},{viewBox:[1024,1024],path:"M959.86498307 186.28001231H797.00498922v-101.78749614c0-44.91373267-36.51626425-81.42999692-81.42999691-81.42999693H308.42500769c-44.91373267 0-81.42999692 36.51626425-81.42999691 81.42999693v101.78749614H64.13501693c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499847v40.71499845c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874962h76.8495596l31.42688945 665.43575611c2.03574992 43.38692024 37.91584233 77.61296581 81.30276254 77.6129658h577.64404066c43.5141546 0 79.26701262-34.09881122 81.30276254-77.6129658l31.42688945-665.43575611H990.40123192c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874962v-40.71499845c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499847z m-254.46874039 0H318.60375732v-91.60874653h386.79248536v91.60874653z"},{viewBox:[1024,1024],path:"M980.2224823 248.62485371H654.50249462V104.85001539c0-22.52048353-18.19451494-40.71499847-40.71499847-40.71499846H94.67126578v-50.89374808c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-71.25124732c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v997.5174623c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h71.25124732c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961V674.85999383h315.54123807v143.77483833c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h529.29497999c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V289.33985217c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846z"},{viewBox:[1024,1024],path:"M804.63905145 265.16532183V94.67126578h109.42155836c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961H109.93939019c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h109.42155836v170.49405605c0 103.6960117 53.94737296 194.92305513 135.3773699 246.83467817-81.42999692 51.91162303-135.37736988 143.13866646-135.3773699 246.83467817v170.49405605h-109.42155836c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h804.12121962c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-109.42155836V758.83467817c0-103.6960117-53.94737296-194.92305513-135.3773699-246.83467817 81.42999692-51.91162303 135.37736988-143.13866646 135.3773699-246.83467817z"},{viewBox:[1024,1024],path:"M1020.928 448.44373333l-35.36213334-373.4528c-1.79200001-19.3536-17.2032-34.64533332-36.55679999-36.55679999L575.55626667 3.072h-0.47786666c-3.82293334 0-6.8096 1.19466667-9.07946669 3.46453333L6.53653333 565.99893332c-4.65919999 4.65919999-4.65919999 12.1856 0 16.84480001l434.61973334 434.61973334c2.26986667 2.26986667 5.25653333 3.46453333 8.48213333 3.46453333s6.21226667-1.19466667 8.48213333-3.46453333l559.46239999-559.46239999c2.38933332-2.5088 3.584-5.97333334 3.34506668-9.55733335zM735.40266668 362.66666667c-42.17173333 0-76.45866667-34.28693333-76.45866667-76.45866667s34.28693333-76.45866667 76.45866667-76.45866667 76.45866667 34.28693333 76.45866665 76.45866667-34.28693333 76.45866667-76.45866665 76.45866667z"}]},{type:"线性",children:[{viewBox:[1024,1024],path:"M1009.55537674 75.96950982l-61.38012212-61.38012214c-4.48769762-4.48769762-11.870684-4.48769762-16.3583816 0L14.44462326 931.67210859c-4.48769762 4.48769762-4.48769762 11.870684 0 16.35838159l61.38012212 61.38012214c4.48769762 4.48769762 11.870684 4.48769762 16.3583816 0L1009.41061232 92.18312698c4.63246205-4.34293316 4.63246205-11.72591956 0.14476442-16.21361716zM210.88996692 419.35075905c114.94296453 0 208.46079213-93.51782759 208.46079213-208.46079213s-93.51782759-208.46079213-208.46079213-208.4607921-208.46079213 93.51782759-208.4607921 208.4607921 93.51782759 208.46079213 208.4607921 208.46079213z m0-312.69118816c57.47148228 0 104.23039605 46.75891379 104.23039607 104.23039603s-46.75891379 104.23039605-104.23039607 104.23039607-104.23039605-46.75891379-104.23039603-104.23039607 46.75891379-104.23039605 104.23039603-104.23039603zM813.11003308 604.64924095c-114.94296453 0-208.46079213 93.51782759-208.46079213 208.46079213s93.51782759 208.46079213 208.46079213 208.4607921 208.46079213-93.51782759 208.4607921-208.4607921-93.51782759-208.46079213-208.4607921-208.46079213z m0 312.69118816c-57.47148228 0-104.23039605-46.75891379-104.23039607-104.23039603s46.75891379-104.23039605 104.23039607-104.23039607 104.23039605 46.75891379 104.23039603 104.23039607-46.75891379 104.23039605-104.23039603 104.23039603z",outlined:!0},{viewBox:[1024,1024],path:"M1004.96017383 478.58365209L483.27851088 25.80594621c-4.00443838-3.45210207-9.11354943-5.3852792-14.49882864-5.38527921h-122.20441284c-10.21822208 0-14.91308089 12.70373557-7.18037228 19.33177152l483.57045622 419.77561022H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672657v82.85044938c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672657h807.92996557L339.25681303 984.24756148c-7.7327086 6.76612003-3.0378498 19.33177153 7.18037229 19.33177152h126.34693531c2.62359757 0 5.24719513-0.96658859 7.18037228-2.76168164L1004.96017383 545.41634791c20.2983601-17.67476253 20.2983601-49.1579333 0-66.83269582z",outlined:!0},{viewBox:[1024,1024],path:"M1011.38217956 558.9924242L545.80649025 22.43713295c-17.81503843-20.62055629-49.79794206-20.62055629-67.75325638 0L12.61782044 558.9924242c-6.31241519 7.29434645-1.12220714 18.51641789 8.41655359 18.51641789h113.62347344c6.45269109 0 12.62483038-2.80551785 16.97338308-7.71517411L458.69516062 215.87758959V1005.77114384c0 6.1721393 5.04993216 11.22207145 11.22207144 11.22207145h84.16553588c6.1721393 0 11.22207145-5.04993216 11.22207144-11.22207145V215.87758959l307.06393007 353.91607839c4.20827679 4.90965626 10.38041608 7.71517413 16.97338308 7.71517411h113.62347344c9.53876074 0 14.72896878-11.22207145 8.41655359-18.51641789z",outlined:!0},{viewBox:[1024,1024],path:"M1009.1026963 459.52804874H201.17273073l483.57045624-419.77561022c7.7327086-6.76612003 3.0378498-19.33177153-7.18037229-19.33177152h-122.20441283c-5.3852792 0-10.49439025 1.93317715-14.49882866 5.38527921L19.03982617 478.58365209c-20.2983601 17.67476253-20.2983601 49.1579333 0 66.69461175L543.89742302 1000.81765136c2.07126124 1.79509307 4.55677472 2.76168163 7.18037228 2.76168164h126.3469353c10.21822208 0 14.91308089-12.70373557 7.18037228-19.33177152L201.17273073 564.47195126H1009.1026963c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672657v-82.85044938c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672657z",outlined:!0},{viewBox:[1024,1024],path:"M1002.96562597 446.49115791h-113.62347344c-6.45269109 0-12.62483038 2.80551785-16.97338308 7.71517411L565.30483938 808.12241041V18.22885616c0-6.1721393-5.04993216-11.22207145-11.22207144-11.22207145h-84.16553588c-6.1721393 0-11.22207145 5.04993216-11.22207144 11.22207145v789.89355425L151.63123055 454.20633202c-4.20827679-4.90965626-10.38041608-7.71517413-16.97338308-7.71517411h-113.62347344c-9.53876074 0-14.72896878 11.36234735-8.41655359 18.51641789L478.19350975 1001.56286705c17.81503843 20.62055629 49.79794206 20.62055629 67.75325638 0L1011.38217956 465.0075758c6.31241519-7.29434645 1.12220714-18.51641789-8.41655359-18.51641789z",outlined:!0},{viewBox:[1024,1024],path:"M975.82443246 622.46726585H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672658v82.85044937c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672659h835.6848661L651.32683905 980.10503902c-5.66144737 7.18037229-0.55233633 17.9509307 8.69929718 17.9509307h100.11095967c6.76612003 0 13.11798782-3.0378498 17.39859437-8.42312903l233.08593092-295.63802022c22.78387358-28.99765728 2.20934532-71.52755463-34.79718873-71.52755462zM1009.1026963 296.58883161H173.4178302l199.25533075-252.69387063c5.66144737-7.18037229 0.55233633-17.9509307-8.69929718-17.9509307h-100.11095967c-6.76612003 0-13.11798782 3.0378498-17.39859437 8.42312903L13.37837881 330.00517953c-22.78387358 28.99765728-2.20934532 71.52755463 34.65910466 71.52755462h961.06521283c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672658v-82.85044937c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672659z",outlined:!0},{viewBox:[1024,1024],path:"M1010.75873115 64.13501693H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874964h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874964v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961zM1010.75873115 858.07748691H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874964v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874964zM1010.75873115 461.10625194H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874959v81.42999694c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874959h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874959v-81.42999694c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874959z",outlined:!0},{viewBox:[1024,1024],path:"M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z",outlined:!0},{viewBox:[1024,1024],path:"M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z",outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z",outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z",outlined:!0},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z",outlined:!0},{viewBox:[1024,1024],path:"M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z",outlined:!0},{viewBox:[1024,1024],path:"M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z",outlined:!0},{viewBox:[1024,1024],path:"M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z",outlined:!0}]}];function K3(e,t=["image/png","image/jpeg","image/jpg"],n=1){if(!t.includes(e.type))return{status:!1,msg:"请上传PNG、JPG或JPEG格式的图片！"};const v=n*1024*1024;return e.size>v?{status:!1,msg:"文件大小不能超过1MB！"}:{status:!0}}const Q3={},J3=p.memo(function(t){const[n,r]=Xo.useMessage(),[s,v]=p.useState([]),C=p.useCallback(()=>{if(!s.length)return n.open({type:"error",content:"请先上传图片"});const d=document.createElement("img");d.src=s[0],d.onload=function(){n.open({type:"success",content:"图片上传成功"}),t.successEvent(s[0],d.width,d.height),v([])},d.onerror=function(){n.open({type:"error",content:"图片加载失败，请重新上传"})}},[s,n]),c=p.useCallback(()=>{t.cancelEvent()},[]),i=p.useMemo(()=>({name:"file",multiple:!0,maxCount:1,onChange(d){const g=K3(d.file);if(!g.status)return n.open({type:"error",content:g.msg});const l=new FileReader;l.onloadend=function(){v([l.result])},l.readAsDataURL(d.file.originFileObj)},customRequest(){},fileList:[]}),[]),[f,h]=p.useState("local"),o=p.useMemo(()=>[{label:"本地上传",value:"local"},{label:"图片外链",value:"link"}],[]),u=p.useCallback(({target:{value:d}})=>{h(d)},[]),a=p.useCallback(d=>{v([d])},[]);return U.jsxs(mn,{title:"插入图片",centered:!0,open:t.isShow,onOk:C,onCancel:c,okText:"确认",cancelText:"取消",children:[r,U.jsx(ko.Group,{style:{marginTop:"10px"},options:o,onChange:u,optionType:"button",value:f,buttonStyle:"solid"}),U.jsxs("div",{style:{marginTop:"20px"},children:[U.jsx(U.Fragment,{children:f==="local"?U.jsxs(n3,{...i,children:[U.jsx("p",{className:"ant-upload-text",children:"点击或者拖拽图片上传"}),U.jsx("p",{className:"ant-upload-hint",children:"支持上传 PNG/JPG/JPEG 格式的图片，文件大小不能超过1MB。"})]}):U.jsx(Mr.Search,{enterButton:"插入",onSearch:a,placeholder:"输入图片链接"})}),s.length?s.map(d=>U.jsx(gh,{className:Q3["custom-class-image"],width:150,height:150,src:d},d)):U.jsx(U.Fragment,{})]})]})}),Z3="_splitLine_1bt5j_1",ex="_lineTitle_1bt5j_7",vu={splitLine:Z3,lineTitle:ex},Gn=p.memo(function({className:t="",style:n={},...r}){return U.jsx("div",{className:`${vu.splitLine} ${t}`,style:n,children:U.jsx("div",{className:vu.lineTitle,children:r.title})})}),tx="_dragbox_14mxl_9",nx="_icon_14mxl_45",qt={"menu-component":"_menu-component_14mxl_1",dragbox:tx,"disable-shape-path":"_disable-shape-path_14mxl_12","disable-status":"_disable-status_14mxl_15","menu-container":"_menu-container_14mxl_25","menu-item":"_menu-item_14mxl_30",icon:nx,"active-menu-item":"_active-menu-item_14mxl_50","menu-shape-container":"_menu-shape-container_14mxl_54","menu-shape-title":"_menu-shape-title_14mxl_54","menu-shape-list":"_menu-shape-list_14mxl_68","shape-item":"_shape-item_14mxl_72","shape-path":"_shape-path_14mxl_81"};let sr=null,ka=0,za=0;function rx(){const[e,t]=p.useState("default"),[n,r]=Xo.useMessage(),s=p.useMemo(()=>[{type:"Text",icon:"i_text",title:"文本"},{type:"Rect",icon:"i_rect",title:"矩形"},{type:"Circle",icon:"i_circle",title:"圆形"},{type:"Triangle",icon:"i_triangle",title:"三角形"},{type:"Picture",icon:"i_pic",title:"图片"}],[]),v=p.useMemo(()=>[{title:"铅笔",type:"Pencil",icon:"i_pencil",mode:"PencilBrush"},{title:"喷笔",type:"Spray",icon:"i_spray",mode:"SprayBrush"},{title:"圆形笔刷",type:"Circle",icon:"i_circleBrush",mode:"CircleBrush"}],[]),[C,c]=p.useState(!1),i=x=>{w.test(e)||(t("default"),x==="Picture"?c(!0):Le.emit("createElement",x))},f=(x,E)=>{e!=="default"&&"Mode"+x!==e||("Mode"+x===e?(t("default"),n.open({type:"warning",content:"退出笔刷模式"}),Le.emit("switchBrush",E,!1)):(t("Mode"+x),n.info("进入笔刷模式"),Le.emit("switchBrush",E,!0)))},h=p.useCallback(()=>{c(!1)},[]),o=x=>{w.test(e)||Le.emit("createElement","svg",{svg:`<svg 
       xmlns="http://www.w3.org/2000/svg"
        overflow="visible"
        width="18"
        height="18">
        <g transform="scale(${18/x.viewBox[0]}, ${18/x.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)">
          <path
            vectorEffect="non-scaling-stroke"
            strokeLinecap="butt"
            strokeMiterlimit="8"
            fill="${x.outlined?"#999":"transparent"}"
            stroke="${x.outlined?"transparent":"#999"}"
            strokeWidth="2"
            d="${x.path}"
          ></path>
        </g>
      </svg>`,shape:x})},u=p.useCallback((x,E,_)=>{Le.emit("createElement","image",{dataUrl:x,width:E,height:_}),c(!1)},[]),[a,d]=p.useState(""),[g,l]=p.useState(""),m=p.useCallback(({clientX:x,clientY:E})=>{!sr||ka===x&&za===E||(ka=x,za=E,sr.style.left=x-sr.clientWidth/2+"px",sr.style.top=E-sr.clientHeight/2+"px")},[]),b=p.useCallback(()=>{sr.style.left="-9999px",ka=0,za=0,d("")},[]),y=(x,E)=>{const _=new Image;_.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",x.dataTransfer.setDragImage(_,0,0),d(E),sr=document.getElementById("preview-container"),sessionStorage.setItem("dragInfo",JSON.stringify({type:E}))},S=(x,E,_)=>{l(_),d("Shape");const $=new Image;$.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",x.dataTransfer.setDragImage($,0,0),sr=document.getElementById("preview-container"),sessionStorage.setItem("dragInfo",JSON.stringify({type:"svg",options:{svg:`<svg 
        xmlns="http://www.w3.org/2000/svg"
         overflow="visible"
         width="18"
         height="18">
         <g transform="scale(${18/E.viewBox[0]}, ${18/E.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)">
           <path
             vectorEffect="non-scaling-stroke"
             strokeLinecap="butt"
             strokeMiterlimit="8"
             fill="${E.outlined?"#999":"transparent"}"
             stroke="${E.outlined?"transparent":"#999"}"
             strokeWidth="2"
             d="${E.path}"
           ></path>
         </g>              
       </svg>`,shape:E}}))},w=p.useMemo(()=>/Mode.*/,[]);return U.jsxs("div",{className:qt["menu-component"],children:[U.jsx("div",{id:"preview-container",draggable:!1,style:{pointerEvents:"none",userSelect:"none",position:"fixed",zIndex:99999,top:"-9000px"},children:a==="Shape"?U.jsx("div",{dangerouslySetInnerHTML:{__html:g}}):U.jsx("img",{style:{width:a==="Text"?"150px":"100px"},src:a=="Rect"?U3:a==="Text"?G3:a==="Triangle"?Y3:X3})}),r,U.jsx(J3,{title:"插入图片",isShow:C,cancelEvent:h,successEvent:u}),U.jsx(Gn,{style:{marginTop:"10px"},title:"基础元素"}),U.jsx("div",{className:qt["menu-container"],children:s.map(x=>U.jsxs("div",{draggable:x.type!=="Picture"&&!w.test(e),onDragStart:E=>y(E,x.type),onDrag:m,onDragEnd:b,onClick:()=>i(x.type),className:`${qt["menu-item"]} ${w.test(e)?qt["disable-status"]:""} ${qt.dragbox}`,children:[U.jsx("i",{className:`iconfont ${x.icon} ${qt.icon}`}),U.jsx("span",{style:{fontSize:"13px"},children:x.title})]},x.icon))}),U.jsx(Gn,{style:{marginTop:"10px"},title:"笔刷"}),U.jsx("div",{className:qt["menu-container"],children:v.map(x=>U.jsxs("div",{onClick:()=>f(x.type,x.mode),className:`${qt["menu-item"]} ${e==="Mode"+x.type?qt["active-menu-item"]:e!=="default"?qt["disable-status"]:""}`,children:[U.jsx("i",{className:`iconfont ${x.icon} ${qt.icon}`}),U.jsx("span",{style:{fontSize:"13px"},children:x.title})]},x.icon))}),U.jsx(Gn,{style:{marginTop:"10px"},title:"更多图形"}),U.jsx("div",{className:qt["menu-shape-container"],children:U.jsx(Xf,{ghost:!0,items:q3.map(x=>({key:x.type,label:x.type,children:U.jsx("div",{className:qt["menu-shape-list"],children:x.children.map(E=>U.jsx("div",{onClick:()=>o(E),className:`${qt["shape-item"]} ${w.test(e)?qt["disable-status"]:""}`,draggable:!w.test(e),onDrag:m,onDragEnd:b,onDragStart:_=>S(_,E,`<svg overflow="visible" width="100" height="100">
                        <g
                          transform="scale(${E.viewBox[0]>1e3?100/E.viewBox[0]:.5}, ${E.viewBox[1]>1e3?100/E.viewBox[1]:.5}) translate(0,0) matrix(1,0,0,1,0,0)"
                        >
                          <path
                            vectorEffect="non-scaling-stroke"
                            strokeLinecap="butt"
                            strokeMiterlimit="8"
                            fill="${E.outlined?"#000":"transparent"}"
                            stroke="${E.outlined?"transparent":"#000"}"
                            stroke-width="${E.viewBox[1]>1e3?50:10}"
                            d="${E.path}"
                          ></path>
                        </g>
                      </svg>`),children:U.jsx("svg",{overflow:"visible",width:"18",height:"18",children:U.jsx("g",{transform:`scale(${18/E.viewBox[0]}, ${18/E.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`,children:U.jsx("path",{className:w.test(e)?qt["disable-shape-path"]:qt["shape-path"],vectorEffect:"non-scaling-stroke",strokeLinecap:"butt",strokeMiterlimit:"8",fill:`${E.outlined?"#999":"transparent"}`,stroke:`${E.outlined?"transparent":"#999"}`,strokeWidth:"2",d:E.path})})})},E.path))})}))})})]})}const ix=p.memo(rx);function pu(e){return{type:y0,payload:e}}const Ha={"option-item":"_option-item_1m7ek_1","item-title":"_item-title_1m7ek_7","item-component":"_item-component_1m7ek_11"},vt=p.memo(function(t){return U.jsxs("div",{className:Ha["option-item"],children:[U.jsx("div",{className:Ha["item-title"],children:t.title}),U.jsx("div",{className:Ha["item-component"],children:t.children})]})}),ox={},ax=p.memo(function(){const t=ln(c=>c.canvas),n=cn(),r=c=>i=>{sessionStorage.setItem("canvasInfo",JSON.stringify({[c]:i,[c==="width"?"height":"width"]:JSON.parse(sessionStorage.getItem("canvasInfo"))[c==="width"?"height":"width"]})),n(pu({key:c,value:i})),Le.emit("updateCanvas",{key:c,value:i})},s=p.useCallback(Ot(r("width")),[]),v=p.useCallback(Ot(r("height")),[]),C=p.useCallback(Ot(c=>{n(pu({key:"fill",value:`rgba(${c.metaColor.r.toFixed(0)}, ${c.metaColor.g.toFixed(0)}, ${c.metaColor.b.toFixed(0)}, ${c.metaColor.a})`})),Le.emit("updateCanvas",{key:"fill",value:`rgba(${c.metaColor.r.toFixed(0)}, ${c.metaColor.g.toFixed(0)}, ${c.metaColor.b.toFixed(0)}, ${c.metaColor.a})`})}),[]);return U.jsxs("div",{className:ox["canvas-panel"],children:[U.jsx(Gn,{title:"画布配置"}),U.jsx(vt,{title:"画布宽度",children:U.jsx(Vt,{onChange:s,defaultValue:t.width,min:1,max:1e4})}),U.jsx(vt,{title:"画布高度",children:U.jsx(Vt,{onChange:v,defaultValue:t.height,min:1,max:1e4})}),U.jsx(vt,{title:"画布颜色",children:U.jsx(Dn,{onChange:C,defaultValue:t.fill})})]})});function no(e,t,n){return Ot(n==="inputNumber"?r=>{e[t]=r,Le.emit("pathStyleModify",{key:"shadow",value:new mt.fabric.Shadow(e)})}:r=>{e[t]=`rgba(${r.metaColor.r.toFixed(0)}, ${r.metaColor.g.toFixed(0)}, ${r.metaColor.b.toFixed(0)}, ${r.metaColor.a})`,Le.emit("pathStyleModify",{key:"shadow",value:new mt.fabric.Shadow(e)})})}function Bh(e){const t={blur:e.blur,offsetX:e.offsetX,offsetY:e.offsetY,color:e.shadowColor},n=p.useCallback(no(t,"blur","inputNumber"),[]),r=p.useCallback(no(t,"offsetX","inputNumber"),[]),s=p.useCallback(no(t,"offsetY","inputNumber"),[]),v=p.useCallback(no(t,"color","colorPicker"),[]);return{blurChange:n,offsetXChange:r,offsetYChange:s,shadowColorChange:v,shadow:t}}function Ln(e,t,n){return e==="inputNumber"||e==="switch"||e==="select"?r=>{n[t]=r,Le.emit("pathStyleModify",{key:t,value:r})}:r=>{const s=`rgba(${r.metaColor.r.toFixed(0)}, ${r.metaColor.g.toFixed(0)}, ${r.metaColor.b.toFixed(0)}, ${r.metaColor.a})`;n[t]=s,Le.emit("pathStyleModify",{key:t,value:s})}}const sx=p.memo(function(){const t=p.useMemo(()=>({width:20,color:"#000",blur:0,offsetX:0,offsetY:0,shadowColor:"#000"}),[]),{blurChange:n,offsetXChange:r,offsetYChange:s,shadowColorChange:v}=Bh(t),C=p.useCallback(Ot(Ln("inputNumber","width",t)),[]),c=p.useCallback(Ot(Ln("colorPicker","color",t)),[]);return U.jsxs(U.Fragment,{children:[U.jsx(Gn,{title:"笔刷属性"}),U.jsx(vt,{title:"宽度",children:U.jsx(Vt,{onChange:C,min:1,max:200,defaultValue:t.width})}),U.jsx(vt,{title:"颜色",children:U.jsx(Dn,{onChange:c,defaultValue:t.color})}),U.jsx(vt,{title:"阴影模糊",children:U.jsx(Vt,{onChange:n,min:0,max:50,defaultValue:t.blur})}),U.jsx(vt,{title:"阴影偏移X",children:U.jsx(Vt,{onChange:r,min:0,max:200,defaultValue:t.offsetX})}),U.jsx(vt,{title:"阴影偏移Y",children:U.jsx(Vt,{onChange:s,min:0,max:200,defaultValue:t.offsetY})}),U.jsx(vt,{title:"阴影颜色",children:U.jsx(Dn,{onChange:v,defaultValue:t.shadowColor})})]})}),lx=p.memo(function(t){const n=cn(),r=ln(v=>v.element)[t.idx],s=p.useCallback(Ot((v,C)=>{r[t.name]=C,n(Un({idx:t.idx,data:JSON.parse(JSON.stringify(r))})),Le.emit("renderElement",{key:t.name,value:C,active:t.active})}),[]);return t.property?U.jsx(Dn,{...t.property,defaultValue:t.defaultValue,onChange:s}):U.jsx(Dn,{defaultValue:t.defaultValue,onChange:s})}),cx="_info_1dvxo_1",gi={info:cx},ux=p.memo(function(t){return U.jsxs(U.Fragment,{children:[U.jsx(vt,{title:"宽度",children:U.jsxs("span",{className:gi.info,children:[(t.width*t.scaleX).toFixed(2),"px"]})}),U.jsx(vt,{title:"高度",children:U.jsxs("span",{className:gi.info,children:[(t.height*t.scaleY).toFixed(2),"px"]})}),U.jsx(vt,{title:"旋转角度",children:U.jsxs("span",{className:gi.info,children:[t.angle,"deg"]})}),U.jsx(vt,{title:"偏移X",children:U.jsxs("span",{className:gi.info,children:[t.left,"px"]})}),U.jsx(vt,{title:"偏移Y",children:U.jsxs("span",{className:gi.info,children:[t.top,"px"]})})]})}),bu={"filter-controller":"_filter-controller_go27o_1","controller-item":"_controller-item_go27o_1"};let Cu,yu,Va;const dx=p.memo(function({idx:t,active:n}){const r=cn(),s=ln(o=>o.element)[t],v=p.useCallback(Ot((o,u)=>{clearTimeout(Cu),Cu=setTimeout(()=>{const a=u.target.parentNode.getAttribute("data-effect"),d=u.target.parentNode.getAttribute("data-idx");s.filters[d]=o?new mt.fabric.Image.filters[a]:null,r(Un({idx:d,data:JSON.parse(JSON.stringify(s))})),Le.emit("renderElement",{key:"filters",value:s.filters,active:n,applyFilters:!0})},50)}),[]),C=p.useMemo(()=>[{title:"反转",effect:"Invert",idx:1},{title:"复古",effect:"Sepia",idx:3},{title:"黑白",effect:"BlackWhite",idx:19},{title:"暗色1",effect:"Brownie",idx:4},{title:"暗色2",effect:"Vintage",idx:9},{title:"亮色1",effect:"Kodachrome",idx:18},{title:"亮色2",effect:"Technicolor",idx:14},{title:"亮色3",effect:"Polaroid",idx:15}],[]),c=p.useCallback(Ot(o=>{const{checked:u}=o.target,a=o.nativeEvent.target,d=a.getAttribute("data-effect"),g=a.getAttribute("data-idx"),l=a.getAttribute("data-propname"),m=a.getAttribute("data-default");s.filters[g]=u?new mt.fabric.Image.filters[d]({[l||d.toLowerCase()]:m||0}):null,clearTimeout(yu),yu=setTimeout(()=>{r(Un({idx:g,data:JSON.parse(JSON.stringify(s))})),Le.emit("renderElement",{key:"filters",value:s.filters,active:n,applyFilters:!0})},50)}),[]),i=p.useCallback(({idx:o,effect:u,propName:a})=>d=>{s.filters[o]&&(Va&&clearTimeout(Va),Va=setTimeout(()=>{s.filters[o][a||u.toLowerCase()]=d,r(Un({idx:o,data:JSON.parse(JSON.stringify(s))})),Le.emit("renderElement",{key:"filters",value:s.filters,active:n,applyFilters:!0})},200))},[]),f=p.useMemo(()=>[{title:"亮度",effect:"Brightness",idx:5,min:-1,max:1,step:.1},{title:"对比度",effect:"Contrast",idx:6,min:-1,max:1,step:.1},{title:"饱和度",effect:"Saturation",idx:7,min:-1,max:1,step:.1},{title:"振动",effect:"Vibrance",idx:8,min:-1,max:1,step:.1},{title:"色调",effect:"HueRotation",propName:"rotation",idx:21,min:-2,max:2,step:.05},{title:"噪点",effect:"Noise",idx:9,min:0,max:500,step:10},{title:"像素",effect:"Pixelate",propName:"blocksize",idx:10,min:2,max:20,step:1,default:4},{title:"模糊",effect:"Blur",idx:11,min:0,max:1,step:.1}],[]),h=p.useMemo(()=>f.reduce((o,u)=>(o[u.title]=i(u),o),{}),[f,i]);return U.jsxs("div",{className:bu["filter-controller"],children:[C.map((o,u)=>U.jsx(vt,{title:o.title,children:U.jsx(ri,{onChange:v,"data-idx":u,"data-effect":o.effect,defaultChecked:s.filters[1]})},o.title)),f.map(o=>U.jsx(vt,{title:o.title,children:U.jsxs("div",{className:bu["controller-item"],children:[U.jsx(Qs,{onChange:c,"data-idx":o.idx,"data-effect":o.effect,"data-propname":o.propName,"data-default":o.default,defaultChecked:!!s.filters[o.idx]}),U.jsx(yh,{onChange:h[o.title],disabled:!s.filters[o.idx],defaultValue:s.filters[o.idx]?s.filters[o.idx][o.propName?o.propName:o.effect.toLowerCase()]:o.default?o.default:0,step:o.step,min:o.min,max:o.max})]})},o.title))]})});var kh={exports:{}};(function(e){(function(){function t(g,l){document.addEventListener?g.addEventListener("scroll",l,!1):g.attachEvent("scroll",l)}function n(g){document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function l(){document.removeEventListener("DOMContentLoaded",l),g()}):document.attachEvent("onreadystatechange",function l(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",l),g())})}function r(g){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(g)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function s(g,l){g.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+l+";"}function v(g){var l=g.g.offsetWidth,m=l+100;return g.j.style.width=m+"px",g.i.scrollLeft=m,g.h.scrollLeft=g.h.scrollWidth+100,g.l!==l?(g.l=l,!0):!1}function C(g,l){function m(){var y=b;v(y)&&y.g.parentNode!==null&&l(y.l)}var b=g;t(g.h,m),t(g.i,m),v(g)}function c(g,l,m){l=l||{},m=m||window,this.family=g,this.style=l.style||"normal",this.weight=l.weight||"normal",this.stretch=l.stretch||"normal",this.context=m}var i=null,f=null,h=null,o=null;function u(g){return f===null&&(a(g)&&/Apple/.test(window.navigator.vendor)?(g=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),f=!!g&&603>parseInt(g[1],10)):f=!1),f}function a(g){return o===null&&(o=!!g.document.fonts),o}function d(g,l){var m=g.style,b=g.weight;if(h===null){var y=document.createElement("div");try{y.style.font="condensed 100px sans-serif"}catch{}h=y.style.font!==""}return[m,b,h?g.stretch:"","100px",l].join(" ")}c.prototype.load=function(g,l){var m=this,b=g||"BESbswy",y=0,S=l||3e3,w=new Date().getTime();return new Promise(function(x,E){if(a(m.context)&&!u(m.context)){var _=new Promise(function(I,A){function F(){new Date().getTime()-w>=S?A(Error(""+S+"ms timeout exceeded")):m.context.document.fonts.load(d(m,'"'+m.family+'"'),b).then(function(z){1<=z.length?I():setTimeout(F,25)},A)}F()}),$=new Promise(function(I,A){y=setTimeout(function(){A(Error(""+S+"ms timeout exceeded"))},S)});Promise.race([$,_]).then(function(){clearTimeout(y),x(m)},E)}else n(function(){function I(){var M;(M=H!=-1&&B!=-1||H!=-1&&j!=-1||B!=-1&&j!=-1)&&((M=H!=B&&H!=j&&B!=j)||(i===null&&(M=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),i=!!M&&(536>parseInt(M[1],10)||parseInt(M[1],10)===536&&11>=parseInt(M[2],10))),M=i&&(H==N&&B==N&&j==N||H==O&&B==O&&j==O||H==P&&B==P&&j==P)),M=!M),M&&(T.parentNode!==null&&T.parentNode.removeChild(T),clearTimeout(y),x(m))}function A(){if(new Date().getTime()-w>=S)T.parentNode!==null&&T.parentNode.removeChild(T),E(Error(""+S+"ms timeout exceeded"));else{var M=m.context.document.hidden;(M===!0||M===void 0)&&(H=F.g.offsetWidth,B=z.g.offsetWidth,j=D.g.offsetWidth,I()),y=setTimeout(A,50)}}var F=new r(b),z=new r(b),D=new r(b),H=-1,B=-1,j=-1,N=-1,O=-1,P=-1,T=document.createElement("div");T.dir="ltr",s(F,d(m,"sans-serif")),s(z,d(m,"serif")),s(D,d(m,"monospace")),T.appendChild(F.g),T.appendChild(z.g),T.appendChild(D.g),m.context.document.body.appendChild(T),N=F.g.offsetWidth,O=z.g.offsetWidth,P=D.g.offsetWidth,A(),C(F,function(M){H=M,I()}),s(F,d(m,'"'+m.family+'",sans-serif')),C(z,function(M){B=M,I()}),s(z,d(m,'"'+m.family+'",serif')),C(D,function(M){j=M,I()}),s(D,d(m,'"'+m.family+'",monospace'))})})},e.exports=c})()})(kh);var fx=kh.exports;const hx=S0(fx),Kt="https://qdabuliuq-1324656169.cos.ap-guangzhou.myqcloud.com/fontFamily/",gx={阿里妈妈刀隶体:`@font-face { 
  font-family: "阿里妈妈刀隶体";font-weight: 400;
  src: url("${Kt}AlimamaDaoLiTi.woff2") format("woff2"), url("${Kt}AlimamaDaoLiTi.woff") format("woff");
  font-display: swap;
}`,阿里妈妈方圆体:`@font-face { 
  font-family: "阿里妈妈方圆体";font-weight: 400;
  src: url("${Kt}AlimamaFangYuanTiVF-Thin.woff2") format("woff2"), url("${Kt}AlimamaFangYuanTiVF-Thin.woff") format("woff");
  font-display: swap;
}`,阿里妈妈灵动体:`@font-face { 
  font-family: "阿里妈妈灵动体";font-weight: 400;
  src: url("${Kt}AlimamaFangYuanTiVF-Thin.woff2") format("woff2"), url("${Kt}AlimamaFangYuanTiVF-Thin.woff") format("woff");
  font-display: swap;
}`,得意黑:`@font-face { 
  font-family: "得意黑";font-weight: 400;
  src: url("${Kt}SmileySans-Oblique.woff2") format("woff2"), url("${Kt}SmileySans-Oblique.woff") format("woff");
  font-display: swap;
}`,阿里妈妈东方大楷:`@font-face { 
  font-family: "阿里妈妈东方大楷";font-weight: 400;
  src: url("${Kt}AlimamaDongFangDaKai-Regular.woff2") format("woff2"), url("${Kt}AlimamaDongFangDaKai-Regular.woff") format("woff");
  font-display: swap;
}`,钉钉进步体:`@font-face { 
  font-family: "钉钉进步体";font-weight: 400;
  src: url("${Kt}DingTalk-JinBuTi.woff2") format("woff2"), url("${Kt}DingTalk-JinBuTi.woff") format("woff");
  font-display: swap;
}`,阿里妈妈数黑体:`@font-face { 
  font-family: "阿里妈妈数黑体";font-weight: 400;
  src: url("${Kt}AlimamaShuHeiTi-Bold.woff2") format("woff2"), url("${Kt}AlimamaShuHeiTi-Bold.woff") format("woff");
  font-display: swap;
}`,思源黑体:`@font-face { 
  font-family: "思源黑体";font-weight: 400;
  src: url("${Kt}Source_Han_Sans_SC_Normal_Normal.otf") format("opentype");
  font-display: swap;
}`,阿里巴巴普惠体:`@font-face { 
  font-family: "阿里巴巴普惠体";font-weight: 400;
  src: url("${Kt}Alibaba_PuHuiTi_2.0_45_Light_45_Light.ttf");
  font-display: swap;
}`,站酷仓耳渔阳体:`@font-face { 
  font-family: "站酷仓耳渔阳体";font-weight: 400;
  src: url("${Kt}TsangerYuYangT_W02_W02.ttf");
  font-display: swap;
}`},mx={"font-select":"_font-select_49vpi_1"},vx=p.memo(function(t){const[n,r]=Xo.useMessage(),[s,v]=p.useState(!1),C=cn(),c=ln(o=>o.element)[t.idx],i=p.useMemo(()=>[{value:"Times New Roman",label:"Times New Roman"},{value:"阿里妈妈刀隶体",label:"阿里妈妈刀隶体"},{value:"阿里妈妈方圆体",label:"阿里妈妈方圆体"},{value:"得意黑",label:"得意黑"},{value:"阿里妈妈东方大楷",label:"阿里妈妈东方大楷"},{value:"钉钉进步体",label:"钉钉进步体"},{value:"阿里妈妈数黑体",label:"阿里妈妈数黑体"},{value:"思源黑体",label:"思源黑体"},{value:"阿里巴巴普惠体",label:"阿里巴巴普惠体"},{value:"站酷仓耳渔阳体",label:"站酷仓耳渔阳体"}],[]),f=o=>new Promise((u,a)=>{const d=document.createElement("style");d.textContent=gx[o],document.head.appendChild(d),o!=="Times New Roman"?new hx(o).load(null,6e4).then(u).catch(a):u()}),h=p.useCallback(o=>{v(!0),f(o).then(()=>{c.fontFamily=o,C(Un({idx:t.idx,data:JSON.parse(JSON.stringify(c))})),Le.emit("renderElement",{key:"fontFamily",value:o,active:t.active})}).catch(()=>{n.open({type:"error",content:"字体加载失败，请重试"})}).finally(()=>{v(!1)})},[]);return U.jsxs("div",{className:mx["font-select"],children:[r,U.jsx(vh,{tip:"正在加载字体...",size:"large",spinning:s,fullscreen:!0}),U.jsx(vt,{title:"字体",children:U.jsx(Zn,{onChange:h,defaultValue:t.fontFamily,options:i})})]})}),px=p.memo(function(t){const n=cn(),r=p.useCallback(Ot(v=>{s[t.name]=v,n(Un({idx:t.idx,data:JSON.parse(JSON.stringify(s))})),Le.emit("renderElement",{key:t.name,value:v,active:t.active})}),[]),s=ln(v=>v.element)[t.idx];return t.property?U.jsx(Vt,{...t.property,defaultValue:t.defaultValue,onChange:r}):U.jsx(Vt,{defaultValue:t.defaultValue,onChange:r})}),bx={"pencil-panel":"_pencil-panel_1c8oc_1"},Cx=p.memo(function(){const t={width:1,color:"#000",dash:!1,blur:0,offsetX:0,offsetY:0,shadowColor:"#000",strokeLineCap:"round"},n=p.useCallback(Ot(Ln("inputNumber","width",t)),[]),r=p.useCallback(Ot(Ln("colorPicker","color",t)),[]),s=p.useCallback(Ot(Ln("select","strokeLineCap",t)),[]),v=p.useCallback(Ot(h=>{Le.emit("pathStyleModify",{key:"strokeDashArray",value:h?[10,20]:null}),t.dash=h}),[]),{blurChange:C,offsetXChange:c,offsetYChange:i,shadowColorChange:f}=Bh(t);return U.jsxs("div",{className:bx["pencil-panel"],children:[U.jsx(Gn,{title:"笔刷属性"}),U.jsx(vt,{title:"宽度",children:U.jsx(Vt,{onChange:n,min:1,max:200,defaultValue:t.width})}),U.jsx(vt,{title:"颜色",children:U.jsx(Dn,{onChange:r,defaultValue:t.color})}),U.jsx(vt,{title:"虚线",children:U.jsx(ri,{onChange:v,defaultChecked:t.dash})}),U.jsx(vt,{title:"阴影模糊",children:U.jsx(Vt,{onChange:C,min:0,max:50,defaultValue:t.blur})}),U.jsx(vt,{title:"阴影偏移X",children:U.jsx(Vt,{onChange:c,min:0,max:200,defaultValue:t.offsetX})}),U.jsx(vt,{title:"阴影偏移Y",children:U.jsx(Vt,{onChange:i,min:0,max:200,defaultValue:t.offsetY})}),U.jsx(vt,{title:"阴影颜色",children:U.jsx(Dn,{onChange:f,defaultValue:t.shadowColor})}),U.jsx(vt,{title:"画笔风格",children:U.jsx(Zn,{onChange:s,defaultValue:t.strokeLineCap,options:[{value:"round",label:"圆角"},{value:"square",label:"方形"}]})})]})}),yx=p.memo(function(t){const n=ln(v=>v.element)[t.idx],r=cn(),s=p.useCallback(Ot(v=>{n[t.name]=v,r(Un({idx:t.idx,data:JSON.parse(JSON.stringify(n))})),Le.emit("renderElement",{key:t.name,value:v,active:t.active})}),[]);return U.jsx(Zn,{defaultValue:t.defaultValue,style:{width:"100%"},onChange:s,...t.property})}),Sx=p.memo(function(t){const n=ln(v=>v.element)[t.idx],r=cn(),s=p.useCallback(Ot(v=>{n[t.name]=v,r(Un({idx:t.idx,data:JSON.parse(JSON.stringify(n))})),Le.emit("renderElement",{key:t.name,value:v,active:t.active})}),[]);return U.jsx(yh,{style:{width:"100%"},...t.property,onChange:s,defaultValue:t.defaultValue})}),wx=p.memo(function(){const t=p.useMemo(()=>({width:10,density:20,dotWidth:1,randomOpacity:!0,optimizeOverlapping:!1,color:"#000"}),[]),n=p.useCallback(Ot(Ln("inputNumber","width",t)),[]),r=p.useCallback(Ot(Ln("inputNumber","density",t)),[]),s=p.useCallback(Ot(Ln("inputNumber","dotWidth",t)),[]),v=p.useCallback(Ot(Ln("switch","randomOpacity",t)),[]),C=p.useCallback(Ot(Ln("switch","optimizeOverlapping",t)),[]),c=p.useCallback(Ot(Ln("colorPicker","color",t)),[]);return U.jsxs(U.Fragment,{children:[U.jsx(Gn,{title:"笔刷属性"}),U.jsx(vt,{title:"笔刷宽度",children:U.jsx(Vt,{onChange:n,min:1,max:200,defaultValue:t.width})}),U.jsx(vt,{title:"点密度",children:U.jsx(Vt,{onChange:r,min:1,max:200,defaultValue:t.density})}),U.jsx(vt,{title:"点宽度",children:U.jsx(Vt,{onChange:s,min:1,max:100,defaultValue:t.dotWidth})}),U.jsx(vt,{title:"随机透明",children:U.jsx(ri,{onChange:v,defaultChecked:t.randomOpacity})}),U.jsx(vt,{title:"启动重叠优化",children:U.jsx(ri,{onChange:C,defaultChecked:t.optimizeOverlapping})}),U.jsx(vt,{title:"颜色",children:U.jsx(Dn,{onChange:c,defaultValue:t.color})})]})}),xx=p.memo(function(t){const n=p.useCallback(Ot(v=>{r[t.name]=v,s(Un({idx:t.idx,data:JSON.parse(JSON.stringify(r))})),Le.emit("renderElement",{key:t.name,value:v,active:t.active})}),[]),r=ln(v=>v.element)[t.idx],s=cn();return U.jsx(ri,{defaultChecked:t.defaultValue,...t.property,onChange:n})});function Ex(){const e=ln(C=>C.active),t=ln(C=>C.element),[n,r]=p.useState(null),[s,v]=p.useState(-1);return p.useEffect(()=>{if(e){for(let C=0;C<t.length;C++)if(t[C]._data.id===e){v(C),r(t[C]);break}}else v(-1)},[e]),[s,e,n,t]}async function _x(e){const t=`../config/${e}.ts`;return(await Object.assign({"../config/circle.ts":()=>Wn(()=>import("./circle-BaM-wvMo.js"),__vite__mapDeps([0,1])),"../config/circlebrush.ts":()=>Wn(()=>import("./circlebrush-CLAkkh5n.js"),__vite__mapDeps([2,1])),"../config/common.ts":()=>Wn(()=>import("./common-DzlWlZ_w.js").then(r=>r.a),[]),"../config/image.ts":()=>Wn(()=>import("./image-Nk1P1jsV.js"),__vite__mapDeps([3,1])),"../config/pencilbrush.ts":()=>Wn(()=>import("./pencilbrush-Nk1P1jsV.js"),__vite__mapDeps([4,1])),"../config/rect.ts":()=>Wn(()=>import("./rect-0CoQEPmR.js"),__vite__mapDeps([5,1])),"../config/shape.ts":()=>Wn(()=>import("./shape-BaM-wvMo.js"),__vite__mapDeps([6,1])),"../config/spraybrush.ts":()=>Wn(()=>import("./spraybrush-CLAkkh5n.js"),__vite__mapDeps([7,1])),"../config/text.ts":()=>Wn(()=>import("./text-1CuOgK63.js"),[]),"../config/triangle.ts":()=>Wn(()=>import("./triangle-BaM-wvMo.js"),__vite__mapDeps([8,1]))})[t]()).default}const nn={"panel-component":"_panel-component_1c8jk_1","panel-container":"_panel-container_1c8jk_9","group-button":"_group-button_1c8jk_12","group-button-item":"_group-button-item_1c8jk_18"},Ox=p.memo(function(){const[t,n,r,s]=Ex(),[v,C]=p.useState(null),c=async()=>{const m=await _x(r._data.type);C(m)};p.useEffect(()=>{t!=-1?c():C(null)},[t]);const i=()=>{for(let m=0;m<s.length;m++)if(s[m]._data.id===n)return m;return-1},f=cn(),h=m=>{if(n){const b=i();if(b===-1)return;f(Un({idx:b,data:m}))}};p.useEffect(()=>(Le.addListener("modifiedElement",h),()=>{Le.removeAllListeners("modifiedElement")}),[n]);const o=p.useCallback(()=>{if(n){if(i()===-1)return;Le.emit("deleteElement",n)}},[n]),u=p.useCallback(()=>{Le.emit("updateElementLayout",{type:"bringToFront",active:n})},[n]),a=p.useCallback(()=>{Le.emit("updateElementLayout",{type:"sendToBack",active:n})},[n]),d=p.useCallback(()=>{Le.emit("updateElementLayout",{type:"bringForward",active:n})},[n]),g=p.useCallback(()=>{Le.emit("updateElementLayout",{type:"sendBackwards",active:n})},[n]),l=p.useCallback(m=>{Le.emit("updateElementPosition",{position:m,active:n})},[n]);return U.jsx("div",{className:nn["panel-component"],children:U.jsx("div",{className:nn["panel-container"],children:n==="PencilBrush"?U.jsx(Cx,{}):n==="SprayBrush"?U.jsx(wx,{}):n==="CircleBrush"?U.jsx(sx,{}):n===""||!v||!s[t]?U.jsx(ax,{}):U.jsxs(U.Fragment,{children:[U.jsx(Gn,{title:"基础属性"}),U.jsx(ux,{width:s[t].width,height:s[t].height,scaleX:s[t].scaleX,scaleY:s[t].scaleY,angle:s[t].angle,left:s[t].left,top:s[t].top}),U.jsx(Gn,{title:"自定义属性"}),v.map(m=>U.jsx(vt,{title:m.title,children:m.type==="inputNumber"?U.jsx(px,{...m,idx:t,active:n,defaultValue:r[m.name]}):m.type==="colorPicker"?U.jsx(lx,{...m,idx:t,active:n,defaultValue:r[m.name]}):m.type==="select"?U.jsx(yx,{...m,idx:t,active:n,defaultValue:r[m.name]}):m.type==="switch"?U.jsx(xx,{...m,idx:t,active:n,defaultValue:r[m.name]}):m.type==="slider"?U.jsx(Sx,{...m,idx:t,active:n,defaultValue:r[m.name]}):U.jsx(U.Fragment,{})},m.title)),s[t]._data.type==="text"?U.jsx(vx,{fontFamily:s[t].fontFamily,idx:t,active:n}):U.jsx(U.Fragment,{}),s[t]._data.type==="image"?U.jsxs(U.Fragment,{children:[U.jsx(Gn,{title:"滤镜属性"}),U.jsx(dx,{idx:t,active:n})]}):U.jsx(U.Fragment,{}),U.jsxs(yt.Group,{className:nn["group-button"],children:[U.jsx(dt,{placement:"top",title:"移动到顶层",children:U.jsx(yt,{onClick:u,className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_top"})})}),U.jsx(dt,{placement:"top",title:"移动到底层",children:U.jsx(yt,{onClick:a,className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_down"})})}),U.jsx(dt,{placement:"top",title:"上移一层",children:U.jsx(yt,{onClick:d,className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_to_top"})})}),U.jsx(dt,{placement:"top",title:"下移一层",children:U.jsx(yt,{onClick:g,className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_to_down"})})})]}),U.jsxs(yt.Group,{className:nn["group-button"],children:[U.jsx(dt,{placement:"top",title:"水平居左",children:U.jsx(yt,{onClick:()=>l("align-left"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-left"})})}),U.jsx(dt,{placement:"top",title:"水平居中",children:U.jsx(yt,{onClick:()=>l("align-center"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-center"})})}),U.jsx(dt,{placement:"top",title:"水平居右",children:U.jsx(yt,{onClick:()=>l("align-right"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-right"})})}),U.jsx(dt,{placement:"top",title:"垂直水平居中",children:U.jsx(yt,{onClick:()=>l("align-justify"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-justify"})})}),U.jsx(dt,{placement:"top",title:"垂直居上",children:U.jsx(yt,{onClick:()=>l("align-top"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-top"})})}),U.jsx(dt,{placement:"top",title:"垂直居中",children:U.jsx(yt,{onClick:()=>l("align-vertically"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-vertically"})})}),U.jsx(dt,{placement:"top",title:"垂直居下",children:U.jsx(yt,{onClick:()=>l("align-bottom"),className:nn["group-button-item"],icon:U.jsx("i",{className:"iconfont i_align-bottom"})})})]}),U.jsx(yt,{block:!0,type:"primary",danger:!0,onClick:o,children:"删除元素"})]})},t)})}),Su={"edit-page":"_edit-page_ou4m2_1","edit-container":"_edit-container_ou4m2_7"},Tx=p.memo(function(){return sessionStorage.setItem("canvasInfo",JSON.stringify({width:500,height:600})),sessionStorage.setItem("isOpe","false"),U.jsxs("div",{className:Su["edit-page"],children:[U.jsx(W3,{}),U.jsxs("div",{className:Su["edit-container"],children:[U.jsx(ix,{}),U.jsx(H3,{}),U.jsx(Ox,{})]})]})});export{Tx as default};
